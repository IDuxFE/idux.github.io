import{I as H,a as N}from"./index-61b83fb0.js";import{_ as M,I as Q}from"./GlobalCodeBox-554dcd4d.js";import{w as q,x as y,r as m,m as j,c as G,A as J,z as c,aa as i,ab as D,ac as u,af as a,l as O,ak as h,aj as v,ae as E,ad as n,F as U,at as K,au as X,Q as Y,as as z,ao as Z,an as nn,H as I,I as $}from"./vendor-96982764.js";import{n as an,o as x,t as sn,p as C,m as S,c as P,_ as A,a as W,k as tn}from"./index-1a3b5fbe.js";import{I as en}from"./index-7060e564.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function T(t,s,o){o=an(o);const e=o.registry,l=o.state;let r;const d=p=>{F(p),e.on(p)},k=p=>{e.off(p)},b=p=>{r=q([()=>x(t),()=>x(p)],([g,V])=>{g&&V&&o.connect(g,V)},{immediate:!0,flush:"post"})},f=q(()=>x(t),(p,g)=>{g&&k(g),p&&d(p)},{immediate:!0,flush:"post"}),_=p=>{var g;(g=s==null?void 0:s.onDragEnter)==null||g.call(s,p,l.current.activeTransform)},B=p=>{var g;(g=s==null?void 0:s.onDragOver)==null||g.call(s,p,l.current.activeTransform)},w=p=>{var g;(g=s==null?void 0:s.onDragLeave)==null||g.call(s,p,l.current.activeTransform)},R=p=>{var g;(g=s==null?void 0:s.onDrop)==null||g.call(s,p,l.current.activeTransform)},F=p=>{l.current.isNative&&(e.on(p,"dragenter",_),e.on(p,"dragover",B),e.on(p,"dragleave",w),e.on(p,"drop",R))},L=()=>{k(x(t)),f(),r()};return sn(L),{connect:b,stop:L}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const on={backend:{type:String,default:"native"},boundary:{type:[String,Object],default:"parent"},disabled:{type:Boolean,default:!1},free:{type:Boolean,default:!1},is:{type:[String,Object],default:"div"},onDragStart:[Function,Array],onDrag:[Function,Array],onDragEnd:[Function,Array]},cn={width:"fit-content",height:"fit-content"},pn=y({name:"CdkDraggable",props:on,setup(t,{slots:s}){const o=m(),e=(f,_)=>S(t.onDragStart,f,_),l=(f,_)=>S(t.onDrag,f,_),r=(f,_)=>S(t.onDragEnd,f,_),d=j({boundary:t.boundary,free:t.free,backend:t.backend,onDragStart:e,onDrag:l,onDragEnd:r}),{dragging:k}=C(o,d),b=G(()=>J({"cdk-draggable":!0,"cdk-draggable-disabled":t.disabled,"cdk-draggable-dragging":k.value}));return()=>{const f=t.is;return c(f,{ref:o,class:b.value,style:cn},s)}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const ln=pn,un={ref:"contextRef",class:"test-block"},rn=y({__name:"Basic",setup(t){const s=m(),o=m();return C(s,{free:!0}),C(o,{free:!0,boundary:document.documentElement}),(e,l)=>{const r=P,d=ln;return i(),D("div",un,[c(r,{ref_key:"dragRef1",ref:s},{default:u(()=>[a("局部拖放")]),_:1},512),c(r,{ref_key:"dragRef2",ref:o},{default:u(()=>[a("全屏拖放")]),_:1},512),c(d,{free:""},{default:u(()=>[c(r,null,{default:u(()=>[a(" 局部拖放(组件方式）")]),_:1})]),_:1})],512)}}});const kn=A(rn,[["__scopeId","data-v-8aca252e"]]),dn=y({name:"Basic",components:{"raw-demo":kn},setup(){const{lang:t}=O(W);return{lang:t}}}),gn={key:0},fn={key:1},mn=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("template")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),a(),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("contextRef"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("test-block"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token comment"},"<!-- use composition api-->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("IxButton")]),a(),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("dragRef1"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("局部拖放"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("IxButton")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("IxButton")]),a(),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("dragRef2"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("全屏拖放"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("IxButton")]),n("span",{class:"token punctuation"},">")]),a(`

    `),n("span",{class:"token comment"},"<!--or use component -->"),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("CdkDraggable")]),a(),n("span",{class:"token attr-name"},"free"),n("span",{class:"token punctuation"},">")]),a(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("IxButton")]),n("span",{class:"token punctuation"},">")]),a(" 局部拖放(组件方式）"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("IxButton")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("CdkDraggable")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("template")]),n("span",{class:"token punctuation"},">")]),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("script")]),a(),n("span",{class:"token attr-name"},"setup"),a(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[a(`
`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" ref "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'vue'"),a(`

`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" useDraggable "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'@idux/cdk/drag-drop'"),a(`

`),n("span",{class:"token keyword"},"const"),a(" dragRef1 "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token keyword"},"const"),a(" dragRef2 "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`

`),n("span",{class:"token function"},"useDraggable"),n("span",{class:"token punctuation"},"("),a("dragRef1"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token punctuation"},"{"),a(),n("span",{class:"token literal-property property"},"free"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token boolean"},"true"),a(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token function"},"useDraggable"),n("span",{class:"token punctuation"},"("),a("dragRef2"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token punctuation"},"{"),a(),n("span",{class:"token literal-property property"},"free"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token literal-property property"},"boundary"),n("span",{class:"token operator"},":"),a(" document"),n("span",{class:"token punctuation"},"."),a("documentElement "),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("script")]),n("span",{class:"token punctuation"},">")]),a(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("style")]),a(),n("span",{class:"token attr-name"},"scoped"),a(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("less"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token style"},[n("span",{class:"token language-css"},[a(`
`),n("span",{class:"token selector"},".test-block"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),a(" 400px"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),a(" 200px"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token property"},"padding"),n("span",{class:"token punctuation"},":"),a(" 30px"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token property"},"border"),n("span",{class:"token punctuation"},":"),a(" 1px dashed"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`

`),n("span",{class:"token selector"},".cdk-draggable"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token property"},"cursor"),n("span",{class:"token punctuation"},":"),a(" move"),n("span",{class:"token punctuation"},";"),a(`

  `),n("span",{class:"token selector"},"> *"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token property"},"cursor"),n("span",{class:"token punctuation"},":"),a(" move"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token punctuation"},"}"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("style")]),n("span",{class:"token punctuation"},">")]),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("style")]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token style"},[n("span",{class:"token language-css"},[a(`
`),n("span",{class:"token selector"},".ix-button"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token property"},"transition"),n("span",{class:"token punctuation"},":"),a(" none"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("style")]),n("span",{class:"token punctuation"},">")]),a(`
`)])])],-1);function Dn(t,s,o,e,l,r){const d=h("raw-demo"),k=M;return i(),v(k,{packageName:"cdk",componentName:"drag-drop",demoName:"Basic",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%20ref%3D%22contextRef%22%20class%3D%22test-block%22%3E%0A%20%20%20%20%3C!--%20use%20composition%20api--%3E%0A%20%20%20%20%3CIxButton%20ref%3D%22dragRef1%22%3E%E5%B1%80%E9%83%A8%E6%8B%96%E6%94%BE%3C%2FIxButton%3E%0A%20%20%20%20%3CIxButton%20ref%3D%22dragRef2%22%3E%E5%85%A8%E5%B1%8F%E6%8B%96%E6%94%BE%3C%2FIxButton%3E%0A%0A%20%20%20%20%3C!--or%20use%20component%20--%3E%0A%20%20%20%20%3CCdkDraggable%20free%3E%0A%20%20%20%20%20%20%3CIxButton%3E%20%E5%B1%80%E9%83%A8%E6%8B%96%E6%94%BE(%E7%BB%84%E4%BB%B6%E6%96%B9%E5%BC%8F%EF%BC%89%3C%2FIxButton%3E%0A%20%20%20%20%3C%2FCdkDraggable%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20useDraggable%20%7D%20from%20'%40idux%2Fcdk%2Fdrag-drop'%0A%0Aconst%20dragRef1%20%3D%20ref()%0Aconst%20dragRef2%20%3D%20ref()%0A%0AuseDraggable(dragRef1%2C%20%7B%20free%3A%20true%20%7D)%0AuseDraggable(dragRef2%2C%20%7B%20free%3A%20true%2C%20boundary%3A%20document.documentElement%20%7D)%0A%3C%2Fscript%3E%0A%0A%3Cstyle%20scoped%20lang%3D%22less%22%3E%0A.test-block%20%7B%0A%20%20width%3A%20400px%3B%0A%20%20height%3A%20200px%3B%0A%20%20padding%3A%2030px%3B%0A%20%20border%3A%201px%20dashed%3B%0A%7D%0A%0A.cdk-draggable%20%7B%0A%20%20cursor%3A%20move%3B%0A%0A%20%20%3E%20*%20%7B%0A%20%20%20%20cursor%3A%20move%3B%0A%20%20%7D%0A%7D%0A%3C%2Fstyle%3E%0A%3Cstyle%3E%0A.ix-button%20%7B%0A%20%20transition%3A%20none%3B%0A%7D%0A%3C%2Fstyle%3E%0A",title:t.lang==="zh"?"自由拖拽":"Basic usage"},{description:u(()=>[t.lang==="zh"?(i(),D("p",gn,"最简单的用法。")):E("",!0),t.lang==="en"?(i(),D("p",fn,"The simplest usage.")):E("",!0)]),rawCode:u(()=>[c(d)]),highlightCode:u(()=>[mn]),_:1},8,["title"])}const _n=A(dn,[["render",Dn]]),An=t=>(K("data-v-250a5631"),t=t(),X(),t),hn=An(()=>n("br",null,null,-1)),bn=y({__name:"MultipleTargets",setup(t){const s=m(),o=m(),e=m(),l=m();return C(s,{free:!0,boundary:null}),T(o).connect(s),T(e).connect(s),T(l).connect(s),(r,d)=>{const k=P;return i(),D(U,null,[n("div",{ref_key:"targetRef1",ref:o,class:"test-block"},null,512),n("div",{ref_key:"targetRef2",ref:e,class:"test-block"},null,512),n("div",{ref_key:"targetRef3",ref:l,class:"test-block"},null,512),hn,c(k,{ref_key:"dragRef",ref:s},{default:u(()=>[a("局部拖放")]),_:1},512)],64)}}});const yn=A(bn,[["__scopeId","data-v-250a5631"]]),vn=y({name:"MultipleTargets",components:{"raw-demo":yn},setup(){const{lang:t}=O(W);return{lang:t}}}),En={key:0},Bn={key:1},Cn=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("template")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),a(),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("targetRef1"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("test-block"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),a(),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("targetRef2"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("test-block"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),a(),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("targetRef3"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("test-block"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("br")]),a(),n("span",{class:"token punctuation"},"/>")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("IxButton")]),a(),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("dragRef"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("局部拖放"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("IxButton")]),n("span",{class:"token punctuation"},">")]),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("template")]),n("span",{class:"token punctuation"},">")]),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("script")]),a(),n("span",{class:"token attr-name"},"setup"),a(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[a(`
`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" ref "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'vue'"),a(`

`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" useDraggable"),n("span",{class:"token punctuation"},","),a(" useDroppable "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'@idux/cdk/drag-drop'"),a(`

`),n("span",{class:"token keyword"},"const"),a(" dragRef "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token keyword"},"const"),a(" targetRef1 "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token keyword"},"const"),a(" targetRef2 "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token keyword"},"const"),a(" targetRef3 "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(`

`),n("span",{class:"token function"},"useDraggable"),n("span",{class:"token punctuation"},"("),a("dragRef"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token punctuation"},"{"),a(),n("span",{class:"token literal-property property"},"free"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),a(),n("span",{class:"token literal-property property"},"boundary"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token keyword"},"null"),a(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token function"},"useDroppable"),n("span",{class:"token punctuation"},"("),a("targetRef1"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"connect"),n("span",{class:"token punctuation"},"("),a("dragRef"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token function"},"useDroppable"),n("span",{class:"token punctuation"},"("),a("targetRef2"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"connect"),n("span",{class:"token punctuation"},"("),a("dragRef"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token function"},"useDroppable"),n("span",{class:"token punctuation"},"("),a("targetRef3"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"connect"),n("span",{class:"token punctuation"},"("),a("dragRef"),n("span",{class:"token punctuation"},")"),a(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("script")]),n("span",{class:"token punctuation"},">")]),a(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("style")]),a(),n("span",{class:"token attr-name"},"scoped"),a(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("less"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token style"},[n("span",{class:"token language-css"},[a(`
`),n("span",{class:"token selector"},".test-block"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token property"},"display"),n("span",{class:"token punctuation"},":"),a(" inline-block"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token property"},"margin-right"),n("span",{class:"token punctuation"},":"),a(" 10px"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),a(" 200px"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),a(" 200px"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token property"},"border"),n("span",{class:"token punctuation"},":"),a(" 1px dashed"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`

`),n("span",{class:"token selector"},".cdk-draggable"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token property"},"cursor"),n("span",{class:"token punctuation"},":"),a(" move"),n("span",{class:"token punctuation"},";"),a(`

  `),n("span",{class:"token selector"},"> *"),a(),n("span",{class:"token punctuation"},"{"),a(`
    `),n("span",{class:"token property"},"cursor"),n("span",{class:"token punctuation"},":"),a(" move"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token punctuation"},"}"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("style")]),n("span",{class:"token punctuation"},">")]),a(`
`)])])],-1);function xn(t,s,o,e,l,r){const d=h("raw-demo"),k=M;return i(),v(k,{packageName:"cdk",componentName:"drag-drop",demoName:"MultipleTargets",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%20ref%3D%22targetRef1%22%20class%3D%22test-block%22%3E%20%3C%2Fdiv%3E%0A%20%20%3Cdiv%20ref%3D%22targetRef2%22%20class%3D%22test-block%22%3E%20%3C%2Fdiv%3E%0A%20%20%3Cdiv%20ref%3D%22targetRef3%22%20class%3D%22test-block%22%3E%20%3C%2Fdiv%3E%0A%20%20%3Cbr%20%2F%3E%0A%20%20%3CIxButton%20ref%3D%22dragRef%22%3E%E5%B1%80%E9%83%A8%E6%8B%96%E6%94%BE%3C%2FIxButton%3E%0A%3C%2Ftemplate%3E%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20useDraggable%2C%20useDroppable%20%7D%20from%20'%40idux%2Fcdk%2Fdrag-drop'%0A%0Aconst%20dragRef%20%3D%20ref()%0Aconst%20targetRef1%20%3D%20ref()%0Aconst%20targetRef2%20%3D%20ref()%0Aconst%20targetRef3%20%3D%20ref()%0A%0AuseDraggable(dragRef%2C%20%7B%20free%3A%20true%2C%20boundary%3A%20null%20%7D)%0AuseDroppable(targetRef1).connect(dragRef)%0AuseDroppable(targetRef2).connect(dragRef)%0AuseDroppable(targetRef3).connect(dragRef)%0A%3C%2Fscript%3E%0A%0A%3Cstyle%20scoped%20lang%3D%22less%22%3E%0A.test-block%20%7B%0A%20%20display%3A%20inline-block%3B%0A%20%20margin-right%3A%2010px%3B%0A%20%20width%3A%20200px%3B%0A%20%20height%3A%20200px%3B%0A%20%20border%3A%201px%20dashed%3B%0A%7D%0A%0A.cdk-draggable%20%7B%0A%20%20cursor%3A%20move%3B%0A%0A%20%20%3E%20*%20%7B%0A%20%20%20%20cursor%3A%20move%3B%0A%20%20%7D%0A%7D%0A%3C%2Fstyle%3E%0A",title:t.lang==="zh"?"多目标的自由拖拽":"MultipleTargets usage"},{description:u(()=>[t.lang==="zh"?(i(),D("p",En,"可为拖拽元素指定多个放置区域")):E("",!0),t.lang==="en"?(i(),D("p",Bn,"The simplest usage.")):E("",!0)]),rawCode:u(()=>[c(d)]),highlightCode:u(()=>[Cn]),_:1},8,["title"])}const wn=A(vn,[["render",xn]]),Rn=y({__name:"WithHandle",setup(t){const s=m(null),o=m(null),e=m(!1),l=G(()=>e.value?"native":"pointer"),r=j({handle:o,free:!0,backend:l.value});return C(s,r),Y(()=>{r.backend=l.value}),(d,k)=>{const b=en,f=P,_=tn;return i(),D("div",{ref_key:"dragRef",ref:s,class:"test-block"},[c(_,null,{default:u(()=>[c(b,{checked:e.value,"onUpdate:checked":k[0]||(k[0]=B=>e.value=B),labels:["原生","模拟"]},null,8,["checked"]),c(f,{ref_key:"dragHandleRef",ref:o},{default:u(()=>[a("通过把手拖动")]),_:1},512)]),_:1})],512)}}});const Fn=A(Rn,[["__scopeId","data-v-9050c806"]]),In=y({name:"WithHandle",components:{"raw-demo":Fn},setup(){const{lang:t}=O(W);return{lang:t}}}),$n={key:0},Sn=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("template")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("div")]),a(),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("dragRef"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("test-block"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("IxSpace")]),n("span",{class:"token punctuation"},">")]),a(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("IxSwitch")]),a(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),a("checked")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("checkedRef"),n("span",{class:"token punctuation"},'"')]),a(),n("span",{class:"token attr-name"},":labels"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("['原生', '模拟']"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("IxSwitch")]),n("span",{class:"token punctuation"},">")]),a(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("IxButton")]),a(),n("span",{class:"token attr-name"},"ref"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("dragHandleRef"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),a("通过把手拖动"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("IxButton")]),n("span",{class:"token punctuation"},">")]),a(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("IxSpace")]),n("span",{class:"token punctuation"},">")]),a(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("div")]),n("span",{class:"token punctuation"},">")]),a(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("template")]),n("span",{class:"token punctuation"},">")]),a(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("script")]),a(),n("span",{class:"token attr-name"},"setup"),a(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[a(`
`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" computed"),n("span",{class:"token punctuation"},","),a(" reactive"),n("span",{class:"token punctuation"},","),a(" ref"),n("span",{class:"token punctuation"},","),a(" watchEffect "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'vue'"),a(`

`),n("span",{class:"token keyword"},"import"),a(),n("span",{class:"token punctuation"},"{"),a(" DnDBackendType"),n("span",{class:"token punctuation"},","),a(" useDraggable "),n("span",{class:"token punctuation"},"}"),a(),n("span",{class:"token keyword"},"from"),a(),n("span",{class:"token string"},"'@idux/cdk/drag-drop'"),a(`

`),n("span",{class:"token keyword"},"const"),a(" dragRef "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token keyword"},"const"),a(" dragHandleRef "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"null"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token keyword"},"const"),a(" checkedRef "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},")"),a(`
`),n("span",{class:"token keyword"},"const"),a(" currBackend "),n("span",{class:"token operator"},"="),a(" computed"),n("span",{class:"token operator"},"<"),a("DnDBackendType"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"("),a("checkedRef"),n("span",{class:"token punctuation"},"."),a("value "),n("span",{class:"token operator"},"?"),a(),n("span",{class:"token string"},"'native'"),a(),n("span",{class:"token operator"},":"),a(),n("span",{class:"token string"},"'pointer'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),a(`

`),n("span",{class:"token keyword"},"const"),a(" options "),n("span",{class:"token operator"},"="),a(),n("span",{class:"token function"},"reactive"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token literal-property property"},"handle"),n("span",{class:"token operator"},":"),a(" dragHandleRef"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token literal-property property"},"free"),n("span",{class:"token operator"},":"),a(),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},","),a(`
  `),n("span",{class:"token literal-property property"},"backend"),n("span",{class:"token operator"},":"),a(" currBackend"),n("span",{class:"token punctuation"},"."),a("value"),n("span",{class:"token punctuation"},","),a(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`

`),n("span",{class:"token function"},"useDraggable"),n("span",{class:"token punctuation"},"("),a("dragRef"),n("span",{class:"token punctuation"},","),a(" options"),n("span",{class:"token punctuation"},")"),a(`

`),n("span",{class:"token function"},"watchEffect"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),a(),n("span",{class:"token operator"},"=>"),a(),n("span",{class:"token punctuation"},"{"),a(`
  options`),n("span",{class:"token punctuation"},"."),a("backend "),n("span",{class:"token operator"},"="),a(" currBackend"),n("span",{class:"token punctuation"},"."),a(`value
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),a(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("script")]),n("span",{class:"token punctuation"},">")]),a(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),a("style")]),a(),n("span",{class:"token attr-name"},"scoped"),a(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),a("less"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token style"},[n("span",{class:"token language-css"},[a(`
`),n("span",{class:"token selector"},".test-block"),a(),n("span",{class:"token punctuation"},"{"),a(`
  `),n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),a(" 180px"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),a(" 130px"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token property"},"padding"),n("span",{class:"token punctuation"},":"),a(" 30px"),n("span",{class:"token punctuation"},";"),a(`
  `),n("span",{class:"token property"},"border"),n("span",{class:"token punctuation"},":"),a(" 1px dashed"),n("span",{class:"token punctuation"},";"),a(`
`),n("span",{class:"token punctuation"},"}"),a(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),a("style")]),n("span",{class:"token punctuation"},">")]),a(`
`)])])],-1);function Tn(t,s,o,e,l,r){const d=h("raw-demo"),k=M;return i(),v(k,{packageName:"cdk",componentName:"drag-drop",demoName:"WithHandle",code:"%3Ctemplate%3E%0A%20%20%3Cdiv%20ref%3D%22dragRef%22%20class%3D%22test-block%22%3E%0A%20%20%20%20%3CIxSpace%3E%0A%20%20%20%20%20%20%3CIxSwitch%20v-model%3Achecked%3D%22checkedRef%22%20%3Alabels%3D%22%5B'%E5%8E%9F%E7%94%9F'%2C%20'%E6%A8%A1%E6%8B%9F'%5D%22%3E%3C%2FIxSwitch%3E%0A%20%20%20%20%20%20%3CIxButton%20ref%3D%22dragHandleRef%22%3E%E9%80%9A%E8%BF%87%E6%8A%8A%E6%89%8B%E6%8B%96%E5%8A%A8%3C%2FIxButton%3E%0A%20%20%20%20%3C%2FIxSpace%3E%0A%20%20%3C%2Fdiv%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20computed%2C%20reactive%2C%20ref%2C%20watchEffect%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20DnDBackendType%2C%20useDraggable%20%7D%20from%20'%40idux%2Fcdk%2Fdrag-drop'%0A%0Aconst%20dragRef%20%3D%20ref(null)%0Aconst%20dragHandleRef%20%3D%20ref(null)%0Aconst%20checkedRef%20%3D%20ref(false)%0Aconst%20currBackend%20%3D%20computed%3CDnDBackendType%3E(()%20%3D%3E%20(checkedRef.value%20%3F%20'native'%20%3A%20'pointer'))%0A%0Aconst%20options%20%3D%20reactive(%7B%0A%20%20handle%3A%20dragHandleRef%2C%0A%20%20free%3A%20true%2C%0A%20%20backend%3A%20currBackend.value%2C%0A%7D)%0A%0AuseDraggable(dragRef%2C%20options)%0A%0AwatchEffect(()%20%3D%3E%20%7B%0A%20%20options.backend%20%3D%20currBackend.value%0A%7D)%0A%3C%2Fscript%3E%0A%0A%3Cstyle%20scoped%20lang%3D%22less%22%3E%0A.test-block%20%7B%0A%20%20width%3A%20180px%3B%0A%20%20height%3A%20130px%3B%0A%20%20padding%3A%2030px%3B%0A%20%20border%3A%201px%20dashed%3B%0A%7D%0A%3C%2Fstyle%3E%0A",title:t.lang==="zh"?"通过把手的自由拖拽":"handle usage"},{description:u(()=>[t.lang==="zh"?(i(),D("p",$n,"可通过把手对整体进行拖拽")):E("",!0),t.lang==="en"?(i(),D(U,{key:1},[],64)):E("",!0)]),rawCode:u(()=>[c(d)]),highlightCode:u(()=>[Sn]),_:1},8,["title"])}const qn=A(In,[["render",Tn]]),Hn={},Nn={class:"markdown site-doc-api"},Mn=n("h3",{id:"useDraggable"},[n("span",null,"useDraggable"),n("a",{onclick:"window.location.hash = 'useDraggable'",class:"anchor"},"#")],-1),On=z(`<pre class="language-ts"><code><span class="token comment">/**
 * 让一个元素可以被拖拽
 *
 * @param source 可拖拽的元素
 * @param options 选项
 * @param context 默认挂载window为上下文管理载点
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useDraggable</span><span class="token punctuation">(</span>
  source<span class="token operator">:</span> MaybeElementRef<span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> DraggableOptions<span class="token punctuation">,</span>
  context<span class="token operator">?</span><span class="token operator">:</span> DnDContext<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 当前是否可以放置到目标</span>
    canDrop<span class="token operator">:</span> ComputedRef<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token comment">// 当前是否正在拖拽</span>
    dragging<span class="token operator">:</span> ComputedRef<span class="token operator">&lt;</span><span class="token builtin">boolean</span><span class="token operator">&gt;</span>
    <span class="token comment">// 当前拖动中的位置信息</span>
    position<span class="token operator">:</span> ComputedRef<span class="token operator">&lt;</span>DragPosition<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token comment">//重置拖拽</span>
    <span class="token function-variable function">reset</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token comment">// 取消可拖拽设置</span>
    <span class="token function-variable function">stop</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">DraggableOptions</span> <span class="token punctuation">{</span>
  <span class="token comment">/**
   * 拖拽底层实现
   * * \`native\`: using html5 drag-drop api
   * * \`pointer\`: using mouse/touch position to simulate
   */</span>
  backend<span class="token operator">?</span><span class="token operator">:</span> DnDBackendType
  <span class="token comment">/**
   * 作为限制拖拽范围的元素，需自定义droppable时需指定为空
   */</span>
  boundary<span class="token operator">?</span><span class="token operator">:</span> BoundaryType
  <span class="token comment">/**
   * 指定是否可以拖拽
   */</span>
  free<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  <span class="token comment">/**
   * 拖拽把手
   */</span>
  handle<span class="token operator">?</span><span class="token operator">:</span> MaybeElementRef
  <span class="token comment">/**
   * 限制拖动轴 **仅在 backend=\`pointer\` 下可用**
   * * \`x\` 只允许左右拖动
   * * \`y\` 只允许上下拖动
   */</span>
  lockAxis<span class="token operator">?</span><span class="token operator">:</span> LockAxisType
  
  onDragStart<span class="token operator">?</span><span class="token operator">:</span> DnDEvent
  onDrag<span class="token operator">?</span><span class="token operator">:</span> DnDEvent
  onDragEnd<span class="token operator">?</span><span class="token operator">:</span> DnDEvent
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">DnDPosition</span> <span class="token punctuation">{</span>
  x<span class="token operator">:</span> <span class="token builtin">number</span>
  y<span class="token operator">:</span> <span class="token builtin">number</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">type</span> <span class="token class-name">DnDEvent</span> <span class="token operator">=</span> <span class="token punctuation">(</span>evt<span class="token operator">:</span> DragEvent<span class="token punctuation">,</span> position<span class="token operator">?</span><span class="token operator">:</span> DragPosition<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
</code></pre>`,1),zn=n("h3",{id:"useDroppable"},[n("span",null,"useDroppable"),n("a",{onclick:"window.location.hash = 'useDroppable'",class:"anchor"},"#")],-1),Pn=z(`<pre class="language-ts"><code><span class="token comment">/**
 * 将一个元素置为可放置区域
 *
 * @param target 区域元素
 * @param options 选项
 * @param context 默认挂载window为上下文管理载点
 */</span>
<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">useDroppable</span><span class="token punctuation">(</span>
  target<span class="token operator">:</span> MaybeElementRef<span class="token punctuation">,</span>
  options<span class="token operator">?</span><span class="token operator">:</span> DroppableOptions<span class="token punctuation">,</span>
  context<span class="token operator">?</span><span class="token operator">:</span> DnDContext<span class="token punctuation">,</span>
<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">/**
     * 连接拖拽源和放置目标
     * @param source
     */</span>
    <span class="token function-variable function">connect</span><span class="token operator">:</span> <span class="token punctuation">(</span>source<span class="token operator">:</span> MaybeElementRef<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
    <span class="token comment">/**
     * 取消连接拖拽源和放置目标
     */</span>
    <span class="token function-variable function">stop</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  <span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">DroppableOptions</span> <span class="token punctuation">{</span>
  onDragEnter<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>evt<span class="token operator">:</span> DragEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  onDragOver<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>evt<span class="token operator">:</span> DragEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  onDragLeave<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>evt<span class="token operator">:</span> DragEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  onDrop<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>evt<span class="token operator">:</span> DragEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span></code></pre>`,1),Wn=n("h3",{id:"CdkDraggable"},[n("span",null,"CdkDraggable"),n("a",{onclick:"window.location.hash = 'CdkDraggable'",class:"anchor"},"#")],-1),Ln=n("h4",{id:"DraggableProps"},[n("span",null,"DraggableProps"),n("a",{onclick:"window.location.hash = 'DraggableProps'",class:"anchor"},"#")],-1),Vn=z("<table><thead><tr><th>名称</th><th>说明</th><th>类型</th><th>默认值</th><th>全局配置</th><th>备注</th></tr></thead><tbody><tr><td><code>backend</code></td><td>拖拽底层实现</td><td><code>&#39;native&#39;</code> | <code>&#39;pointer&#39;</code></td><td><code>&#39;native&#39;</code></td><td></td><td><em><code>native</code>: 基于HTML5 drag-drop 原生api封装<br></em><code>pointer</code>: 用于支持触摸屏及鼠标事件模拟实现的拖拽</td></tr><tr><td><code>boundary</code></td><td>指定可拖放区域</td><td><code>BoundaryType</code></td><td><code>parent</code></td><td>-</td><td>需要使用<code>useDropabble()</code>时，请置<code>null</code></td></tr><tr><td><code>disabled</code></td><td>是否禁用</td><td><code>boolean</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>free</code></td><td>是否自由拖放</td><td><code>boolean</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>is</code></td><td>拖拽的元素或者组件</td><td><code>string | Component</code></td><td><code>&#39;div&#39;</code></td><td>-</td><td></td></tr><tr><td><code>onDragStart</code></td><td>拖拽开始事件</td><td><code>DnDEvent</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onDrag</code></td><td>拖拽过程中事件</td><td><code>DnDEvent</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onDragEnd</code></td><td>拖拽结束事件</td><td><code>DnDEvent</code></td><td>-</td><td>-</td><td>-</td></tr></tbody></table>",1);function jn(t,s){const o=N,e=H;return i(),D("section",Nn,[c(e,{class:"site-anchor",affix:"",offset:16},{default:u(()=>[c(o,{href:"#useDraggable",title:"useDraggable"}),c(o,{href:"#useDroppable",title:"useDroppable"}),c(o,{href:"#CdkDraggable",title:"CdkDraggable"},{default:u(()=>[c(o,{href:"#DraggableProps",title:"DraggableProps"})]),_:1})]),_:1}),Mn,On,zn,Pn,Wn,Ln,Vn])}const Gn=A(Hn,[["render",jn]]),Un={},Qn={class:"markdown site-doc-design"},Jn=n("h2",{id:"组件定义"},[n("span",null,"组件定义"),n("a",{onclick:"window.location.hash = '组件定义'",class:"anchor"},"#")],-1),Kn=n("p",null,"一组便利的拖拽套件，提供自由拖拽、列表拖拽排序等基础功能，支持原生/模拟两类拖拽实现，支持触摸屏拖拽",-1),Xn=n("h2",{id:"使用场景"},[n("span",null,"使用场景"),n("a",{onclick:"window.location.hash = '使用场景'",class:"anchor"},"#")],-1),Yn=n("ul",null,[n("li",null,"组件开发过程中需要集成拖拽功能时"),n("li",null,"用户需要自定义拖拽时可无需引入第三方库即可完成对组件库拖拽相关功能的原生支持，减少包体积")],-1);function Zn(t,s){const o=N,e=H;return i(),D("section",Qn,[c(e,{class:"site-anchor",affix:"",offset:16},{default:u(()=>[c(o,{href:"#组件定义",title:"组件定义"}),c(o,{href:"#使用场景",title:"使用场景"})]),_:1}),Jn,Kn,Xn,Yn])}const na=A(Un,[["render",Zn]]),aa={name:"DocsCdkDrag-drop",components:{DemoBasic:_n,DemoMultipleTargets:wn,DemoWithHandle:qn,ApiDocs:Gn,DesignDocs:na},setup(){var r;const t=Z(),s=nn(),o=m((r=t.query.tab)!=null?r:"demo");q(o,d=>{s.push({query:{tab:d}})});const e=[{label:"示例",value:"demo"},{label:"API",value:"api"},,{label:"指南",value:"design"},,].filter(Boolean),l=m(!1);return{checkedDoc:o,docRadioData:e,showDevDemo:l}}},sa={class:"site-doc-wrapper"},ta={class:"markdown site-doc-header"},ea=n("h1",null,[a("DragDrop"),n("span",{class:"subtitle"},"拖放")],-1),oa=n("div",{class:"markdown site-doc-description"},null,-1),ca={class:"site-doc-demo"};function pa(t,s,o,e,l,r){const d=Q,k=N,b=H,f=h("DemoBasic"),_=h("DemoMultipleTargets"),B=h("DemoWithHandle"),w=h("ApiDocs"),R=h("DesignDocs");return i(),D("article",sa,[n("section",ta,[ea,oa,c(d,{value:e.checkedDoc,"onUpdate:value":s[0]||(s[0]=F=>e.checkedDoc=F),dataSource:e.docRadioData,size:"lg",gap:"16px",mode:"primary",buttoned:""},null,8,["value","dataSource"])]),I(n("section",ca,[c(b,{class:"site-anchor",affix:"",offset:16},{default:u(()=>[(e.showDevDemo,i(),v(k,{key:0,href:"#cdk-drag-drop-basic",title:"自由拖拽"})),(e.showDevDemo,i(),v(k,{key:1,href:"#cdk-drag-drop-multiple-targets",title:"多目标的自由拖拽"})),(e.showDevDemo,i(),v(k,{key:2,href:"#cdk-drag-drop-with-handle",title:"通过把手的自由拖拽"}))]),_:1}),c(f),c(_),c(B)],512),[[$,e.checkedDoc==="demo"]]),I(c(w,null,null,512),[[$,e.checkedDoc==="api"]]),I(c(R,null,null,512),[[$,e.checkedDoc==="design"]])])}const da=A(aa,[["render",pa]]);export{da as default};
