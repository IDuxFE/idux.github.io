import{I as Q,a as rt}from"./index-93faa719.js";import{_ as ft,I as Yt}from"./GlobalCodeBox-514fb267.js";import{c as E,r as M,m as vt,w as q,d as Z,t as Jt,b as kt,at as Ct,l as P,y as L,q as k,a8 as ht,D as Qt,p as Zt,ah as I,ar as K,aj as x,an as e,ao as lt,as as N,ai as V,am as X,al as t,az as tt,ay as te,ak as ee,a9 as U,aa as W}from"./vendor-754a3ca4.js";import{ak as $,ao as ae,m as F,A as Y,bm as Dt,ar as ne,c as gt,b2 as oe,M as se,al as z,r as ce,ax as le,a6 as re,ab as de,ay as pe,az as ue,a as At,_ as j,k as ie}from"./index-c8d09f7e.js";import{u as st}from"./globalConfig-41efd36e.js";import{u as yt}from"./useThemeToken-894fb43f.js";import{I as bt}from"./index-684b9302.js";import{I as ke}from"./index-6949ef78.js";import{I as ge}from"./index-1a44e2da.js";import{I as me}from"./index-906c403e.js";import"./index-63442450.js";import"./useInput-4bdd825e.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const J="__TAG_SELECT_CREATION_DATA__";function fe(a,o){const[n,s]=$(void 0),{inputValue:r,inputFullyMatched:f,filteredData:d,dataMaxExceeded:c}=a,{selectedValue:g}=o,v=E(()=>{const D=[...d.value];return r.value&&!f.value&&!c.value&&D.push({key:J}),D}),A=E(()=>{const D=new Map;return v.value.forEach((u,h)=>{D.set(u.key,h)}),D}),m=M(0),p=D=>{var h,l;m.value=D,((h=v.value[D])==null?void 0:h.key)!==n.value&&s((l=v.value[D])==null?void 0:l.key)};return vt(()=>{var l;const D=v.value,u=(l=g.value)!=null&&l.length?g.value:[n.value],h=D.findIndex(i=>u.some(y=>i.key===y));p(h!==-1?ct(D,h,1):-1),q(v,i=>{var T;const y=Z(n.value)?-1:(T=A.value.get(n.value))!=null?T:-1;p(y!==-1?ct(i,y,1):0)},{flush:"post"})}),{activeValue:n,activeIndex:m,changeActiveValue:D=>{const u=v.value.findIndex(h=>h.key===D);u>-1&&(s(D),m.value=u)},changeActiveIndex:D=>{const u=ct(v.value,m.value+D,D%2);u!==m.value&&p(u)}}}function ct(a,o,n){const s=a.length;for(let r=0;r<s;r++){const f=(o+r*n+s)%s,{disabled:d}=a[f];if(!d)return f}return-1}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ve(a,o,n,s,r,f,d){const{inputValue:c,getTagDataByKey:g}=o,{selectedValue:v}=n,{overlayOpened:A,setOverlayOpened:m}=r,{activeValue:p,changeActiveIndex:C}=f,{handleTagSelect:b,handleTagRemove:D,handleTagCreate:u}=d,{dataToSelect:h,handleTagSelectCancel:l}=s;return i=>{var y;switch(i.code){case"ArrowUp":i.preventDefault(),C(-1);break;case"ArrowDown":i.preventDefault(),C(1);break;case"Enter":{i.preventDefault();const T=p.value;(c.value||A.value)&&(T===J?u():Z(T)||b(g(T)));break}case"Backspace":{const T=(y=v.value)==null?void 0:y.length;if(h.value){a.confirmBeforeSelect!=="force"&&l();break}!c.value&&T&&D(v.value[T-1]);break}case"Escape":{i.preventDefault(),m(!1),h.value&&a.confirmBeforeSelect!=="force"&&l();break}}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ce(a,o,n,s){const{inputValue:r,createData:f,addData:d,modifyData:c}=a,{dataToSelect:g,handleTagSelect:v,handleTagSelectCancel:A,handleTagSelectOk:m}=o,{modalVisible:p,dataToRemove:C,handleTagDataRemove:b,handleModalOk:D,handleModalCancel:u,handleModalAfterClose:h}=n,{handleRemove:l,handleClear:i}=s;return{dataToSelect:g,dataToRemove:C,modalVisible:p,handleTagSelect:B=>{v(B)},handleTagSelectOk:m,handleTagSelectCancel:A,handleTagCreate:async()=>{if(!r.value)return;const B=f(r.value);await v(B)&&d(B)},handleTagRemove:l,handleTagClear:i,handleTagDataLabelInput:(B,O)=>{c({...O,label:B})},handleTagDataColorChange:(B,O)=>{c({...O,color:B})},handleTagDataRemove:b,handleTagDataRemoveOk:D,handleTagDataRemoveCancel:u,handleTagDataRemoveModalAfterClose:h}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function he(a){const[o,n]=ae(a,"open",!1),[s,r]=$(!1),[f,d]=$(!1),[c,g]=$(!1),v=p=>{c.value||n(p)},A=p=>{c.value||r(p)},m=p=>{c.value||d(p)};return q(o,(p,C)=>{!p&&C?A(!1):p&&!C&&(A(!1),m(!1))}),{overlayOpened:o,setOverlayOpened:v,editPanelOpened:s,setEditPanelOpened:A,selectConfirmPanelOpened:f,setSelectConfirmPanelOpened:m,locked:c,setLocked:g}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Tt(){let a;const o=new Promise(n=>{a=n});return{wait:()=>o,resolve:n=>a(n)}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function De(a,o,n,s){const[r,f]=$(void 0),[d,c]=$(!1),{removeData:g}=o,{handleRemove:v}=n,{setLocked:A}=s;let m;return{dataToRemove:r,modalVisible:d,handleTagDataRemove:u=>r.value?Promise.resolve(!1):a.confirmBeforeDataRemove?(A(!0),f(u),c(!0),m=Tt(),m.wait()):(g(u),v(u.key),Promise.resolve(!0)),handleModalOk:async()=>{const{beforeRemoveConfirm:u}=a;u&&!await u(r.value)||(c(!1),r.value&&(g(r.value),v(r.value.key)),f(void 0),m.resolve(!0))},handleModalCancel:()=>{c(!1),f(void 0),m.resolve(!1)},handleModalAfterClose:()=>{A(!1)}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ae(a,o,n,s){const{setInputValue:r}=o,{isSelected:f,changeSelected:d}=n,{overlayOpened:c,setOverlayOpened:g,setSelectConfirmPanelOpened:v,setLocked:A}=s,[m,p]=$(void 0);let C,b=!1;const D=l=>{const i=l.key;return f(i)||!l?Promise.resolve(!1):(F(a.onTagSelect,l),a.confirmBeforeSelect?(r(void 0),b=!0,setTimeout(()=>{b=!1}),p(l),v(!0),g(!1),a.confirmBeforeSelect==="force"&&A(!0),C=Tt(),C.wait()):(d(i),Promise.resolve(!0)))},u=async()=>{const{beforeSelectConfirm:l}=a;l&&!await l(m.value)||(A(!1),v(!1),m.value&&d(m.value.key),F(a.onTagSelectConfirm,m.value),p(void 0),C.resolve(!0))},h=()=>{A(!1),v(!1),F(a.onTagSelectCancel,m.value),p(void 0),C.resolve(!1)};return q(c,(l,i)=>{!b&&l!==i&&a.confirmBeforeSelect!=="force"&&m.value&&h()}),{dataToSelect:m,handleTagSelect:D,handleTagSelectOk:u,handleTagSelectCancel:h}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ye(a,o,n){const{getTagDataByKey:s}=n,r=E(()=>o.value),f=E(()=>{var p,C;return((C=(p=r.value)==null?void 0:p.length)!=null?C:0)>=a.tagsLimit}),d=p=>{const C=Jt(o.value);p!==C&&(o.setValue(p),F(a.onChange,p,C))},c=E(()=>{var p,C;return(C=(p=r.value)==null?void 0:p.map(b=>s(b)).filter(Boolean))!=null?C:[]});return{selectedValue:r,selectedData:c,maxExceeded:f,isSelected:p=>{var C,b;return((b=(C=r.value)==null?void 0:C.findIndex(D=>D===p))!=null?b:-1)>-1},changeSelected:p=>{var u,h;const C=(u=r.value)!=null?u:[];((h=C==null?void 0:C.findIndex(l=>l===p))!=null?h:-1)>-1||C.length<a.tagsLimit&&d([...C,p])},handleRemove:p=>{var D,u,h;const C=s(p);if(!C)return;const b=(D=r.value)==null?void 0:D.filter(l=>p!==l);(b==null?void 0:b.length)!==((u=r.value)==null?void 0:u.length)&&(d((h=r.value)==null?void 0:h.filter(l=>p!==l)),F(a.onTagRemove,C))},handleClear:p=>{d(void 0),F(a.onClear,p)}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function be(a,o){const n=[{key:"grey",name:o.colors.grey,labelColor:"var(--ix-pro-tag-select-preset-color-grey-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-grey-bg)"},{key:"green",name:o.colors.green,labelColor:"var(--ix-pro-tag-select-preset-color-green-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-green-bg)"},{key:"blue",name:o.colors.blue,labelColor:"var(--ix-pro-tag-select-preset-color-blue-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-blue-bg)"},{key:"yellow",name:o.colors.yellow,labelColor:"var(--ix-pro-tag-select-preset-color-yellow-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-yellow-bg)"},{key:"red",name:o.colors.red,labelColor:"var(--ix-pro-tag-select-preset-color-red-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-red-bg)"},{key:"orange",name:o.colors.orange,labelColor:"var(--ix-pro-tag-select-preset-color-orange-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-orange-bg)"}],s=E(()=>{var c;return(c=a.colors)!=null&&c.length?a.colors:n}),r=E(()=>new Map(s.value.map(c=>[c.key,c])));return{mergedTagSelectColors:s,getTagSelectColorByKey:c=>r.value.get(c),getRandomColor:()=>{const c=Math.floor(Math.random()*s.value.length);return s.value[c]}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Te(a,o){const{getTagSelectColorByKey:n,getRandomColor:s}=o,[r,f]=$(void 0),d=E(()=>{var u,h;return(h=(u=a.dataSource)==null?void 0:u.map(l=>{var y;if(kt(l.color))return l;const i=(y=n(l.color))!=null?y:s();return{...l,color:i}}))!=null?h:[]}),c=E(()=>new Map(d.value.map(u=>[u.key,u]))),g=E(()=>d.value.length>a.tagDataLimit),v=E(()=>r.value?d.value.filter(u=>{const h=u.label;return Se(Ct(h),r.value)}):d.value),A=E(()=>r.value&&v.value.findIndex(u=>u.label===r.value)>-1),m=u=>c.value.get(u);return{mergedData:d,filteredData:v,dataMaxExceeded:g,inputValue:r,inputFullyMatched:A,setInputValue:f,getTagDataByKey:m,addData:u=>{f(void 0),F(a.onTagDataAdd,u)},createData:u=>{var y;const h=s(),l={key:u,label:u,color:h},i=a.createdTagDataModifier?a.createdTagDataModifier(l):l;return{...i,color:kt(i.color)?i.color:(y=n(i.color))!=null?y:h}},removeData:u=>{F(a.onTagDataRemove,u)},modifyData:u=>{m(u.key)&&F(a.onTagDataChange,u)}}}function Se(a,o){return!Z(a)&&String(a).toLowerCase().includes(o.toLowerCase())}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ee(a){const{editPanelOpened:o}=a,[n,s]=$(void 0);return q(o,r=>{r||s(void 0)}),{dataToEdit:n,setDataToEdit:s}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const G=Symbol("proTagSelectContext"),Be=P({props:{disabled:Boolean,prefixCls:String,removable:Boolean,value:[String,Number,Symbol]},setup(a,{slots:o}){const{props:n,locale:s,focus:r,mergedPrefixCls:f,dataToSelect:d,selectConfirmPanelOpened:c,getTagDataByKey:g,handleTagRemove:v,handleTagSelectOk:A,handleTagSelectCancel:m}=L(G),p=E(()=>{var i;if(!Z(a.value))return a.value===((i=d.value)==null?void 0:i.key)?d.value:g(a.value)}),C=E(()=>{var i;return a.removable&&((i=d.value)==null?void 0:i.key)!==a.value}),b=E(()=>{if(!p.value)return;const{color:{labelColor:i,backgroundColor:y,borderColor:T}}=p.value;return{"--ix-tag-color":i,"--ix-tag-background-color":y,"--ix-tag-border-color":T!=null?T:y}}),D=i=>{a.value&&(i.preventDefault(),i.stopImmediatePropagation(),v(a.value))},u=()=>{A(),r()},h=()=>{m(),r()},l=()=>{var y;const i=`${f.value}-select-confirm`;return k("div",{class:i},[k(ne,{class:`${i}-header`,header:n.selectConfirmHeader,size:"sm"},null),k("div",{class:`${i}-content`},[(y=o.selectConfirmContent)==null?void 0:y.call(o,p.value)]),k("div",{class:`${i}-footer`},[k(gt,{mode:"primary",size:"xs",onClick:u},{default:()=>[s.ok]}),k(gt,{size:"xs",onClick:h},{default:()=>[s.cancel]})])])};return()=>{var y,T;const i=(y=o.selectedLabel)!=null?y:o.tagLabel;return k(Dt,{trigger:"manual",showArrow:!0,visible:c.value&&((T=d.value)==null?void 0:T.key)===a.value},{default:()=>[k(bt,{shape:"round",class:`${f.value}-selected-tag`,style:b.value},{default:()=>{var _,w;return[(w=i==null?void 0:i(p.value))!=null?w:(_=p.value)==null?void 0:_.label,C.value&&k(Y,{class:`${f.value}-selected-tag-remove-icon`,name:"close",onClick:D},null)]}})],content:l})}}}),xe=P({setup(a,{slots:o}){const{locale:n,props:s,mergedPrefixCls:r,modalVisible:f,dataToRemove:d,handleTagDataRemoveOk:c,handleTagDataRemoveCancel:g,handleTagDataRemoveModalAfterClose:v}=L(G),A=E(()=>{var m;return{header:(m=s.removeConfirmHeader)!=null?m:n.removeTag,title:s.removeConfirmTitle,closable:!0,visible:f.value,onAfterClose:v,onClose:g,onOk:c,onCancel:g}});return()=>{const m=`${r.value}-remove-confirm-modal`,p={title:o.removeConfirmTitle?()=>d.value?o.removeConfirmTitle(d.value):void 0:void 0,default:o.removeConfirmContent?()=>d.value?o.removeConfirmContent(d.value):void 0:void 0};return k(oe,ht({type:"confirm",class:m},A.value),p)}}}),_e=P({setup(){const{locale:a,activeValue:o,mergedPrefixCls:n,inputValue:s,changeActiveValue:r,handleTagCreate:f}=L(G),d=E(()=>{const g=`${n.value}-option`;return{[g]:!0,[`${g}-active`]:J===o.value}}),c=()=>{r(J)};return()=>k("div",{class:d.value,onMouseenter:c,onClick:f},[k("span",{class:`${n.value}-creation-label`},[a.createTag]),k("span",{class:`${n.value}-creation-input`},[s.value])])}}),Ie=P({props:{data:{type:Object,required:!0}},setup(a){const{locale:o,mergedPrefixCls:n,mergedTagSelectColors:s,editPanelOpened:r,dataToEdit:f,triggerRef:d,focused:c,handleTagDataLabelInput:g,handleTagDataRemove:v,handleTagDataColorChange:A}=L(G),{globalHashId:m,hashId:p}=yt("proTagSelect"),C=M(),b=l=>{g(l,a.data)},D=()=>{v(a.data)},u=l=>{l.target instanceof HTMLInputElement||l.preventDefault()},h=(l,i)=>{const y=i.key===a.data.color.key,T=`${l}-item`,_={[T]:!0,[`${T}-selected`]:y},w={background:i.backgroundColor};return k("div",{class:_,onClick:()=>{A(i.key,a.data)}},[k("div",{class:`${T}-indicator`,style:w},null),k("span",null,[i.name]),y&&k(Y,{class:`${T}-check`,name:"check"},null)])};return vt(()=>{q([r,f],([l,i])=>{var y;l&&(i==null?void 0:i.key)===a.data.key?setTimeout(()=>{var T;(T=C.value)==null||T.focus()}):!l&&c.value&&((y=d.value)==null||y.focus())},{immediate:!0})}),()=>{const l=`${n.value}-edit-panel`;return k("div",{class:[l,m.value,p.value],onMousedown:u},[k("div",{class:`${l}-input`},[k(ge,{ref:C,class:`${l}-input-inner`,value:a.data.label,size:"sm",onChange:b},null)]),k("div",{class:`${l}-delete`,onClick:D},[k(Y,{class:`${l}-delete-icon`,name:"delete"},null),k("span",{class:`${l}-delete-label`},[o.remove])]),k("div",{class:`${l}-divider`},[k("div",{class:`${l}-divider-line`},null)]),k("div",{class:`${l}-colors`},[s.value.map(i=>h(`${l}-colors`,i))])])}}}),we=P({props:{data:{type:Object,required:!0}},setup(a,{slots:o}){const{props:n,mergedPrefixCls:s,editPanelOpened:r,activeValue:f,dataToEdit:d,setDataToEdit:c,setEditPanelOpened:g,handleTagSelect:v,changeActiveValue:A}=L(G),m=E(()=>{const l=`${s.value}-option`;return{[l]:!0,[`${l}-active`]:a.data.key===f.value}}),p=E(()=>{const{color:{labelColor:l,backgroundColor:i,borderColor:y}}=a.data;return{"--ix-tag-color":l,"--ix-tag-background-color":i,"--ix-tag-border-color":y!=null?y:i}}),C=()=>{v(a.data)},b=l=>{var i;l.preventDefault(),l.stopImmediatePropagation(),((i=d.value)==null?void 0:i.key)!==a.data.key?(g(!0),c(a.data)):g(!r.value)},D=l=>{l.preventDefault(),l.stopImmediatePropagation()},u=()=>{A(a.data.key)},h=()=>k(Ie,{data:a.data},null);return()=>{var y,T,_;const l=s.value,{label:i}=a.data;return k("div",{class:m.value,onClick:C,onMouseenter:u},[(T=(y=o.optionLabel)==null?void 0:y.call(o,a.data))!=null?T:k(bt,{class:`${l}-option-tag`,shape:"round",style:p.value,title:i},{default:()=>{var w,B;return[(B=(w=o.tagLabel)==null?void 0:w.call(o,a.data))!=null?B:i]}}),n.dataEditable&&k(Dt,{placement:"bottomEnd",trigger:"manual",visible:r.value&&((_=d.value)==null?void 0:_.key)===a.data.key},{default:()=>[k("div",{class:`${l}-option-edit-trigger`,onClick:b,onMousedown:D},[k(Y,{name:"ellipsis"},null)])],content:h})])}}}),Fe=P({setup(a,{slots:o}){const n=se("common"),{props:s,locale:r,mergedPrefixCls:f,filteredData:d,dataMaxExceeded:c,inputValue:g,inputFullyMatched:v,setEditPanelOpened:A}=L(G),m=E(()=>!d.value.length&&(!g.value||c.value)),p=E(()=>g.value&&!v.value&&!c.value),C=b=>{A(!1),b.target instanceof HTMLInputElement||b.preventDefault()};return()=>{var D,u;const b=`${f.value}-panel`;return k("div",{class:[b,`${n.prefixCls}-scroll-min`],onMousedown:C},[c.value&&k("div",{class:`${b}-alert`},[(u=(D=o.maxExceededAlert)==null?void 0:D.call(o))!=null?u:k(ke,{icon:"info-circle"},{default:()=>{var h;return[r.maxExceededAlert.replace("${0}",Ct((h=s.tagDataLimit)!=null?h:0))]}})]),d.value.map(h=>k(we,{data:h},o)),m.value&&k("div",{class:`${b}-empty`},[r.empty]),p.value&&k(_e,null,null)])}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const Pe={control:{type:[String,Number,Object,Array],default:void 0},value:{type:Array,default:void 0},open:{type:Boolean,default:void 0},colors:Array,clearable:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dataSource:Array,dataEditable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},confirmBeforeSelect:{type:[Boolean,String],default:!1},confirmBeforeDataRemove:{type:Boolean,default:!0},maxTags:{type:[Number,String],default:Number.MAX_SAFE_INTEGER},tagsLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},tagDataLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},overlayClassName:{type:String,default:void 0},overlayContainer:{type:[String,HTMLElement,Function],default:void 0},overlayMatchWidth:{type:[Boolean,String],default:"minWidth"},placeholder:{type:String,default:void 0},readonly:{type:Boolean,default:!1},createdTagDataModifier:Function,removeConfirmHeader:[String,Object],removeConfirmTitle:[String,Object,Function],selectConfirmHeader:[String,Object],beforeSelectConfirm:Function,beforeRemoveConfirm:Function,size:{type:String,default:void 0},status:String,suffix:{type:String,default:void 0},"onUpdate:value":[Function,Array],"onUpdate:open":[Function,Array],onClear:[Function,Array],onChange:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onTagDataChange:[Function,Array],onTagDataRemove:[Function,Array],onTagDataAdd:[Function,Array],onTagSelect:[Function,Array],onTagSelectConfirm:[Function,Array],onTagSelectCancel:[Function,Array],onTagRemove:[Function,Array]};/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function mt(a,o){const{colorContainerBg:n,tagCompColorAlpha:s}=a,{getBaseColors:r,getGreyColors:f}=o,d=f().base,c=r().green,g=r().blue,v=r().yellow,A=r().red,m=r().orange;return{presetColorGreyLabel:d,presetColorGreyBg:z(d,s,n),presetColorGreenLabel:c,presetColorGreenBg:z(c,s,n),presetColorBlueLabel:g,presetColorBlueBg:z(g,s,n),presetColorYellowLabel:v,presetColorYellowBg:z(v,s,n),presetColorRedLabel:A,presetColorRedBg:z(A,s,n),presetColorOrangeLabel:m,presetColorOrangeBg:z(m,s,n),colorIndicatorSize:12,panelMaxHeight:256,editPanelMinWidth:140,tagHeight:20}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const Re=(a,o,n)=>mt(a,n),Me=P({name:"IxProTagSelect",inheritAttrs:!1,props:Pe,setup(a,{expose:o,slots:n,attrs:s}){const r=st("common"),{globalHashId:f,hashId:d,registerToken:c}=yt("proTagSelect");c(Re);const g=st("locale"),v=st("tagSelect"),{accessor:A,control:m}=ce(),p=le(a,v);re(m);const C=de(a,m),[b,D]=$(!1),u=E(()=>`${r.prefixCls}-tag-select`),h=M(),l=()=>{var S;return(S=h.value)==null?void 0:S.focus()},i=()=>{var S;return(S=h.value)==null?void 0:S.blur()},y=be(a,g.tagSelect),T=Te(a,y),_=he(a),w=Ee(_),B=ye(a,A,T),O=Ae(a,T,B,_),Et=De(a,T,B,_),et=Ce(T,O,Et,B),dt=fe(T,B),Bt=ve(a,T,B,O,_,dt,et),{mergedData:xt,inputValue:_t,setInputValue:It}=T,{selectedData:wt,selectedValue:pt}=B,{dataToSelect:at,handleTagSelectCancel:Ft}=O,{dataToEdit:ut}=w,{overlayOpened:it,setOverlayOpened:Pt,setEditPanelOpened:Rt}=_,{handleTagClear:Mt}=et,$t=E(()=>{const S=[...wt.value];return at.value&&S.push(at.value),S});q(xt,S=>{(b.value||it.value)&&ut.value&&S.findIndex(R=>{var H;return R.key===((H=ut.value)==null?void 0:H.key)})<0&&(Rt(!1),setTimeout(()=>{var R;(R=h.value)==null||R.focus()}))}),Qt(G,{triggerRef:h,props:a,focused:b,focus:l,mergedPrefixCls:u,locale:g.tagSelect,mergedTagSelectColors:y.mergedTagSelectColors,maxExceeded:B.maxExceeded,selectedValue:pt,...T,...w,...et,..._,...dt}),o({focus:l,blur:i});const Ot=()=>{var S;(S=h.value)==null||S.clearInput()},Vt=S=>{D(!0),F(a.onFocus,S)},Lt=S=>{D(!1),Ot(),a.confirmBeforeSelect!=="force"&&at.value&&Ft(),A.markAsBlurred(),F(a.onBlur,S)},Nt=E(()=>{const{overlayClassName:S}=a,R=u.value;return Zt({[f.value]:!!f.value,[d.value]:!!d.value,[`${R}-overlay`]:!0,[S||""]:!!S})}),qt=S=>k(Be,S,n),Gt=({borderless:S,status:R,clearable:H,clearIcon:nt,readonly:ot,disabled:zt,size:Kt,suffix:jt,suffixRotate:Ut,focused:Wt,opened:Xt})=>[k(ue,{ref:h,class:u.value,input:_t.value,allowInput:!0,borderless:S,clearable:H,clearIcon:nt,dataSource:$t.value,disabled:zt,focused:Wt,maxLabel:a.maxTags,multiple:!0,opened:Xt,placeholder:a.placeholder,readonly:ot,size:Kt,status:R,suffix:jt,suffixRotate:Ut,onClear:Mt,onInputValueChange:It},{selectedItem:qt,placeholder:n.placeholder,suffix:n.suffix,clearIcon:n.clearIcon})],Ht=()=>[k(Fe,null,n),k(xe,null,n)];return()=>{const{suffix:S,borderless:R,clearIcon:H,size:nt}=p.value,ot={autofocus:!1,overlayClassName:Nt.value,overlayContainer:a.overlayContainer,overlayContainerFallback:`${u.value}-overlay-container`,overlayMatchWidth:a.overlayMatchWidth,class:[u.value,f.value,d.value],borderless:R,value:pt.value,open:it.value,readonly:a.readonly,size:nt,status:C.value,suffix:S,clearable:a.clearable,clearIcon:H,disabled:A.disabled,onKeydown:Bt,onFocus:Vt,onBlur:Lt,"onUpdate:open":Pt};return k(pe,ht(ot,s),{trigger:Gt,overlay:Ht})}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const St=Me,$e=P({__name:"Basic",setup(a){const o=M([]),n=M([{key:"emphasis",label:"重点关注",color:"yellow"},{key:"alarm",label:"告警标签",color:"blue"},{key:"track",label:"持续追踪",color:"blue"},{key:"care-and-track",label:"持续关注并追踪",color:"green"},{key:"keeps-alarm",label:"持续告警",color:"red"}]),s=d=>{n.value=n.value.filter(c=>c.key!==d.key)},r=d=>{n.value.push(d)},f=d=>{const c=n.value.findIndex(g=>g.key===d.key);c<0||n.value.splice(c,1,d)};return(d,c)=>{const g=St;return I(),K(g,{value:o.value,"onUpdate:value":c[0]||(c[0]=v=>o.value=v),placeholder:"请选择标签",dataSource:n.value,onTagDataRemove:s,onTagDataAdd:r,onTagDataChange:f,style:{width:"336px"}},{removeConfirmTitle:x(({label:v})=>[e(" 确定删除“"+lt(v)+"”标签吗？ ",1)]),removeConfirmContent:x(()=>[e(" 操作说明 ")]),_:1},8,["value","dataSource"])}}}),Oe=P({name:"Basic",components:{"raw-demo":$e},setup(){const{lang:a}=L(At);return{lang:a}}}),Ve={key:0},Le={key:1},Ne=t("div",null,[t("pre",{class:"language-html"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
  `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("IxProTagSelect")]),e(`
    `),t("span",{class:"token attr-name"},[t("span",{class:"token namespace"},"v-model:"),e("value")]),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("selectedValue"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token attr-name"},"placeholder"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("请选择标签"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token attr-name"},":dataSource"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("tagSelectData"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token attr-name"},":onTagDataRemove"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataRemove"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token attr-name"},":onTagDataAdd"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataAdd"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token attr-name"},":onTagDataChange"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataChange"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token special-attr"},[t("span",{class:"token attr-name"},"style"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token value css language-css"},[t("span",{class:"token property"},"width"),t("span",{class:"token punctuation"},":"),e(" 336px")]),t("span",{class:"token punctuation"},'"')])]),e(`
  `),t("span",{class:"token punctuation"},">")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),e(),t("span",{class:"token attr-name"},"#removeConfirmTitle"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("{ label }"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),e(" 确定删除“{{ label }}”标签吗？ "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),e(),t("span",{class:"token attr-name"},"#removeConfirmContent"),t("span",{class:"token punctuation"},">")]),e(" 操作说明 "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
  `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("IxProTagSelect")]),t("span",{class:"token punctuation"},">")]),e(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`

`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("script")]),e(),t("span",{class:"token attr-name"},"setup"),e(),t("span",{class:"token attr-name"},"lang"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("ts"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[e(`
`),t("span",{class:"token keyword"},"import"),e(),t("span",{class:"token punctuation"},"{"),e(" ref "),t("span",{class:"token punctuation"},"}"),e(),t("span",{class:"token keyword"},"from"),e(),t("span",{class:"token string"},"'vue'"),e(`

`),t("span",{class:"token keyword"},"import"),e(),t("span",{class:"token punctuation"},"{"),e(" TagSelectData "),t("span",{class:"token punctuation"},"}"),e(),t("span",{class:"token keyword"},"from"),e(),t("span",{class:"token string"},"'@idux/pro/tag-select'"),e(`

`),t("span",{class:"token keyword"},"const"),e(" selectedValue "),t("span",{class:"token operator"},"="),e(" ref"),t("span",{class:"token operator"},"<"),e("string"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token keyword"},"const"),e(" tagSelectData "),t("span",{class:"token operator"},"="),e(" ref"),t("span",{class:"token operator"},"<"),e("TagSelectData"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'emphasis'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'重点关注'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'yellow'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'alarm'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'告警标签'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'blue'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'track'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续追踪'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'blue'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'care-and-track'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续关注并追踪'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'green'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'keeps-alarm'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续告警'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'red'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
`),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e(`

`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataRemove"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value "),t("span",{class:"token operator"},"="),e(" tagSelectData"),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"filter"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"d"),e(),t("span",{class:"token operator"},"=>"),e(" d"),t("span",{class:"token punctuation"},"."),e("key "),t("span",{class:"token operator"},"!=="),e(" data"),t("span",{class:"token punctuation"},"."),e("key"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataAdd"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"push"),t("span",{class:"token punctuation"},"("),e("data"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataChange"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  `),t("span",{class:"token keyword"},"const"),e(" index "),t("span",{class:"token operator"},"="),e(" tagSelectData"),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findIndex"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"d"),e(),t("span",{class:"token operator"},"=>"),e(" d"),t("span",{class:"token punctuation"},"."),e("key "),t("span",{class:"token operator"},"==="),e(" data"),t("span",{class:"token punctuation"},"."),e("key"),t("span",{class:"token punctuation"},")"),e(`
  `),t("span",{class:"token keyword"},"if"),e(),t("span",{class:"token punctuation"},"("),e("index "),t("span",{class:"token operator"},"<"),e(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token keyword"},"return"),e(`
  `),t("span",{class:"token punctuation"},"}"),e(`

  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"splice"),t("span",{class:"token punctuation"},"("),e("index"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),e(" data"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`)])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("script")]),t("span",{class:"token punctuation"},">")]),e(`

`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("style")]),e(),t("span",{class:"token attr-name"},"scoped"),e(),t("span",{class:"token attr-name"},"lang"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("less"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token style"}),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("style")]),t("span",{class:"token punctuation"},">")]),e(`
`)])])],-1);function qe(a,o,n,s,r,f){const d=N("raw-demo"),c=ft;return I(),K(c,{packageName:"pro",componentName:"tag-select",demoName:"Basic",code:"%3Ctemplate%3E%0A%20%20%3CIxProTagSelect%0A%20%20%20%20v-model%3Avalue%3D%22selectedValue%22%0A%20%20%20%20placeholder%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E6%A0%87%E7%AD%BE%22%0A%20%20%20%20%3AdataSource%3D%22tagSelectData%22%0A%20%20%20%20%3AonTagDataRemove%3D%22handleTagDataRemove%22%0A%20%20%20%20%3AonTagDataAdd%3D%22handleTagDataAdd%22%0A%20%20%20%20%3AonTagDataChange%3D%22handleTagDataChange%22%0A%20%20%20%20style%3D%22width%3A%20336px%22%0A%20%20%3E%0A%20%20%20%20%3Ctemplate%20%23removeConfirmTitle%3D%22%7B%20label%20%7D%22%3E%20%E7%A1%AE%E5%AE%9A%E5%88%A0%E9%99%A4%E2%80%9C%7B%7B%20label%20%7D%7D%E2%80%9D%E6%A0%87%E7%AD%BE%E5%90%97%EF%BC%9F%20%3C%2Ftemplate%3E%0A%20%20%20%20%3Ctemplate%20%23removeConfirmContent%3E%20%E6%93%8D%E4%BD%9C%E8%AF%B4%E6%98%8E%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxProTagSelect%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20TagSelectData%20%7D%20from%20'%40idux%2Fpro%2Ftag-select'%0A%0Aconst%20selectedValue%20%3D%20ref%3Cstring%5B%5D%3E(%5B%5D)%0Aconst%20tagSelectData%20%3D%20ref%3CTagSelectData%5B%5D%3E(%5B%0A%20%20%7B%0A%20%20%20%20key%3A%20'emphasis'%2C%0A%20%20%20%20label%3A%20'%E9%87%8D%E7%82%B9%E5%85%B3%E6%B3%A8'%2C%0A%20%20%20%20color%3A%20'yellow'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'alarm'%2C%0A%20%20%20%20label%3A%20'%E5%91%8A%E8%AD%A6%E6%A0%87%E7%AD%BE'%2C%0A%20%20%20%20color%3A%20'blue'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'track'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E8%BF%BD%E8%B8%AA'%2C%0A%20%20%20%20color%3A%20'blue'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'care-and-track'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E5%85%B3%E6%B3%A8%E5%B9%B6%E8%BF%BD%E8%B8%AA'%2C%0A%20%20%20%20color%3A%20'green'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'keeps-alarm'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E5%91%8A%E8%AD%A6'%2C%0A%20%20%20%20color%3A%20'red'%2C%0A%20%20%7D%2C%0A%5D)%0A%0Aconst%20handleTagDataRemove%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20tagSelectData.value%20%3D%20tagSelectData.value.filter(d%20%3D%3E%20d.key%20!%3D%3D%20data.key)%0A%7D%0Aconst%20handleTagDataAdd%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20tagSelectData.value.push(data)%0A%7D%0Aconst%20handleTagDataChange%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20const%20index%20%3D%20tagSelectData.value.findIndex(d%20%3D%3E%20d.key%20%3D%3D%3D%20data.key)%0A%20%20if%20(index%20%3C%200)%20%7B%0A%20%20%20%20return%0A%20%20%7D%0A%0A%20%20tagSelectData.value.splice(index%2C%201%2C%20data)%0A%7D%0A%3C%2Fscript%3E%0A%0A%3Cstyle%20scoped%20lang%3D%22less%22%3E%3C%2Fstyle%3E%0A",title:a.lang==="zh"?"基本使用":"Basic usage"},{description:x(()=>[a.lang==="zh"?(I(),V("p",Ve,"最简单的用法。")):X("",!0),a.lang==="en"?(I(),V("p",Le,"The simplest usage.")):X("",!0)]),rawCode:x(()=>[k(d)]),highlightCode:x(()=>[Ne]),_:1},8,["title"])}const Ge=j(Oe,[["render",qe]]),He=t("span",null,"force: ",-1),ze=P({__name:"ConfirmBeforeSelect",setup(a){const o=M(!1),n=M([]),s=M([{key:"emphasis",label:"重点关注",color:"yellow"},{key:"alarm",label:"告警标签",color:"blue"},{key:"track",label:"持续追踪",color:"blue"},{key:"care-and-track",label:"持续关注并追踪",color:"green"},{key:"keeps-alarm",label:"持续告警",color:"red"}]),r=c=>{s.value=s.value.filter(g=>g.key!==c.key)},f=c=>{s.value.push(c)},d=c=>{const g=s.value.findIndex(v=>v.key===c.key);g<0||s.value.splice(g,1,c)};return(c,g)=>{const v=St,A=me,m=ie;return I(),K(m,{vertical:""},{default:x(()=>[k(v,{value:n.value,"onUpdate:value":g[0]||(g[0]=p=>n.value=p),placeholder:"请选择标签",dataSource:s.value,onTagDataRemove:r,onTagDataAdd:f,onTagDataChange:d,confirmBeforeSelect:o.value?"force":!0,selectConfirmHeader:"确定",style:{width:"336px"}},{removeConfirmTitle:x(({label:p})=>[e(" 确定删除“"+lt(p)+"”标签吗？ ",1)]),removeConfirmContent:x(()=>[e(" 操作说明 ")]),selectConfirmContent:x(({label:p})=>[e(" 确定选择“"+lt(p)+"”标签吗？ ",1)]),_:1},8,["value","dataSource","confirmBeforeSelect"]),k(m,null,{default:x(()=>[He,k(A,{checked:o.value,"onUpdate:checked":g[1]||(g[1]=p=>o.value=p)},null,8,["checked"])]),_:1})]),_:1})}}}),Ke=P({name:"ConfirmBeforeSelect",components:{"raw-demo":ze},setup(){const{lang:a}=L(At);return{lang:a}}}),je={key:0},Ue={key:1},We=t("div",null,[t("pre",{class:"language-html"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
  `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("IxSpace")]),e(),t("span",{class:"token attr-name"},"vertical"),t("span",{class:"token punctuation"},">")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("IxProTagSelect")]),e(`
      `),t("span",{class:"token attr-name"},[t("span",{class:"token namespace"},"v-model:"),e("value")]),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("selectedValue"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},"placeholder"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("请选择标签"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},":dataSource"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("tagSelectData"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},":onTagDataRemove"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataRemove"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},":onTagDataAdd"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataAdd"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},":onTagDataChange"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataChange"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},":confirmBeforeSelect"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("forceConfirmSelect ? 'force' : true"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},"selectConfirmHeader"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("确定"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token special-attr"},[t("span",{class:"token attr-name"},"style"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token value css language-css"},[t("span",{class:"token property"},"width"),t("span",{class:"token punctuation"},":"),e(" 336px")]),t("span",{class:"token punctuation"},'"')])]),e(`
    `),t("span",{class:"token punctuation"},">")]),e(`
      `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),e(),t("span",{class:"token attr-name"},"#removeConfirmTitle"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("{ label }"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),e(" 确定删除“{{ label }}”标签吗？ "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
      `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),e(),t("span",{class:"token attr-name"},"#removeConfirmContent"),t("span",{class:"token punctuation"},">")]),e(" 操作说明 "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
      `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),e(),t("span",{class:"token attr-name"},"#selectConfirmContent"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("{ label }"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),e(" 确定选择“{{ label }}”标签吗？ "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("IxProTagSelect")]),t("span",{class:"token punctuation"},">")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("IxSpace")]),t("span",{class:"token punctuation"},">")]),e(`
      `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("span")]),t("span",{class:"token punctuation"},">")]),e("force: "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("span")]),t("span",{class:"token punctuation"},">")]),e(`
      `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("IxSwitch")]),e(),t("span",{class:"token attr-name"},[t("span",{class:"token namespace"},"v-model:"),e("checked")]),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("forceConfirmSelect"),t("span",{class:"token punctuation"},'"')]),e(),t("span",{class:"token punctuation"},"/>")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("IxSpace")]),t("span",{class:"token punctuation"},">")]),e(`
  `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("IxSpace")]),t("span",{class:"token punctuation"},">")]),e(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`

`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("script")]),e(),t("span",{class:"token attr-name"},"setup"),e(),t("span",{class:"token attr-name"},"lang"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("ts"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[e(`
`),t("span",{class:"token keyword"},"import"),e(),t("span",{class:"token punctuation"},"{"),e(" ref "),t("span",{class:"token punctuation"},"}"),e(),t("span",{class:"token keyword"},"from"),e(),t("span",{class:"token string"},"'vue'"),e(`

`),t("span",{class:"token keyword"},"import"),e(),t("span",{class:"token punctuation"},"{"),e(" TagSelectData "),t("span",{class:"token punctuation"},"}"),e(),t("span",{class:"token keyword"},"from"),e(),t("span",{class:"token string"},"'@idux/pro/tag-select'"),e(`

`),t("span",{class:"token keyword"},"const"),e(" forceConfirmSelect "),t("span",{class:"token operator"},"="),e(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token keyword"},"const"),e(" selectedValue "),t("span",{class:"token operator"},"="),e(" ref"),t("span",{class:"token operator"},"<"),e("string"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token keyword"},"const"),e(" tagSelectData "),t("span",{class:"token operator"},"="),e(" ref"),t("span",{class:"token operator"},"<"),e("TagSelectData"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'emphasis'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'重点关注'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'yellow'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'alarm'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'告警标签'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'blue'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'track'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续追踪'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'blue'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'care-and-track'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续关注并追踪'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'green'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'keeps-alarm'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续告警'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'red'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
`),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e(`

`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataRemove"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value "),t("span",{class:"token operator"},"="),e(" tagSelectData"),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"filter"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"d"),e(),t("span",{class:"token operator"},"=>"),e(" d"),t("span",{class:"token punctuation"},"."),e("key "),t("span",{class:"token operator"},"!=="),e(" data"),t("span",{class:"token punctuation"},"."),e("key"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataAdd"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"push"),t("span",{class:"token punctuation"},"("),e("data"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataChange"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  `),t("span",{class:"token keyword"},"const"),e(" index "),t("span",{class:"token operator"},"="),e(" tagSelectData"),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findIndex"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"d"),e(),t("span",{class:"token operator"},"=>"),e(" d"),t("span",{class:"token punctuation"},"."),e("key "),t("span",{class:"token operator"},"==="),e(" data"),t("span",{class:"token punctuation"},"."),e("key"),t("span",{class:"token punctuation"},")"),e(`
  `),t("span",{class:"token keyword"},"if"),e(),t("span",{class:"token punctuation"},"("),e("index "),t("span",{class:"token operator"},"<"),e(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token keyword"},"return"),e(`
  `),t("span",{class:"token punctuation"},"}"),e(`

  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"splice"),t("span",{class:"token punctuation"},"("),e("index"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),e(" data"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`)])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("script")]),t("span",{class:"token punctuation"},">")]),e(`

`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("style")]),e(),t("span",{class:"token attr-name"},"scoped"),e(),t("span",{class:"token attr-name"},"lang"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("less"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token style"}),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("style")]),t("span",{class:"token punctuation"},">")]),e(`
`)])])],-1);function Xe(a,o,n,s,r,f){const d=N("raw-demo"),c=ft;return I(),K(c,{packageName:"pro",componentName:"tag-select",demoName:"ConfirmBeforeSelect",code:"%3Ctemplate%3E%0A%20%20%3CIxSpace%20vertical%3E%0A%20%20%20%20%3CIxProTagSelect%0A%20%20%20%20%20%20v-model%3Avalue%3D%22selectedValue%22%0A%20%20%20%20%20%20placeholder%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E6%A0%87%E7%AD%BE%22%0A%20%20%20%20%20%20%3AdataSource%3D%22tagSelectData%22%0A%20%20%20%20%20%20%3AonTagDataRemove%3D%22handleTagDataRemove%22%0A%20%20%20%20%20%20%3AonTagDataAdd%3D%22handleTagDataAdd%22%0A%20%20%20%20%20%20%3AonTagDataChange%3D%22handleTagDataChange%22%0A%20%20%20%20%20%20%3AconfirmBeforeSelect%3D%22forceConfirmSelect%20%3F%20'force'%20%3A%20true%22%0A%20%20%20%20%20%20selectConfirmHeader%3D%22%E7%A1%AE%E5%AE%9A%22%0A%20%20%20%20%20%20style%3D%22width%3A%20336px%22%0A%20%20%20%20%3E%0A%20%20%20%20%20%20%3Ctemplate%20%23removeConfirmTitle%3D%22%7B%20label%20%7D%22%3E%20%E7%A1%AE%E5%AE%9A%E5%88%A0%E9%99%A4%E2%80%9C%7B%7B%20label%20%7D%7D%E2%80%9D%E6%A0%87%E7%AD%BE%E5%90%97%EF%BC%9F%20%3C%2Ftemplate%3E%0A%20%20%20%20%20%20%3Ctemplate%20%23removeConfirmContent%3E%20%E6%93%8D%E4%BD%9C%E8%AF%B4%E6%98%8E%20%3C%2Ftemplate%3E%0A%20%20%20%20%20%20%3Ctemplate%20%23selectConfirmContent%3D%22%7B%20label%20%7D%22%3E%20%E7%A1%AE%E5%AE%9A%E9%80%89%E6%8B%A9%E2%80%9C%7B%7B%20label%20%7D%7D%E2%80%9D%E6%A0%87%E7%AD%BE%E5%90%97%EF%BC%9F%20%3C%2Ftemplate%3E%0A%20%20%20%20%3C%2FIxProTagSelect%3E%0A%20%20%20%20%3CIxSpace%3E%0A%20%20%20%20%20%20%3Cspan%3Eforce%3A%20%3C%2Fspan%3E%0A%20%20%20%20%20%20%3CIxSwitch%20v-model%3Achecked%3D%22forceConfirmSelect%22%20%2F%3E%0A%20%20%20%20%3C%2FIxSpace%3E%0A%20%20%3C%2FIxSpace%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20TagSelectData%20%7D%20from%20'%40idux%2Fpro%2Ftag-select'%0A%0Aconst%20forceConfirmSelect%20%3D%20ref(false)%0Aconst%20selectedValue%20%3D%20ref%3Cstring%5B%5D%3E(%5B%5D)%0Aconst%20tagSelectData%20%3D%20ref%3CTagSelectData%5B%5D%3E(%5B%0A%20%20%7B%0A%20%20%20%20key%3A%20'emphasis'%2C%0A%20%20%20%20label%3A%20'%E9%87%8D%E7%82%B9%E5%85%B3%E6%B3%A8'%2C%0A%20%20%20%20color%3A%20'yellow'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'alarm'%2C%0A%20%20%20%20label%3A%20'%E5%91%8A%E8%AD%A6%E6%A0%87%E7%AD%BE'%2C%0A%20%20%20%20color%3A%20'blue'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'track'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E8%BF%BD%E8%B8%AA'%2C%0A%20%20%20%20color%3A%20'blue'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'care-and-track'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E5%85%B3%E6%B3%A8%E5%B9%B6%E8%BF%BD%E8%B8%AA'%2C%0A%20%20%20%20color%3A%20'green'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'keeps-alarm'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E5%91%8A%E8%AD%A6'%2C%0A%20%20%20%20color%3A%20'red'%2C%0A%20%20%7D%2C%0A%5D)%0A%0Aconst%20handleTagDataRemove%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20tagSelectData.value%20%3D%20tagSelectData.value.filter(d%20%3D%3E%20d.key%20!%3D%3D%20data.key)%0A%7D%0Aconst%20handleTagDataAdd%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20tagSelectData.value.push(data)%0A%7D%0Aconst%20handleTagDataChange%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20const%20index%20%3D%20tagSelectData.value.findIndex(d%20%3D%3E%20d.key%20%3D%3D%3D%20data.key)%0A%20%20if%20(index%20%3C%200)%20%7B%0A%20%20%20%20return%0A%20%20%7D%0A%0A%20%20tagSelectData.value.splice(index%2C%201%2C%20data)%0A%7D%0A%3C%2Fscript%3E%0A%0A%3Cstyle%20scoped%20lang%3D%22less%22%3E%3C%2Fstyle%3E%0A",title:a.lang==="zh"?"选择前确认":"Confirm before select"},{description:x(()=>[a.lang==="zh"?(I(),V("p",je,"选择前通过浮层确认选项的创建。")):X("",!0),a.lang==="en"?(I(),V("p",Ue,"Confirm via an popper before select.")):X("",!0)]),rawCode:x(()=>[k(d)]),highlightCode:x(()=>[We]),_:1},8,["title"])}const Ye=j(Ke,[["render",Xe]]),Je={},Qe={class:"markdown site-doc-api"},Ze=t("h3",{id:"IxProTagSelect"},[t("span",null,"IxProTagSelect"),t("a",{onclick:"window.location.hash = 'IxProTagSelect'",class:"anchor"},"#")],-1),ta=t("h4",{id:"ProTagSelectProps"},[t("span",null,"ProTagSelectProps"),t("a",{onclick:"window.location.hash = 'ProTagSelectProps'",class:"anchor"},"#")],-1),ea=tt(`<table><thead><tr><th>名称</th><th>说明</th><th>类型</th><th>默认值</th><th>全局配置</th><th>备注</th></tr></thead><tbody><tr><td><code>control</code></td><td>控件控制器</td><td><code>string | number | (string | number)[] | AbstractControl</code></td><td>-</td><td>-</td><td>配合 <code>@idux/cdk/forms</code> 使用, 参考 <a href="/components/form/zh">Form</a></td></tr><tr><td><code>v-model:value</code></td><td>当前选中的 tag 的值</td><td><code>(string | number | symbol)[]</code></td><td>-</td><td>-</td><td>使用 <code>control</code> 时，此配置无效</td></tr><tr><td><code>v-model:open</code></td><td>下拉菜单是否展开</td><td><code>boolean</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>colors</code></td><td>标签颜色列表</td><td><code>TagSelectColor[]</code></td><td>-</td><td>-</td><td>不提供则使用内置的颜色列表，颜色色值可以通过主题自定义</td></tr><tr><td><code>clearable</code></td><td>是否可清除</td><td><code>boolean</code></td><td><code>false</code></td><td>-</td><td>-</td></tr><tr><td><code>clearIcon</code></td><td>设置清除图标</td><td><code>string | #clearIcon</code></td><td><code>&#39;close-circle&#39;</code></td><td>-</td><td>-</td></tr><tr><td><code>dataSource</code></td><td>可选择的标签数据</td><td><code>TagSelectData[]</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>dataEditable</code></td><td>标签数据是否可以编辑</td><td><code>boolean</code></td><td><code>true</code></td><td>-</td><td>配置true则可以在下拉面板的选项末尾点击编辑图标进行编辑</td></tr><tr><td><code>disabled</code></td><td>是否禁用</td><td><code>boolean</code></td><td><code>false</code></td><td>-</td><td>-</td></tr><tr><td><code>confirmBeforeSelect</code></td><td>是否在选择标签之后需要确认</td><td><code>boolean | &#39;force&#39;</code></td><td><code>false</code></td><td>-</td><td>配置true或者force时，选择标签后会弹出一个浮层进行确定或者取消，配置force则强制必须确定或者取消才能进行下一步</td></tr><tr><td><code>confirmBeforeDataRemove</code></td><td>是否在删除标签数据时需要确认</td><td><code>boolean</code></td><td><code>false</code></td><td>-</td><td>配置true时，删除标签数据会弹出一个弹窗进行确定或者取消</td></tr><tr><td><code>createdTagDataModifier</code></td><td>修改创建的标签数据</td><td><code>(data: TagSelectData) =&gt; TagSelectData</code></td><td>-</td><td>-</td><td>标签创建时，会随机选择一个内置的颜色，可以通过该函数修改内部创建的数据</td></tr><tr><td><code>maxTags</code></td><td>选择框内展示的标签最大数量</td><td><code>number | &#39;responsive&#39;</code></td><td><code>Number.MAX_SAFE_INTEGER</code></td><td>-</td><td>-</td></tr><tr><td><code>tagsLimit</code></td><td>可以选择的标签最大数量</td><td><code>number</code></td><td><code>Number.MAX_SAFE_INTEGER</code></td><td>-</td><td>-</td></tr><tr><td><code>tagDataLimit</code></td><td>面板中允许的最大标签数据量</td><td><code>number</code></td><td><code>Number.MAX_SAFE_INTEGER</code></td><td>-</td><td>超出后不允许添加标签，并且会显示提示</td></tr><tr><td><code>overlayClassName</code></td><td>下拉菜单的 <code>class</code></td><td><code>string</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>overlayContainer</code></td><td>自定义下拉框容器节点</td><td><code>string | HTMLElement | (trigger?: Element) =&gt; string | HTMLElement</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>overlayMatchWidth</code></td><td>下拉菜单和选择器同宽</td><td><code>boolean | &#39;minWidth&#39;</code></td><td><code>true</code></td><td>-</td><td>-</td></tr><tr><td><code>placeholder</code></td><td>选择框默认文本</td><td><code>string | #placeholder</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>readonly</code></td><td>只读模式</td><td><code>boolean</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>removeConfirmHeader</code></td><td>删除标签的确认弹窗头部配置</td><td><code>string | HeaderProps</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>removeConfirmTitle</code></td><td>删除标签的确认弹窗title</td><td><code>string | VNode | (() =&gt; VNodeChild)</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>beforeSelectConfirm</code></td><td>选择前点击确认，判断是否可以确认选择</td><td><code>(data: TagSelectData) =&gt; boolean | Promise&lt;boolean&gt;</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>beforeRemoveConfirm</code></td><td>删除前点击确认，判断是否可以确认删除</td><td><code>(data: TagSelectData) =&gt; boolean | Promise&lt;boolean&gt;</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>size</code></td><td>设置选择器大小</td><td><code>&#39;sm&#39; | &#39;md&#39; | &#39;lg&#39;</code></td><td><code>md</code></td><td>-</td><td>-</td></tr><tr><td><code>status</code></td><td>手动指定校验状态</td><td><code>valid | invalid | validating</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>suffix</code></td><td>设置后缀图标</td><td><code>string | #suffix</code></td><td><code>down</code></td><td>-</td><td>-</td></tr><tr><td><code>onClear</code></td><td>清除图标被点击后的回调</td><td><code>(evt: MouseEvent) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onChange</code></td><td>选中值发生改变后的回调</td><td><code>(value: (string | number | symbol)[] | undefined, oldValue: (string | number | symbol)[] | undefined) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onFocus</code></td><td>获取焦点后的回调</td><td><code>(evt: FocusEvent) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onBlur</code></td><td>失去焦点后的回调</td><td><code>(evt: FocusEvent) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagDataChange</code></td><td>标签数据编辑之后的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagDataRemove</code></td><td>标签数据删除之后的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagDataAdd</code></td><td>标签数据创建添加之后的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagSelect</code></td><td>标签选择触发之后的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagSelectConfirm</code></td><td>标签选择之后确认的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagSelectCancel</code></td><td>标签选择之后取消的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagRemove</code></td><td>选择的标签被移除之后的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr></tbody></table><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">TagSelectColor</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> VKey
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  labelColor<span class="token operator">:</span> <span class="token builtin">string</span>
  backgroundColor<span class="token operator">:</span> <span class="token builtin">string</span>
  borderColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">TagSelectData</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> VKey
  label<span class="token operator">:</span> <span class="token builtin">string</span>
  color<span class="token operator">:</span> VKey <span class="token operator">|</span> TagSelectColor
  disabled<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>

  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span></code></pre>`,2),aa=t("h4",{id:"ProTagSelectSlots"},[t("span",null,"ProTagSelectSlots"),t("a",{onclick:"window.location.hash = 'ProTagSelectSlots'",class:"anchor"},"#")],-1),na=tt("<table><thead><tr><th>名称</th><th>说明</th><th>参数类型</th><th>备注</th></tr></thead><tbody><tr><td><code>clearIcon</code></td><td>自定义清除图标</td><td>-</td><td>-</td></tr><tr><td><code>suffix</code></td><td>自定义选择框的后缀</td><td>-</td><td>-</td></tr><tr><td><code>selectedLabel</code></td><td>自定义选中标签的文本内容</td><td><code>TagSelectData</code></td><td>-</td></tr><tr><td><code>overflowedLabel</code></td><td>自定义超出最多显示多少个标签的内容</td><td><code>TagSelectData[]</code></td><td>参数为超出的数组</td></tr><tr><td><code>tagLabel</code></td><td>自定义面板中标签的文本内容</td><td><code>TagSelectData</code></td><td>-</td></tr><tr><td><code>optionLabel</code></td><td>自定义面板中选项的内容</td><td><code>TagSelectData</code></td><td>-</td></tr><tr><td><code>maxExceededAlert</code></td><td>自定义选中的标签超出最大限制时的告警提示</td><td>-</td><td>-</td></tr><tr><td><code>placeholder</code></td><td>自定义占位符</td><td>-</td><td>-</td></tr><tr><td><code>selectConfirmContent</code></td><td>自定义选中标签时的确认浮层内容</td><td><code>TagSelectData</code></td><td>-</td></tr><tr><td><code>removeConfirmTitle</code></td><td>自定义移除标签数据时的确认弹窗title</td><td><code>TagSelectData</code></td><td>-</td></tr><tr><td><code>removeConfirmContent</code></td><td>自定义移除标签数据时的确认弹窗内容</td><td><code>TagSelectData</code></td><td>-</td></tr></tbody></table>",1),oa=t("h4",{id:"ProTagSelectMethods"},[t("span",null,"ProTagSelectMethods"),t("a",{onclick:"window.location.hash = 'ProTagSelectMethods'",class:"anchor"},"#")],-1),sa=tt("<table><thead><tr><th>名称</th><th>说明</th><th>参数类型</th><th>备注</th></tr></thead><tbody><tr><td><code>blur</code></td><td>失去焦点</td><td>-</td><td>-</td></tr><tr><td><code>focus</code></td><td>获取焦点</td><td>-</td><td>-</td></tr></tbody></table>",1);function ca(a,o){const n=rt,s=Q;return I(),V("section",Qe,[k(s,{class:"site-anchor",affix:"",offset:16},{default:x(()=>[k(n,{href:"#IxProTagSelect",title:"IxProTagSelect"},{default:x(()=>[k(n,{href:"#ProTagSelectProps",title:"ProTagSelectProps"}),k(n,{href:"#ProTagSelectSlots",title:"ProTagSelectSlots"}),k(n,{href:"#ProTagSelectMethods",title:"ProTagSelectMethods"})]),_:1})]),_:1}),Ze,ta,ea,aa,na,oa,sa])}const la=j(Je,[["render",ca]]),ra={},da={class:"markdown site-doc-design"},pa=t("h3",{id:"使用场景"},[t("span",null,"使用场景"),t("a",{onclick:"window.location.hash = '使用场景'",class:"anchor"},"#")],-1);function ua(a,o){const n=rt,s=Q;return I(),V("section",da,[k(s,{class:"site-anchor",affix:"",offset:16},{default:x(()=>[k(n,{href:"#使用场景",title:"使用场景"})]),_:1}),pa])}const ia=j(ra,[["render",ua]]),ka={},ga={class:"markdown site-doc-theme"},ma=tt("<table><thead><tr><th>名称</th><th>描述</th><th>类型</th><th>default</th><th>dark</th></tr></thead><tbody><tr><td><code>colorIndicatorSize</code></td><td>颜色指示圆圈的尺寸</td><td><code>number</code></td><td><code>12</code></td><td><code>12</code></td></tr><tr><td><code>editPanelMinWidth</code></td><td>编辑面板的最小宽度</td><td><code>number</code></td><td><code>140</code></td><td><code>140</code></td></tr><tr><td><code>panelMaxHeight</code></td><td>数据面板的最大高度</td><td><code>number</code></td><td><code>256</code></td><td><code>256</code></td></tr><tr><td><code>presetColorBlueBg</code></td><td>预设蓝色背景色</td><td><code>string</code></td><td><code>rgb(232, 241, 255)</code></td><td><code>rgb(21, 36, 58)</code></td></tr><tr><td><code>presetColorBlueLabel</code></td><td>预设蓝色文字色</td><td><code>string</code></td><td><code>#1c6eff</code></td><td><code>#4083E8</code></td></tr><tr><td><code>presetColorGreenBg</code></td><td>预设绿色背景色</td><td><code>string</code></td><td><code>rgb(235, 249, 232)</code></td><td><code>rgb(25, 47, 23)</code></td></tr><tr><td><code>presetColorGreenLabel</code></td><td>预设绿色文字色</td><td><code>string</code></td><td><code>#39c317</code></td><td><code>#56BD37</code></td></tr><tr><td><code>presetColorGreyBg</code></td><td>预设灰色背景色</td><td><code>string</code></td><td><code>rgb(246, 246, 247)</code></td><td><code>rgb(24, 27, 32)</code></td></tr><tr><td><code>presetColorGreyLabel</code></td><td>预设灰色文字色</td><td><code>string</code></td><td><code>#a1a7b3</code></td><td><code>#525966</code></td></tr><tr><td><code>presetColorOrangeBg</code></td><td>预设橙色背景色</td><td><code>string</code></td><td><code>rgb(255, 241, 232)</code></td><td><code>rgb(54, 36, 25)</code></td></tr><tr><td><code>presetColorOrangeLabel</code></td><td>预设橙色文字色</td><td><code>string</code></td><td><code>#fa721b</code></td><td><code>#E88641</code></td></tr><tr><td><code>presetColorRedBg</code></td><td>预设红色背景色</td><td><code>string</code></td><td><code>rgb(254, 233, 233)</code></td><td><code>rgb(54, 26, 27)</code></td></tr><tr><td><code>presetColorRedLabel</code></td><td>预设红色文字色</td><td><code>string</code></td><td><code>#f52727</code></td><td><code>#E8514C</code></td></tr><tr><td><code>presetColorYellowBg</code></td><td>预设黄色背景色</td><td><code>string</code></td><td><code>rgb(254, 251, 232)</code></td><td><code>rgb(54, 52, 24)</code></td></tr><tr><td><code>presetColorYellowLabel</code></td><td>预设黄色文字色</td><td><code>string</code></td><td><code>#f8d81a</code></td><td><code>#E8D43E</code></td></tr><tr><td><code>tagHeight</code></td><td>标签的高度</td><td><code>number</code></td><td><code>20</code></td><td><code>20</code></td></tr></tbody></table>",1);function fa(a,o){const n=Q;return I(),V("section",ga,[k(n,{class:"site-anchor",affix:"",offset:16}),ma])}const va=j(ka,[["render",fa]]),Ca={name:"DocsProTag-select",components:{DemoBasic:Ge,DemoConfirmBeforeSelect:Ye,ApiDocs:la,DesignDocs:ia,ThemeDocs:va},setup(){var f;const a=te(),o=ee(),n=M((f=a.query.tab)!=null?f:"demo");q(n,d=>{o.push({query:{tab:d}})});const s=[{label:"示例",value:"demo"},{label:"API",value:"api"},,{label:"指南",value:"design"},{label:"主题",value:"theme"}].filter(Boolean),r=M(!1);return{checkedDoc:n,docRadioData:s,showDevDemo:r}}},ha={class:"site-doc-wrapper"},Da={class:"markdown site-doc-header"},Aa=t("h1",null,[e("ProTagSelect"),t("span",{class:"subtitle"},"标签选择")],-1),ya=t("div",{class:"markdown site-doc-description"},null,-1),ba={class:"site-doc-demo"};function Ta(a,o,n,s,r,f){const d=Yt,c=rt,g=Q,v=N("DemoBasic"),A=N("DemoConfirmBeforeSelect"),m=N("ApiDocs"),p=N("DesignDocs"),C=N("ThemeDocs");return I(),V("article",ha,[t("section",Da,[Aa,ya,k(d,{value:s.checkedDoc,"onUpdate:value":o[0]||(o[0]=b=>s.checkedDoc=b),dataSource:s.docRadioData,size:"lg",gap:"16px",mode:"primary",buttoned:""},null,8,["value","dataSource"])]),U(t("section",ba,[k(g,{class:"site-anchor",affix:"",offset:16},{default:x(()=>[(s.showDevDemo,I(),K(c,{key:0,href:"#pro-tag-select-basic",title:"基本使用"})),(s.showDevDemo,I(),K(c,{key:1,href:"#pro-tag-select-confirm-before-select",title:"选择前确认"}))]),_:1}),k(v),k(A)],512),[[W,s.checkedDoc==="demo"]]),U(k(m,null,null,512),[[W,s.checkedDoc==="api"]]),U(k(p,null,null,512),[[W,s.checkedDoc==="design"]]),U(k(C,null,null,512),[[W,s.checkedDoc==="theme"]])])}const Oa=j(Ca,[["render",Ta]]);export{Oa as default};
