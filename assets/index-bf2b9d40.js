import{c as ue,u as J,aa as ne,i as w,aq as Fe,ac as Q,C as ve,n as xe,v as se,aI as Se,a7 as Be,ap as Re,a8 as Ie,aL as ie,E as Ee,ax as $e}from"./index-a90cd122.js";import{u as we,v as _,i as O,y as v,l as ye,H as Oe,at as Le,b as H,e as u,P as ke,au as me,aj as ze,w as Z,G as Ne,O as ce,z as X,p as W,B as be,a2 as Ke,x as Ve,av as _e,j as je,k as Me}from"./vendor-bc3fa58e.js";import{I as He}from"./index-dad74ee2.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const U=Symbol("transferContext"),Ae=Symbol("transferListContext"),p=Symbol("TRANSFER_SOURCE_TOKEN"),ee=Symbol("TRANSFER_TARGET_TOKEN"),ae=Symbol("TRANSFER_OPERATIONS_TOKEN");/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function te(e){const a={};return Object.keys(e).forEach(r=>{a[r]=we(e[r])}),a}const Ue=_({setup(){const{slots:e,props:a,mergedPrefixCls:r}=O(U),s=O(ae),{appendDisabled:c,removeDisabled:l,triggerAppend:t,triggerRemove:o}=s,g=()=>{t()},d=()=>{o()},f=(S,T,b,K)=>ye(T)?v(ue,{class:`${S}-btn`,icon:T,disabled:b,onClick:K},null):Oe(v(ue,{class:`${S}-btn`,disabled:b,onClick:K},null),[[Le("slos"),{icon:()=>T}]]),C=S=>{if(e.operations)return e.operations(te(s));if(a.mode!=="immediate")return v("div",{class:`${S}-inner`},[f(S,"right-double",c.value,g),f(S,"left-double",l.value,d)])};return()=>{const S=`${r.value}-operations`;return v("div",{class:S},[C(S)])}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ge(e){const a=J("pagination");return{sourcePagination:de(e,a,!0),targetPagination:de(e,a,!1)}}function de(e,a,r){const s=H(),c=H(),l=u(()=>{const o=e.pagination;if(!o)return null;if(o===!0)return{};const g=r?0:1,d=ne(o.pageIndex),f=ne(o.pageSize),C=ne(o.total);return{pageIndex:d==null?void 0:d[g],pageSize:f==null?void 0:f[g],disabled:e.disabled||o.disabled,total:C==null?void 0:C[g],onChange:(S,T)=>{var b;return(b=o.onChange)==null?void 0:b.call(o,r,S,T)}}});ke(()=>{const o=l.value;s.value=(o==null?void 0:o.pageIndex)??1,c.value=(o==null?void 0:o.pageSize)??a.pageSize});const t=o=>{s.value=o};return u(()=>{const o=l.value;if(o!==null)return{simple:!0,showTotal:!1,...o,pageIndex:s.value,pageSize:c.value,"onUpdate:pageIndex":t}})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function qe(e,a){return{source:u(()=>he(e,a,!0)),target:u(()=>he(e,a,!1))}}function he(e,a,r){var l;const s=a.searchPlaceholder[r?0:1];return(ye(e.searchPlaceholder)?e.searchPlaceholder:(l=e.searchPlaceholder)==null?void 0:l[r?0:1])??s}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function We(e,a){return{source:u(()=>ge(e,a,!0)),target:u(()=>ge(e,a,!1))}}function ge(e,a,r){const s=e.searchable??a.searchable;return!s||me(s)?!!s:r?s.source:s.target}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Je(e,a,r,s,c,l,t,o,g,d){const{dataSource:f,sourceData:C,targetData:S,targetKeySet:T,dataKeyMap:b,disabledKeys:K,disabledSourceKeys:h,disabledTargetKeys:A,filteredDataSource:y,filteredSourceData:x,filteredTargetData:B,paginatedDataSource:m,paginatedSourceData:F,paginatedTargetData:D,sourceSearchValue:R,setSourceSearchValue:L,targetSearchValue:k,setTargetSearchValue:V,getKey:E}=a,{sourceSelectedKeys:$,targetSelectedKeys:z,sourceSelectedKeySet:N,targetSelectedKeySet:n,sourceSelectAllStatus:i,targetSelectAllStatus:I,sourceSelectAllDisabled:j,targetSelectAllDisabled:M,handleSourceSelectChange:Y,handleTargetSelectChange:G,handleSourceSelectAll:P,handleTargetSelectAll:De}=s,{triggerAppend:Te,triggerRemove:Pe}=r,oe={dataSource:f,dataKeyMap:b,disabledDataSourceKeys:K,filteredDataSource:y,paginatedDataSource:m,targetKeySet:T,showSelectAll:l,triggerAppend:Te,triggerRemove:Pe,getKey:E};return{sourceBindings:{data:C,filteredData:x,paginatedData:F,pagination:c.sourcePagination,disabledKeys:h,selectedKeys:$,selectedKeySet:N,selectAllDisabled:j,selectAllStatus:i,searchable:t,searchPlaceholder:o,selectAll:P,handleSelectChange:Y,searchValue:R,handleSearchChange:q=>{L(q),w(e.onSearch,!0,q)},...oe},targetBindings:{data:S,filteredData:B,paginatedData:D,pagination:c.targetPagination,disabledKeys:A,selectedKeys:z,selectedKeySet:n,selectAllDisabled:M,selectAllStatus:I,searchable:g,searchPlaceholder:d,selectAll:De,handleSelectChange:G,searchValue:k,handleSearchChange:q=>{V(q),w(e.onSearch,!1,q)},...oe}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Qe(e,a,r,s){const c=Fe(e,a),l=u(()=>n=>c.value(n)??n.key),t=u(()=>e.dataSource),o=u(()=>r.value.genDataKeyMap(t.value,l.value)),[g,d]=Q(e,"value",()=>[]),[f,C]=Q(e,"sourceSearchValue",""),[S,T]=Q(e,"targetSearchValue",""),b=u(()=>new Set(g.value)),K=n=>{const i=g.value;d(n),w(e.onChange,n,i)},h=u(()=>r.value.separateDataSource(t.value,o.value,b.value,l.value)),A=u(()=>h.value.sourceData),y=u(()=>h.value.targetData),x=u(()=>r.value.genDataKeys(A.value,l.value)),B=u(()=>r.value.genDataKeys(y.value,l.value)),m=u(()=>r.value.dataFilter(t.value,f.value,(n,i)=>!e.searchFn||e.searchFn(!0,n,i))),F=u(()=>r.value.dataFilter(A.value,f.value,(n,i)=>!e.searchFn||e.searchFn(!0,n,i))),D=u(()=>r.value.dataFilter(y.value,S.value,(n,i)=>!e.searchFn||e.searchFn(!1,n,i))),R=u(()=>re(m.value,s.sourcePagination.value)),L=u(()=>re(F.value,s.sourcePagination.value)),k=u(()=>re(D.value,s.targetPagination.value)),V=(n,i)=>{let I=g.value;n.length>0&&(I=r.value.remove(n,I,l.value)),i.length>0&&(I=r.value.append(i,I,l.value)),K(I)},E=()=>{K(Array.from(z.value))},$=u(()=>r.value.genDisabledKeys(t.value,l.value)),z=u(()=>{const n=r.value.genDisabledKeys(y.value,l.value);return b.value.forEach(i=>{$.value.has(i)&&n.add(i)}),n}),N=u(()=>r.value.genDisabledKeys(A.value,l.value));return{dataSource:t,dataKeyMap:o,sourceData:A,targetData:y,sourceDataKeys:x,targetDataKeys:B,filteredDataSource:m,filteredSourceData:F,filteredTargetData:D,paginatedDataSource:R,paginatedSourceData:L,paginatedTargetData:k,targetKeys:g,targetKeySet:b,changeTargetKeys:V,clear:E,getKey:l,disabledKeys:$,disabledSourceKeys:N,disabledTargetKeys:z,sourceSearchValue:f,setSourceSearchValue:C,targetSearchValue:S,setTargetSearchValue:T}}function re(e,a){if(!a||!a.pageSize)return e;const{total:r}=a;if(r&&e.length<r)return e;const s=a.pageSize,c=(a.pageIndex-1)*s;return e.slice(c,c+s)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Xe(e){const a=new Map;ze(()=>{a.clear()});const r=(s,c)=>new Set(s.map(l=>c(l)));return{genDataKeys:r,genDataKeyMap:(s,c)=>{const l=new Map;return s.forEach(t=>{l.set(c(t),t)}),l},genDisabledKeys:(s,c)=>{const l=new Set;return s.forEach(t=>{t.disabled&&l.add(c(t))}),l},getAllSelectedKeys:(s,c,l,t,o)=>{let g;return s?(g=r(c,o),t.forEach(d=>{!l.has(d)&&g.delete(d)})):(g=new Set,t.forEach(d=>{l.has(d)&&g.add(d)})),Array.from(g)},separateDataSource:(s,c,l,t)=>{const o=s.filter(d=>!l.has(t(d))),g=[];l.forEach(d=>{const f=c.get(d)??a.get(d)??(e==null?void 0:e.find(C=>t(C)===d));f&&!a.has(d)&&a.set(d,f),g.push(f??{key:d})});for(const d of a.keys())l.has(d)||a.delete(d);return{sourceData:o,targetData:g}},dataFilter:(s,c,l)=>c?s.filter(t=>l(t,c)):s,append:(s,c)=>{const l=new Set(c);return s.forEach(t=>{l.add(t)}),Array.from(l)},remove:(s,c)=>{const l=new Set(c);return s.forEach(t=>{l.delete(t)}),Array.from(l)}}}function Ye(e){const a=Xe(e.defaultTargetData??[]);return u(()=>e.dataStrategy?{...a,...e.dataStrategy}:a)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ze(e,a,r){const{dataKeyMap:s,sourceData:c,targetData:l,disabledSourceKeys:t,disabledTargetKeys:o,changeTargetKeys:g,clear:d,getKey:f}=a,{sourceSelectedKeys:C,targetSelectedKeys:S}=r,T=u(()=>e.disabled||C.value.length<=0),b=u(()=>e.disabled||S.value.length<=0),K=u(()=>e.disabled||c.value.every(m=>t.value.has(f.value(m)))),h=u(()=>e.disabled||l.value.every(m=>o.value.has(f.value(m))));return{appendDisabled:T,removeDisabled:b,appendAllDisabled:K,clearDisabled:h,triggerAppend:m=>{!m&&T.value||m&&e.disabled||g([],(m??Array.from(C.value)).filter(F=>!t.value.has(F)))},triggerRemove:m=>{!m&&b.value||m&&e.disabled||g((m??Array.from(S.value)).filter(F=>!o.value.has(F)),[])},triggerAppendAll:()=>{K.value||g([],Array.from(s.value.keys()).filter(m=>!t.value.has(m)))},triggerClear:()=>{h.value||(d(),w(e.onClear))}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function pe(e,a,r){const[s,c]=Q(e,"sourceSelectedKeys",()=>[]),[l,t]=Q(e,"targetSelectedKeys",()=>[]),o=u(()=>new Set(s.value)),g=u(()=>new Set(l.value)),{dataKeyMap:d,dataSource:f,sourceData:C,targetData:S,sourceDataKeys:T,targetDataKeys:b,targetKeySet:K,disabledKeys:h,disabledSourceKeys:A,disabledTargetKeys:y,getKey:x}=a,B=u(()=>e.mode==="immediate"?d.value.size:T.value.size),m=u(()=>b.value.size),F=u(()=>{const n=e.mode==="immediate"?h.value.size:A.value.size;return B.value-n}),D=u(()=>b.value.size-y.value.size),R=u(()=>({checked:B.value>=s.value.length&&s.value.length>0,indeterminate:B.value>s.value.length&&s.value.length>0})),L=u(()=>({checked:m.value>=l.value.length&&l.value.length>0,indeterminate:m.value>l.value.length&&l.value.length>0}));let k=!1;Z(o,(n,i)=>{if(e.mode==="immediate"){if(k)return;ea(i,n,a)}}),Z([F,d,h,K],(n,[,,,i])=>{const I=new Set(s.value),j=new Set,M=new Set,Y=P=>{I.has(P)||(I.add(P),M.add(P),j.delete(P))},G=P=>{I.has(P)&&(I.delete(P),j.add(P),M.delete(P))};s.value.forEach(P=>{if(!d.value.has(P)||h.value.has(P)){G(P);return}e.mode==="default"&&K.value.has(P)&&G(P)}),e.mode==="immediate"&&(K.value.forEach(P=>{d.value.has(P)&&Y(P)}),i==null||i.forEach(P=>{K.value.has(P)||G(P)})),(M.size>0||j.size>0)&&(c(Array.from(I)),k=!0,Ne(()=>{k=!1}))},{immediate:!0,flush:"post"}),Z([D,b,y],()=>{const n=new Set(l.value);l.value.forEach(i=>{(!b.value.has(i)||y.value.has(i))&&n.delete(i)}),t(Array.from(n))},{immediate:!0,flush:"post"});const V=n=>{e.disabled||c(ce(n)?n:Array.from(n))},E=n=>{e.disabled||t(ce(n)?n:Array.from(n))},$=(n=!0,i=!0)=>{if(e.disabled)return;const I=i?e.mode==="default"?C.value:f.value:S.value,j=i?e.mode==="default"?A:h:y,M=i?o:g;(i?c:t)(r.value.getAllSelectedKeys(n,I,M.value,j.value,x.value)),w(e.onSelectAll,i,n)},z=u(()=>e.disabled||F.value<=0),N=u(()=>e.disabled||D.value<=0);return{sourceSelectedKeys:s,targetSelectedKeys:l,sourceSelectedKeySet:o,targetSelectedKeySet:g,handleSourceSelectChange:V,handleTargetSelectChange:E,sourceSelectAllStatus:R,targetSelectAllStatus:L,handleSourceSelectAll:n=>$(n,!0),handleTargetSelectAll:n=>$(n,!1),sourceSelectAllDisabled:z,targetSelectAllDisabled:N,setSourceSelectedKeys:c,setTargetSelectedKeys:t}}function ea(e,a,r){const{changeTargetKeys:s}=r,c=[],l=[];for(const t of e.values())a.has(t)||l.push(t);for(const t of a.values())e.has(t)||c.push(t);s(l,c)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const aa={value:Array,sourceSelectedKeys:Array,targetSelectedKeys:Array,sourceSearchValue:String,targetSearchValue:String,clearable:{type:Boolean,default:void 0},clearIcon:String,customAdditional:{type:Function,default:void 0},dataSource:{type:Array,default:()=>[]},dataStrategy:Object,defaultTargetData:Array,disabled:{type:Boolean,default:!1},empty:{type:[String,Object],default:"simple"},getKey:[String,Function],mode:{type:String,default:"default"},pagination:{type:[Boolean,Object],default:void 0},scroll:Object,searchable:{type:[Boolean,Object],default:void 0},searchFn:Function,searchPlaceholder:[String,Array],spin:{type:[Boolean,Object],default:void 0},showSelectAll:{type:Boolean,default:void 0},virtual:{type:Boolean,default:!1},"onUpdate:value":[Function,Array],"onUpdate:sourceSelectedKeys":[Function,Array],"onUpdate:targetSelectedKeys":[Function,Array],"onUpdate:sourceSearchValue":[Function,Array],"onUpdate:targetSearchValue":[Function,Array],onChange:[Function,Array],onSearch:[Function,Array],onSelectAll:[Function,Array],onClear:[Function,Array],onScroll:[Function,Array],onScrolledChange:[Function,Array],onScrolledBottom:[Function,Array]},le={isSource:{type:Boolean,required:!0}},ta=le,la=le,na=le,ra={dataSource:Array,checkable:{type:Boolean,default:!0},removable:{type:Boolean,default:!1},checked:Function,customAdditional:{type:Function,default:void 0},disabled:Function,getKey:Function,labelKey:String,virtual:{type:Boolean,default:!1},scroll:Object,onCheckChange:[Function,Array],onRemove:[Function,Array],onScroll:[Function,Array],onScrolledChange:[Function,Array],onScrolledBottom:[Function,Array]},sa={checked:{type:Boolean,default:!1},checkable:{type:Boolean,default:!0},removable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},label:String,value:{type:[String,Number,Symbol],required:!0},onCheckChange:[Function,Array],onRemove:[Function,Array]},ca=_({props:sa,setup(e,{slots:a}){const{mergedPrefixCls:r}=O(Ae),s=t=>{w(e.onCheckChange,!!t)},c=()=>{w(e.onRemove)},l=u(()=>{const t=`${r.value}-item`;return X({[t]:!0,[`${t}-disabled`]:e.disabled})});return()=>{const t=`${r.value}-item`,o=[];if(e.checkable)o.push(v(ve,{class:`${t}-checkbox`,label:e.label,value:e.value,checked:e.checked,disabled:e.disabled,onChange:s},a));else{const g=xe(a.default,e.label);o.push(v("label",{class:`${t}-label`},[g]))}return e.removable&&!e.disabled&&o.push(v("div",{class:`${t}-close-icon`,onClick:c},[v(se,{name:"close"},null)])),v("li",{class:l.value},[o])}}}),Ce=_({name:"IxTransferList",props:ra,setup(e,{slots:a,expose:r}){const s=J("common"),c=u(()=>`${s.prefixCls}-transfer-list`),l=u(()=>e.labelKey??"label"),t=H();W(Ae,{mergedPrefixCls:c}),r({scrollTo:h=>{var A;return(A=t.value)==null?void 0:A.scrollTo(h)}});const g=h=>{var A;return((A=e.getKey)==null?void 0:A.call(e,h))??h.key},d=h=>{w(e.onScroll,h)},f=()=>{w(e.onScrolledBottom)},C=(h,A,y)=>{w(e.onScrolledChange,h,A,y)},S=({item:h,index:A})=>{var F,D;const y=g(h),x=R=>{w(e.onCheckChange,h,R)},B=()=>{w(e.onRemove,h)},m=e.customAdditional?e.customAdditional({data:h,index:A}):void 0;return v(ca,Ke({key:y,value:y,label:h[l.value],checked:!!((F=e.checked)!=null&&F.call(e,h)),disabled:!!((D=e.disabled)!=null&&D.call(e,h)),checkable:e.checkable,removable:e.removable,onCheckChange:x,onRemove:B},m),{default:a.label&&(()=>{var R;return(R=a.label)==null?void 0:R.call(a,h)})})},T=()=>{const{dataSource:h,virtual:A,scroll:y}=e,x=h??[];if(!(x.length<=0))return A?v(Be,{ref:t,dataSource:x,fullHeight:!!(y!=null&&y.fullHeight),getKey:g,height:(y==null?void 0:y.height)??"100%",itemHeight:32,itemRender:S,virtual:!0,onScroll:d,onScrolledBottom:f,onScrolledChange:C},null):v("ul",{class:`${c.value}-inner`},[x.map((B,m)=>S({item:B,index:m}))])},b=u(()=>{const h=c.value;return X({[h]:!0,[`${h}-virtual`]:!!e.virtual})}),K=u(()=>{const h=e.scroll;return h&&be({[h.fullHeight?"height":"maxHeight"]:Se(h.height)})});return()=>v("div",{class:b.value,style:K.value,onScroll:d},[T()])}}),oa=_({props:ta,setup(e){const{props:a,slots:r,mergedPrefixCls:s,sourceTransferListRef:c,targetTransferListRef:l,getKey:t}=O(U),o=e.isSource?O(p):O(ee),{paginatedDataSource:g,paginatedData:d,selectedKeySet:f,disabledDataSourceKeys:C,disabledKeys:S,handleSelectChange:T}=o,{triggerRemove:b}=O(ae),K=e.isSource?c:l,h=D=>{w(a.onScroll,e.isSource,D)},A=()=>{w(a.onScrolledBottom,e.isSource)},y=(D,R,L)=>{w(a.onScrolledChange,e.isSource,D,R,L)},x=u(()=>e.isSource&&a.mode==="immediate"?g.value:d.value),B=u(()=>e.isSource&&a.mode==="immediate"?C.value:S.value),m=D=>{if((e.isSource&&a.mode==="immediate"?g.value:d.value).length<=0)return v("div",{class:`${D}-empty-wrapper`},[v(Re,{empty:a.empty},r)]);const L=(E,$)=>{const z=t.value(E),N=new Set(f.value);$?N.add(z):N.delete(z),T(N)},k=E=>{const $=t.value(E);b([$])},V={label:r.label&&(E=>{var $;return($=r.label)==null?void 0:$.call(r,{item:E,isSource:e.isSource})})};return v(Ce,{ref:K,dataSource:x.value,getKey:t.value,checked:E=>f.value.has(t.value(E)),disabled:E=>a.disabled||B.value.has(t.value(E)),checkable:e.isSource||a.mode==="default",removable:!e.isSource&&a.mode==="immediate",virtual:a.virtual,scroll:a.scroll,onCheckChange:L,onRemove:k,onScroll:h,onScrolledChange:y,onScrolledBottom:A},V)},F=D=>r.default?r.default({...te(o),isSource:e.isSource}):m(D);return()=>{const D=`${s.value}-body`;return v("div",{class:`${s.value}-body`},[F(D)])}}}),ua=_({props:na,setup(e){const{slots:a,props:r,mergedPrefixCls:s}=O(U),c=e.isSource?O(p):O(ee),{pagination:l,filteredData:t,filteredDataSource:o}=c,g=d=>{var C;if(a.footer)return a.footer({...te(c),isSource:e.isSource});if(!l.value)return;const f=((C=l.value)==null?void 0:C.total)??(e.isSource&&r.mode==="immediate"?o.value.length:t.value.length);return v("div",{class:`${d}-inner`},[v(He,Ke({class:`${d}-pagination`},l.value,{total:f}),null)])};return()=>{const d=`${s.value}-footer`,f=g(d);if(!(!f||ce(f)&&f.length<=0))return v("div",{class:d},[f])}}}),ia=_({props:la,setup(e){const{props:a,slots:r,config:s,locale:c,mergedPrefixCls:l}=O(U),t=e.isSource?O(p):O(ee),{clearDisabled:o,triggerClear:g}=O(ae),{showSelectAll:d,data:f,selectAllDisabled:C,selectAllStatus:S,searchable:T,searchPlaceholder:b,searchValue:K,handleSearchChange:h,selectAll:A}=t,[y,x]=Ie(""),B=H(),m=()=>{var i;const n=(i=B.value)==null?void 0:i.getInputElement();n&&n.value!==K.value&&(n.value=K.value),y.value!==K.value&&x(K.value)};Ve(()=>{m()}),Z(K,()=>{m()});const F=()=>{h(y.value)},D=n=>{const i=n.target.value;x(i),i||F()},R=_e(()=>{F()},["enter"]),L=n=>{A(!!n)},k=n=>{if(!(!d.value||!e.isSource&&a.mode==="immediate"))return v(ve,{class:`${n}-check-all`,checked:S.value.checked,indeterminate:S.value.indeterminate,disabled:C.value,onChange:L},null)},V=n=>{let i;return r.headerLabel?i=r.headerLabel({data:f.value,isSource:e.isSource}):i=`${e.isSource?c.toSelect:c.selected} (${f.value.length})`,v("span",{class:`${n}-label`},[i])},E=n=>{if(!T.value)return;const i={suffix:()=>v(se,{class:`${n}-search-icon`,name:"search",onClick:F},null)};return v(Ee,{ref:B,class:`${n}-search-input`,disabled:a.disabled,type:"text",size:"sm",placeholder:b.value,onInput:D,onKeydown:R},i)},$=n=>{if(e.isSource||!(a.clearable??s.clearable))return;const i=X({[`${n}-clear-icon`]:!0,[`${n}-clear-icon-disabled`]:o.value});return v("span",{class:i,onClick:g},[r.clearIcon?r.clearIcon():v(se,{name:a.clearIcon??s.clearIcon},null)])},z=n=>{var I;const i=(I=r.headerSuffix)==null?void 0:I.call(r,{isSource:e.isSource});if(!ie(i))return v("span",{class:`${n}-suffix`},[i])},N=n=>r.header?r.header({...te(t),isSource:e.isSource}):v("div",{class:`${n}-inner`},[k(n),V(n),E(n),$(n),z(n)]);return()=>{const n=`${l.value}-header`,i=N(n);if(!ie(i))return v("div",{class:n},[i])}}}),fe=_({props:le,setup(e){const{props:a,mergedPrefixCls:r}=O(U),s=u(()=>{const t=`${r.value}-content`;return X({[t]:!0,[`${t}-${e.isSource?"source":"target"}`]:!0,[`${t}-disabled`]:a.disabled})}),c=u(()=>{var g;const t=(g=a.scroll)==null?void 0:g.width;let o;if(je(t)?o=e.isSource?t.source:t.target:o=t,!!o)return be({width:Se(o)})}),l=u(()=>{if(!Me(a.spin))return me(a.spin)?{spinning:!!a.spin}:{spinning:e.isSource?a.spin.source:a.spin.target}});return()=>{const t=[v(ia,{isSource:e.isSource},null),v(oa,{isSource:e.isSource},null),v(ua,{isSource:e.isSource},null)];return v("div",{class:s.value,style:c.value},[l.value?v($e,l.value,{default:()=>[t]}):t])}}}),da=_({name:"IxTransfer",props:aa,setup(e,{slots:a,expose:r}){const s=J("common"),c=J("transfer"),l=J("locale").transfer,t=u(()=>`${s.prefixCls}-transfer`),o=u(()=>e.showSelectAll??c.showSelectAll),{source:g,target:d}=We(e,c),{source:f,target:C}=qe(e,l),S=Ye(e),T=Ge(e),b=Qe(e,c,S,T),K=pe(e,b,S),h=Ze(e,b,K),{sourceBindings:A,targetBindings:y}=Je(e,b,h,K,T,o,g,f,d,C),x=H(),B=H();r({scrollTo:(D,...R)=>{var L;return(L=(D?x:B).value)==null?void 0:L.scrollTo(...R)}}),W(U,{props:e,slots:a,locale:l,config:c,mergedPrefixCls:t,sourceTransferListRef:x,targetTransferListRef:B,showSelectAll:o,getKey:b.getKey}),W(p,A),W(ee,y),W(ae,h);const F=u(()=>{var R;const D=t.value;return X({[D]:!0,[`${D}-fit-content`]:!!((R=e.scroll)!=null&&R.height)})});return()=>v("div",{class:F.value},[v(fe,{isSource:!0},null),v(Ue,null,null),v(fe,{isSource:!1},null)])}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const va=da,Sa=Ce;export{va as I,p as T,ee as a,Sa as b};
