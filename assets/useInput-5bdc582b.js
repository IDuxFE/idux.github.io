import{p as I,q as V,G as E,H as x,J as w,i as n}from"./index-32d407ed.js";import{e as u,b as C,w as z,t as R,G as k}from"./vendor-730bc5d6.js";const G={control:{type:[String,Number,Object],default:void 0},value:{type:String,default:void 0},clearable:{type:Boolean,default:void 0},clearIcon:{type:String,default:void 0},disabled:{type:Boolean,default:!1},readonly:{type:Boolean,default:!1},size:{type:String,default:void 0},status:String,trim:{type:Boolean,default:void 0},"onUpdate:value":[Function,Array],onChange:[Function,Array],onClear:[Function,Array],onCompositionStart:[Function,Array],onCompositionEnd:[Function,Array],onInput:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array]},J={...G,addonAfter:{type:String,default:void 0},addonBefore:{type:String,default:void 0},borderless:{type:Boolean,default:void 0},prefix:{type:String,default:void 0},suffix:{type:String,default:void 0}};function M(t,r){const{accessor:o,control:c}=I();V(c);const F=E(t,r),S=x(t,c),g=u(()=>t.clearable??r.clearable),p=u(()=>t.clearIcon??r.clearIcon),b=u(()=>!o.disabled&&!t.readonly&&!!o.value),h=u(()=>t.trim??r.trim),s=C(!1),d=e=>{s.value=!0,n(t.onFocus,e)},m=e=>{s.value=!1,o.markAsBlurred(),n(t.onBlur,e),h.value&&v(e.target.value.trim())},{elementRef:f,focus:A,blur:B}=w({handleFocus:d,handleBlur:m}),v=e=>{const a=R(o.value);e!==a&&(o.setValue(e),n(t.onChange,e,a),k(()=>i()))},i=()=>{const e=f.value,a=o.value??"";e&&e.value!==a&&(e.value=a)};z(()=>o.value,()=>i());const l=C(!1),y=(e,a=!0)=>{a&&n(t.onInput,e),!l.value&&v(e.target.value)};return{elementRef:f,accessor:o,mergedSize:F,mergedStatus:S,clearable:g,clearIcon:p,clearVisible:b,isFocused:s,isComposing:l,focus:A,blur:B,handleInput:y,handleCompositionStart:e=>{l.value=!0,n(t.onCompositionStart,e)},handleCompositionEnd:e=>{n(t.onCompositionEnd,e),l.value&&(l.value=!1,y(e,!1))},handleFocus:d,handleBlur:m,handleClear:e=>{o.setValue(""),n(t.onClear,e)},syncValue:i}}export{G as a,J as i,M as u};
