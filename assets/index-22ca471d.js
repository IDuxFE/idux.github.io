import{c as v,aM as T,bg as U,R as M,be as Be,bo as ne,a_ as ye,d as Z,i as le,an as oe,f as A,M as Re,bp as Oe,af as re,al as Ve,bq as He,bb as fe,q as ve,br as Ue,as as q,at as he,a4 as ge,bs as me,aw as H,a7 as ze,bt as Ge,aO as ke,aY as We,x as qe,bu as je,bv as Xe,aW as Ye}from"./index-ab797f89.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function pe(e){return v(()=>{const{disableData:t}=e;return n=>n.disabled||(t?t(n):!1)})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Se(e,t,n,a,l){const o=v(()=>Ke(e,t.value,n.value,a.value,l.value,e.dataSource)),r=v(()=>{const c=new Map;return ce(c,o.value),c});return{mergedData:o,mergedDataMap:r}}function Ke(e,t,n,a,l,o,r,c){const{loadChildren:s,separator:i}=e;return o.map(h=>xe(h,t,n,a,i,l,!!s,r,c))}function xe(e,t,n,a,l,o,r,c,s){var m;const i=t(e),h=o&&!T(s)?`${s}${l}${e[a]}`:e[a],S=e[n],p=S==null?void 0:S.map(P=>xe(P,t,n,a,l,o,r,i,h));return{children:p,key:i,isLeaf:(m=e.isLeaf)!=null?m:!(p!=null&&p.length||r),label:h,parentKey:c,rawData:e}}function ce(e,t){t.forEach(n=>{const{key:a,children:l}=n;e.set(a,n),l&&ce(e,l)})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Je(e,t,n){const[a,l]=U(e,"expandedKeys"),[o,r]=U(e,"loadedKeys"),c=()=>{e.multiple||n(!1)};return v(()=>({expandedKeys:a.value,loadedKeys:o.value,childrenKey:e.childrenKey,customAdditional:e.customAdditional,disableData:e.disableData,empty:e.empty,expandIcon:e.expandIcon,expandTrigger:e.expandTrigger,fullPath:e.fullPath,getKey:e.getKey,labelKey:e.labelKey,loadChildren:e.loadChildren,maxLabel:e.maxLabel,multiple:e.multiple,multipleLimit:e.multipleLimit,searchable:e.searchable,searchFn:e.searchFn,searchValue:t.value,strategy:e.strategy,virtual:e.virtual,virtualScrollMode:e.virtualScrollMode,virtualItemHeight:e.virtualItemHeight,"onUpdate:expandedKeys":l,"onUpdate:loadedKeys":r,onSelect:c,onLoaded:e.onLoaded}))}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Qe(e,t){return v(()=>{const n=t.value;return e.value.map(a=>n.get(a)).filter(Boolean)})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ze(e,t,n){if(n){const a=[],l=e.value;t.forEach(o=>{const r=l.get(o);r&&a.push(r.rawData)}),M(n,t,a)}}function ue(e,t,n){if(!e||!e.children)return[];const a=[];return e.children.forEach(l=>{const{key:o,rawData:r}=l;(!t||!n(r))&&(a.push(o),a.push(...ue(l,t,n)))}),a}function Q(e,t,n,a){const l=[];for(;t&&!T(t.parentKey);){const{parentKey:o,rawData:r}=t;!n||!a(r)?(l.unshift(o),t=e.get(o)):t=void 0}return l}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function be(e,t,n,a,l,o,r){const c=v(()=>{const f=Be(o.value);if(!t.value)return f;if(!a.value){const d=f[f.length-1];return T(d)?[]:[d]}return f.map(d=>d[d.length-1]).filter(d=>!T(d))}),s=v(()=>a.value&&l.value!=="off"),i=v(()=>s.value?et(e.value,c.value,n.value):c.value),h=v(()=>{if(!s.value)return ne;const f=new Set,d=i.value,g=e.value,x=n.value;return d.forEach(y=>{let C=g.get(y);for(;C&&!T(C.parentKey);){const I=C.parentKey,K=g.get(I);K&&!x(K.rawData)&&!d.includes(I)&&f.add(I),C=K}}),[...f]}),S=f=>{const d=n.value,g=e.value,x=Q(g,g.get(f),!0,d);return x.push(f),x},p=f=>t.value?f.length===0?f:a.value?f.map(S):S(f[0]):a.value?f:f[0],m=f=>{const d=p(f),g=ye(o.value);d!==g&&r(d)};return{resolvedSelectedKeys:c,selectedWithStrategyKeys:i,strategyEnabled:s,handleSelect:f=>{const d=i.value,x=d.indexOf(f)>-1;if(!a.value){!x&&m([f]);return}const y=e.value,C=y.get(f),I=s.value,K=n.value,E=I?ue(C,!0,K):[],L=new Set(d);x||E.length>0&&E.every(b=>L.has(b)||h.value.includes(b))?(L.delete(f),I&&(Q(y,C,!0,K).forEach(b=>L.delete(b)),E.forEach(b=>L.delete(b)))):(L.add(f),I&&(Ce(y,C,L,K),E.forEach(b=>L.add(b)))),m([...tt(y,L,l.value)])},setValue:m}}function et(e,t,n){const a=new Set(t);let l;return t.forEach(o=>{const r=e.get(o);if(!r)return;const{parentKey:c}=r;ue(r,!0,n).forEach(i=>a.add(i)),c&&l!==c&&(Ce(e,r,a,n),l=c)}),[...a]}function Ce(e,t,n,a){let l=!0;for(;l&&t&&!T(t.parentKey);){const o=t.parentKey,r=e.get(o);r&&!a(t.rawData)&&(l=r.children.every(c=>a(c.rawData)||n.has(c.key)),l&&n.add(t.parentKey)),t=r}}function tt(e,t,n){if(n==="parent"){const a=new Set;return t.forEach(l=>{const o=e.get(l);if(o){const{key:r,parentKey:c}=o;(!c||!t.has(c))&&a.add(r)}}),a}if(n==="child"){const a=new Set;return t.forEach(l=>{const o=e.get(l);o&&o.isLeaf&&a.add(o.key)}),a}return t}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const Ae=Symbol("CASCADER_PANEL_DATA_TOKEN"),de=Symbol("cascaderPanelToken");/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const at=Z({props:{children:{type:Array,default:void 0},index:{type:Number,required:!0},isLeaf:{type:Boolean,required:!0},label:{type:String,required:!0},optionKey:{type:[String,Number,Symbol],required:!0},parentKey:{type:[String,Number,Symbol],default:void 0},rawData:{type:Object,required:!0}},setup(e){const{props:t,slots:n,mergedPrefixCls:a,mergedExpandIcon:l,mergedGetDisabled:o,mergedLabelKey:r,activeKey:c,setActiveKey:s,expandedKeys:i,setExpandedKeys:h,loadingKeys:S,selectedWithStrategyKeys:p,selectedLimit:m,selectedLimitTitle:P,indeterminateKeys:f,handleSelect:d,handleExpand:g}=le(de),x=v(()=>e.optionKey===c.value),y=v(()=>o.value(e.rawData)),C=v(()=>i.value.includes(e.optionKey)),I=v(()=>S.value.includes(e.optionKey)),K=v(()=>p.value.includes(e.optionKey)),E=v(()=>f.value.includes(e.optionKey)),L=v(()=>{const F=`${a.value}-option`;return oe({[F]:!0,[`${F}-leaf`]:e.isLeaf,[`${F}-active`]:x.value,[`${F}-disabled`]:y.value,[`${F}-expanded`]:C.value,[`${F}-loading`]:I.value,[`${F}-selected`]:K.value})}),b=()=>{d(e.optionKey),M(t.onSelect,e.rawData,K.value)},N=()=>{if(e.isLeaf){if(!K.value&&m.value)return;b(),T(e.parentKey)&&h([])}else t.strategy==="off"&&b(),t.expandTrigger==="click"&&g(e.optionKey)},B=F=>{F.stopPropagation(),b()},ee=()=>{s(e.optionKey),!e.isLeaf&&t.expandTrigger==="hover"&&g(e.optionKey)};return()=>{const{rawData:F,label:z}=e,{multiple:G}=t,_=y.value,R=K.value,k=`${a.value}-option`,j=t.searchValue,X=j?z:F[r.value],te=!(_||R)&&P.value||X,ae=t.customAdditional?t.customAdditional({data:F,index:e.index}):void 0;return A("div",re({class:L.value,title:te,onClick:_?void 0:N,onMouseenter:_?void 0:ee,"aria-label":z,"aria-selected":R},ae),[G&&A(Re,{checked:R,disabled:_||!R&&m.value,indeterminate:E.value,onClick:B},null),A("span",{key:"__label",class:`${k}-label`},[nt(n.optionLabel,X,F,j,k)]),!e.isLeaf&&A("span",{key:"__expand-icon",class:`${k}-expand-icon`},[Oe(n.expandIcon,I.value?"loading":l.value,{key:e.optionKey,expanded:C.value,data:F})])])}}});function nt(e,t,n,a,l){if(e)return e({label:t,data:n,searchValue:a});if(t&&a){const o=t.toUpperCase().indexOf(a.toUpperCase());if(o>-1){const r=o+a.length,c=t.substring(0,o),s=t.substring(r),i=A("span",{class:`${l}-label-highlight`},[t.substring(o,r)]);return[c,i,s]}}return t}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const se=Z({props:{dataSource:{type:Array,required:!0}},setup(e){const{props:t,slots:n,mergedPrefixCls:a}=le(de),l=v(()=>{const o=`${a.value}-option-group`;return oe({[o]:!0,[`${o}-empty`]:e.dataSource.length===0})});return()=>{const{dataSource:o}=e;let r;if(o.length>0){const{_virtualScrollHeight:c,virtualItemHeight:s,virtualScrollMode:i,virtual:h}=t;r=A(Ve,{dataSource:o,getKey:"key",height:c,rowHeight:s,rowRender:({item:p,index:m})=>A(at,re({index:m,optionKey:p.key},p),null),virtual:h,scrollMode:h?i:void 0},null)}else r=A(He,{empty:t.empty},n);return A("div",{class:l.value},[r])}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ie(e){const{colorPrimaryText:t,fontSizeSm:n,heightMd:a,marginSizeSm:l,paddingSizeXs:o,paddingSizeSm:r,paddingSizeMd:c}=e;return{optionFontSize:n,optionHeight:a,optionPadding:`${r}px ${c}px`,optionLabelHighlightColor:t,optionGroupMinWidth:120,optionGroupMinHeight:180,optionLabelMarginLeft:l,optionContainerPadding:`${o}px 0`,overlaySearchWrapperPadding:`${o}px ${c}px ${r}px`}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const Ie=(e,t)=>ie(e);/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function lt(e){const[t,n]=fe(void 0),a=v(()=>{const l=t.value;return l!==void 0?e.value.get(l):void 0});return{activeKey:t,activeData:a,setActiveKey:n}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ot(e,t,n,a,l,o,r,c){const s=d=>{if(T(d))return[];const g=r.value,x=g.get(d);return Q(g,x,!1,n.value)},[i,h]=U(e,"expandedKeys",()=>s(c.value[0])),[S,p]=U(e,"loadedKeys",()=>[]),m=ve([]),P=async d=>{const{loadChildren:g}=e;if(m.value.includes(d))return;const y=r.value.get(d);if(y&&(!y.children||y.children.length===0)){if(!g||S.value.includes(d))return;m.value.push(d);const K=y.rawData,E=await g(K);m.value.splice(m.value.indexOf(d),1);const L=r.value;if(E.length){const b=a.value,N=Ke(e,t.value,b,l.value,o.value,E,d,y.label);ce(L,N),y.rawData[b]=E,y.children=N;const B=[...S.value,d];p(B),M(e.onLoaded,B,K)}else return}const I=i.value.indexOf(d)>=0;if(!I){const K=r.value,E=Q(K,K.get(d),!1,n.value);E.push(d),f(E,!I,y.rawData)}},f=(d,g,x)=>{h(d);const{onExpand:y,onExpandedChange:C}=e;M(y,g,x),Ze(r,d,C)};return{expandedKeys:i,setExpandedKeys:h,handleExpand:P,loadingKeys:m}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function rt(e,t,n,a){return v(()=>{if(!a.value)return ne;const l=new Set,o=t.value,r=e.value,c=n.value;return o.forEach(s=>{let i=r.get(s);for(;i&&!T(i.parentKey);){const h=i.parentKey,S=r.get(h);S&&!c(S.rawData)&&!o.includes(h)&&l.add(h),i=S}}),[...l]})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ct(e,t,n,a,l){const o=ut(e,a),r=v(()=>e.multiple||e.strategy==="off"),c=v(()=>{const i=e.searchValue,h=o.value;if(!i)return ne;const S=r.value,p=l.value,m=new Set;return t.value.forEach(P=>Ee(m,P,h,i,S,p)),[...m]});return{searchedData:v(()=>{const i=n.value;return c.value.map(h=>i.get(h)).filter(Boolean)})}}function ut(e,t){return v(()=>{const n=e.searchFn;return Ue(n)?n:n?dt(t.value):!1})}function dt(e){return(t,n)=>{const a=t[e];return a?a.toLowerCase().includes(n.toLowerCase()):!1}}function Ee(e,t,n,a,l,o){const{key:r,rawData:c}=t;e.has(r)||o(c)||(n===!1||n(c,a)?((l||t.isLeaf)&&e.add(r),Fe(e,t,l,o)):t.children&&t.children.forEach(s=>Ee(e,s,n,a,l,o)))}function Fe(e,t,n,a){!t||!t.children||t.children.forEach(l=>{e.has(l.key)||a(l.rawData)||((n||l.isLeaf)&&e.add(l.key),Fe(e,l,n,a))})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function st(e,t){const n=q("locale"),a=v(()=>e.value.length>=t.value),l=v(()=>a.value?n.select.limitMessage.replace("${0}",`${t.value}`):"");return{selectedLimit:a,selectedLimitTitle:l}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const it={selectedKeys:{type:null,default:void 0},expandedKeys:{type:Array,default:void 0},loadedKeys:{type:Array,default:void 0},childrenKey:{type:String,default:void 0},customAdditional:{type:Function,default:void 0},dataSource:{type:Array,default:()=>[]},disableData:{type:Function},empty:{type:[String,Object],default:"simple"},expandIcon:{type:String,default:void 0},expandTrigger:{type:String,default:"click"},fullPath:{type:Boolean,default:void 0},getKey:{type:[String,Function],default:void 0},labelKey:{type:String,default:void 0},loadChildren:{type:Function,default:void 0},maxLabel:{type:[Number,String],default:Number.MAX_SAFE_INTEGER},multiple:{type:Boolean,default:!1},multipleLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},searchable:{type:[Boolean,String],default:!1},searchFn:{type:[Boolean,Function],default:!0},searchValue:String,separator:{type:String,default:"/"},strategy:{type:String,default:"all"},virtual:{type:Boolean,default:!1},virtualScrollMode:{type:String,default:void 0},virtualItemHeight:{type:Number,default:32},"onUpdate:selectedKeys":[Function,Array],"onUpdate:expandedKeys":[Function,Array],"onUpdate:loadedKeys":[Function,Array],onExpand:[Function,Array],onExpandedChange:[Function,Array],onLoaded:[Function,Array],onSelect:[Function,Array],_virtualScrollHeight:{type:Number,default:256}},yt={control:{type:[String,Number,Object,Array],default:void 0},value:{type:null,default:void 0},expandedKeys:{type:Array,default:void 0},loadedKeys:{type:Array,default:void 0},open:{type:Boolean,default:void 0},autocomplete:{type:String,default:"off"},autofocus:{type:Boolean,default:!1},borderless:{type:Boolean,default:void 0},childrenKey:{type:String,default:void 0},clearable:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},customAdditional:{type:Function,default:void 0},dataSource:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},disableData:{type:Function},empty:{type:[String,Object],default:"simple"},expandIcon:{type:String,default:void 0},expandTrigger:{type:String,default:"click"},fullPath:{type:Boolean,default:void 0},getKey:{type:[String,Function],default:void 0},labelKey:{type:String,default:void 0},loadChildren:{type:Function,default:void 0},maxLabel:{type:[Number,String],default:Number.MAX_SAFE_INTEGER},multiple:{type:Boolean,default:!1},multipleLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},overlayClassName:{type:String,default:void 0},overlayContainer:{type:[String,HTMLElement,Function],default:void 0},overlayTabindex:{type:Number,default:void 0},overlayMatchWidth:{type:[Boolean,String],default:void 0},overlayRender:{type:Function,default:void 0},placeholder:{type:String,default:void 0},readonly:{type:Boolean,default:!1},searchable:{type:[Boolean,String],default:!1},searchFn:{type:[Boolean,Function],default:!0},searchPlaceholder:{type:String,default:void 0},separator:{type:String,default:"/"},size:{type:String,default:void 0},status:String,strategy:{type:String,default:"all"},suffix:{type:String,default:void 0},virtual:{type:Boolean,default:!1},virtualItemHeight:{type:Number,default:void 0},virtualScrollMode:{type:String,default:void 0},"onUpdate:value":[Function,Array],"onUpdate:expandedKeys":[Function,Array],"onUpdate:loadedKeys":[Function,Array],"onUpdate:open":[Function,Array],onChange:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onExpand:[Function,Array],onExpandedChange:[Function,Array],onLoaded:[Function,Array],onSearch:[Function,Array]};/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const Le=Z({props:it,setup(e,{slots:t}){const n=q("common"),{globalHashId:a,hashId:l,registerToken:o}=he("cascader");o(Ie);const r=q("cascader"),c=v(()=>`${n.prefixCls}-cascader`),s=ft(e,r),{mergedData:i,mergedDataMap:h,expandedKeys:S,searchedData:p}=s,m=Symbol(),P=v(()=>{const f=[{key:m,dataSource:i.value}],d=h.value;return S.value.forEach(g=>{const x=d.get(g);x&&x.children&&f.push({key:g,dataSource:x.children})}),f});return ge(de,{...s,props:e,config:r,slots:t,mergedPrefixCls:c}),()=>A("div",{class:[`${c.value}-panel`,a.value,l.value]},[e.searchValue?A(se,{dataSource:p.value},null):P.value.map(f=>A(se,f,null))])}});function ft(e,t){let n=le(Ae,null);const a=v(()=>{var y;return(y=e.childrenKey)!=null?y:t.childrenKey}),l=v(()=>{var y;return(y=e.expandIcon)!=null?y:t.expandIcon}),o=v(()=>{var y;return(y=e.fullPath)!=null?y:t.fullPath}),r=me(e,t),c=pe(e),s=v(()=>{var y;return(y=e.labelKey)!=null?y:t.labelKey});if(!n){const[y,C]=U(e,"selectedKeys"),I=Se(e,r,a,s,o),{mergedDataMap:K}=I,E=be(K,o,c,H(e,"multiple"),H(e,"strategy"),y,C);n={...I,...E}}const{resolvedSelectedKeys:i,selectedWithStrategyKeys:h,strategyEnabled:S,mergedDataMap:p,mergedData:m}=n,P=st(i,H(e,"multipleLimit")),f=ot(e,r,c,a,s,o,p,i),d=rt(p,h,c,S),g=ct(e,m,p,s,c);return{...lt(p),...n,...f,...P,...g,mergedChildrenKey:a,mergedExpandIcon:l,mergedFullPath:o,mergedGetKey:r,mergedGetDisabled:c,mergedLabelKey:s,indeterminateKeys:d}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const vt=[0,4],ht=Z({name:"IxCascader",inheritAttrs:!1,props:yt,setup(e,{attrs:t,expose:n,slots:a}){const l=q("common"),{globalHashId:o,hashId:r,registerToken:c}=he("cascader");c(Ie);const s=q("cascader"),i=v(()=>`${l.prefixCls}-cascader`),h=v(()=>{var u;return(u=e.childrenKey)!=null?u:s.childrenKey}),S=v(()=>{var u;return(u=e.clearIcon)!=null?u:s.clearIcon}),p=v(()=>{var u;return(u=e.fullPath)!=null?u:s.fullPath}),m=me(e,s),P=pe(e),f=v(()=>{var u;return(u=e.labelKey)!=null?u:s.labelKey}),d=ve(),[g,x]=fe(""),y=u=>{x(u),e.searchable&&M(e.onSearch,u)},C=()=>{var u;return(u=d.value)==null?void 0:u.focus()},I=()=>{var u;return(u=d.value)==null?void 0:u.blur()},K=()=>{var u;e.searchable==="overlay"?y(""):(u=d.value)==null||u.clearInput()};n({focus:C,blur:I});const[E,L]=U(e,"open"),{accessor:b,control:N}=ze(),B=Ge(e,s);ke(N);const ee=We(e,N),F=Se(e,m,h,f,p),{mergedDataMap:z}=F,G=be(z,p,P,H(e,"multiple"),H(e,"strategy"),H(b,"value"),u=>{const w=ye(b.value);b.setValue(u),M(e.onChange,u,w)}),{resolvedSelectedKeys:_,setValue:R}=G,k=Qe(_,z);qe(E,u=>{u&&C(),K()});const j=u=>{M(e.onFocus,u)},X=u=>{b.markAsBlurred(),M(e.onBlur,u)},te=u=>{C(),G.handleSelect(u)},ae=u=>{R([]),M(e.onClear,u)};ge(Ae,{...F,...G});const Pe=v(()=>{const{overlayClassName:u,multiple:w}=e,D=i.value;return oe({[o.value]:!!o.value,[r.value]:!!r.value,[`${D}-overlay`]:!0,[`${D}-overlay-multiple`]:w,[u||""]:!!u})}),we=({borderless:u,status:w,clearable:D,clearIcon:O,readonly:V,disabled:W,size:$,suffix:Y,suffixRotate:J,focused:Ne,opened:_e})=>[A(Xe,{ref:d,class:i.value,allowInput:e.searchable===!0?"searchable":!1,autocomplete:e.autocomplete,autofocus:e.autofocus,borderless:u,clearable:D,clearIcon:O,dataSource:k.value,disabled:W,focused:Ne,maxLabel:e.maxLabel,multiple:e.multiple,opened:_e,placeholder:e.placeholder,readonly:V,size:$,status:w,suffix:Y,suffixRotate:J,onClear:ae,onInputValueChange:y,onItemRemove:te},a)],Me=Je(e,g,L),Te=u=>{const{value:w}=u.target;y(w)},De=()=>{y("")},$e=()=>{const{searchable:u,overlayRender:w,searchPlaceholder:D}=e,O=g.value,V=i.value,W={empty:a.empty,optionLabel:a.optionLabel},$=[A("div",{key:"__content",class:`${V}-overlay-content`},[A(Le,Me.value,W)])];return u==="overlay"&&$.unshift(A("div",{key:"__search-wrapper",class:`${V}-overlay-search-wrapper`},[A(Ye,{clearable:!0,clearIcon:S.value,clearVisible:!!O,size:"sm",suffix:"search",value:O,placeholder:D,onClear:De,onInput:Te},null)])),A("div",null,[w?w($):$])};return()=>{var $,Y,J;const{suffix:u,borderless:w,clearIcon:D,size:O}=B.value,V={autofocus:e.autofocus,overlayClassName:Pe.value,overlayContainer:($=e.overlayContainer)!=null?$:s.overlayContainer,overlayTabindex:(Y=e.overlayTabindex)!=null?Y:s.overlayTabindex,overlayContainerFallback:`.${i.value}-overlay-container`,overlayMatchWidth:(J=e.overlayMatchWidth)!=null?J:s.overlayMatchWidth,class:i.value,borderless:w,value:_.value,offset:vt,open:E.value,readonly:e.readonly,size:O,status:ee.value,suffix:u,clearable:e.clearable,clearIcon:D,disabled:b.disabled,onFocus:j,onBlur:X,"onUpdate:open":L},W={trigger:we,overlay:$e};return A(je,re(V,t),W)}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const mt=ht,pt=Le;export{mt as I,pt as a};
