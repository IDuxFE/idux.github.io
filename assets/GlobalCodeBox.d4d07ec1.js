import{L as x,a as v,c as k,_ as E}from"./index.d956eff8.js";import{aB as $,l as N,p as w,c as g,r as S,v as I,aS as y,aT as B,aU as T,aV as a,b0 as F,a_ as f,m as d,aZ as h,aE as z}from"./vendor.09b48ac1.js";class A{constructor(t){const n=this._textarea=document.createElement("textarea"),o=n.style;o.opacity="0",o.position="absolute",o.left=o.top="-999em",n.setAttribute("aria-hidden","true"),n.value=t,document.body.appendChild(n)}copy(){const t=this._textarea;let n=!1;try{if(t){const o=document.activeElement;t.select(),t.setSelectionRange(0,t.value.length),n=document.execCommand("copy"),o&&o.focus()}}catch(o){x.error("cdk/clipboard",o)}return n}destroy(){const t=this._textarea;t&&(t.parentNode&&t.parentNode.removeChild(t),this._textarea=void 0)}}const p=class{static getInstance(){return p.instance||(p.instance=new p),p.instance}constructor(){}copy(e){const t=this.beginCopy(e),n=t.copy();return t.destroy(),n}beginCopy(e){return new A(e)}};let C=p;C.instance=null;const D=()=>{const e=C.getInstance(),t=new Set;let n=!1,o=null;$(()=>{o!==null&&clearTimeout(o),t.forEach(l=>l.destroy()),t.clear(),n=!0});function s(l,c=1){return new Promise(m=>{if(c>1){let r=c;const u=e.beginCopy(l);t.add(u);const _=()=>{const b=u.copy();!b&&--r&&!n?o=setTimeout(_,1):(o=null,t.delete(u),u.destroy(),m(b))};_()}else{const r=e.copy(l);m(r)}})}return{copy:s}};const H=N({name:"GlobalCodeBox",props:{title:{type:String,default:""},packageName:{type:String,default:""},componentName:{type:String,default:""},demoName:{type:String,default:""},copied:{type:Boolean,default:!1},code:{type:String,default:""}},setup(e){const{lang:t}=w(v),n=g(()=>`${e.packageName}-${e.componentName}-demo-${e.demoName}`),o=g(()=>`https://github.com/IDuxFE/idux/edit/main/packages/${`${e.packageName}/${e.componentName}/demo/${e.demoName}`}.md`),s=S(!1),l=g(()=>t.value==="zh"?s.value?"\u6536\u8D77\u4EE3\u7801":"\u663E\u793A\u4EE3\u7801":s.value?"Hide Code":"Show Code"),c=()=>{s.value=!s.value},{copy:i}=D(),{success:m}=k(),r=I(()=>{i(decodeURIComponent(e.code)).then(()=>{m(t.value==="zh"?"\u590D\u5236\u6210\u529F":"copy succeeded")})},300);return{id:n,lang:t,editHref:o,expanded:s,expandedTitle:l,onExpanded:c,onCopy:r}}}),G=["id"],L={class:"global-code-box-title markdown"},j={class:"global-code-box-border"},U={class:"global-code-box"},V={class:"global-code-box-meta markdown"},P={class:"global-code-box-description"},R={class:"global-code-box-actions"},M=["href"],Z={class:"global-code-box-demo"};function q(e,t,n,o,s,l){const c=y("IxIcon"),i=y("IxTooltip");return B(),T("div",{id:e.id,class:"global-code-box-wrapper"},[a("section",L,[a("h3",null,F(e.title),1)]),a("div",j,[a("section",U,[a("section",V,[a("div",P,[f(e.$slots,"description")]),a("div",R,[d(i,{title:e.lang==="zh"?"\u5728 GitHub \u4E0A\u7F16\u8F91\u6B64\u793A\u4F8B":"Edit this demo on GitHub"},{default:h(()=>[a("a",{href:e.editHref,class:"global-code-box-edit",target:"_blank",rel:"noopener noreferrer"},[d(c,{name:"edit"})],8,M)]),_:1},8,["title"]),d(i,{title:e.lang==="zh"?"\u590D\u5236\u4EE3\u7801":"Copy code"},{default:h(()=>[d(c,{name:"copy",onClick:e.onCopy},null,8,["onClick"])]),_:1},8,["title"]),d(i,{title:e.expandedTitle},{default:h(()=>[d(c,{name:e.expanded?"unexpand":"expand",onClick:e.onExpanded},null,8,["name","onClick"])]),_:1},8,["title"])])]),a("section",Z,[f(e.$slots,"rawCode")]),a("section",{class:z(["highlight-wrapper",{"highlight-wrapper-expand":e.expanded}])},[f(e.$slots,"highlightCode")],2)])])],8,G)}var O=E(H,[["render",q]]);export{O as _,D as u};
