import{c as oe,u as J,ad as ne,j as L,aw as Fe,ag as Q,C as fe,ae as xe,w as re,aa as Be,v as ve,au as Re,ab as Ie,bc as ue,\u0275 as we,aD as $e}from"./index.01a21eef.js";import{u as Ee,v as j,y as S,i as z,l as Se,J as Oe,at as Le,b as M,e as i,Q as ze,a4 as ye,aj as Ne,w as Y,H as Ve,O as se,z as W,p as q,a1 as me,D as be,x as ke,au as _e,h as je,k as Me}from"./vendor.71a61ad2.js";import{I as He}from"./index.cbc39db0.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const H=Symbol("transferContext"),Ke=Symbol("transferListContext"),Z=Symbol("TRANSFER_SOURCE_TOKEN"),p=Symbol("TRANSFER_TARGET_TOKEN"),ee=Symbol("TRANSFER_OPERATIONS_TOKEN");/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ae(e){const a={};return Object.keys(e).forEach(r=>{a[r]=Ee(e[r])}),a}const Ue=j({setup(){const{slots:e,props:a,mergedPrefixCls:r}=z(H),l=z(ee),{appendDisabled:s,removeDisabled:n,triggerAppend:t,triggerRemove:o}=l,h=()=>{t()},u=()=>{o()},f=(v,T,K,P)=>Se(T)?S(oe,{class:`${v}-btn`,icon:T,disabled:K,onClick:P},null):Oe(S(oe,{class:`${v}-btn`,disabled:K,onClick:P},null),[[Le("slos"),{icon:()=>T}]]),D=v=>{if(e.operations)return e.operations(ae(l));if(a.mode!=="immediate")return S("div",{class:`${v}-inner`},[f(v,"right-double",s.value,h),f(v,"left-double",n.value,u)])};return()=>{const v=`${r.value}-operations`;return S("div",{class:v},[D(v)])}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ge(e){const a=J("pagination");return{sourcePagination:ie(e,a,!0),targetPagination:ie(e,a,!1)}}function ie(e,a,r){const l=M(),s=M(),n=i(()=>{const o=e.pagination;if(!o)return null;if(o===!0)return{};const h=r?0:1,u=ne(o.pageIndex),f=ne(o.pageSize),D=ne(o.total);return{pageIndex:u==null?void 0:u[h],pageSize:f==null?void 0:f[h],disabled:e.disabled||o.disabled,total:D==null?void 0:D[h],onChange:(v,T)=>{var K;return(K=o.onChange)==null?void 0:K.call(o,r,v,T)}}});ze(()=>{var h,u;const o=n.value;l.value=(h=o==null?void 0:o.pageIndex)!=null?h:1,s.value=(u=o==null?void 0:o.pageSize)!=null?u:a.pageSize});const t=o=>{l.value=o};return i(()=>{const o=n.value;if(o!==null)return{simple:!0,showTotal:!1,...o,pageIndex:l.value,pageSize:s.value,"onUpdate:pageIndex":t}})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function qe(e,a){return{source:i(()=>de(e,a,!0)),target:i(()=>de(e,a,!1))}}function de(e,a,r){var n;const l=a.searchPlaceholder[r?0:1],s=Se(e.searchPlaceholder)?e.searchPlaceholder:(n=e.searchPlaceholder)==null?void 0:n[r?0:1];return s!=null?s:l}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Je(e,a){return{source:i(()=>he(e,a,!0)),target:i(()=>he(e,a,!1))}}function he(e,a,r){var s;const l=(s=e.searchable)!=null?s:a.searchable;return!l||ye(l)?!!l:r?l.source:l.target}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Qe(e,a,r,l,s,n,t,o,h,u){const{dataSource:f,sourceData:D,targetData:v,targetKeySet:T,dataKeyMap:K,disabledKeys:P,disabledSourceKeys:d,disabledTargetKeys:A,filteredDataSource:b,filteredSourceData:B,filteredTargetData:R,paginatedDataSource:y,paginatedSourceData:F,paginatedTargetData:C,sourceSearchValue:I,setSourceSearchValue:E,targetSearchValue:k,setTargetSearchValue:_,getKey:$}=a,{sourceSelectedKeys:O,targetSelectedKeys:N,sourceSelectedKeySet:m,targetSelectedKeySet:c,sourceSelectAllStatus:g,targetSelectAllStatus:w,sourceSelectAllDisabled:V,targetSelectAllDisabled:X,handleSourceSelectChange:U,handleTargetSelectChange:x,handleSourceSelectAll:Ce,handleTargetSelectAll:De}=l,{triggerAppend:Te,triggerRemove:Pe}=r,ce={dataSource:f,dataKeyMap:K,disabledDataSourceKeys:P,filteredDataSource:b,paginatedDataSource:y,targetKeySet:T,showSelectAll:n,triggerAppend:Te,triggerRemove:Pe,getKey:$};return{sourceBindings:{data:D,filteredData:B,paginatedData:F,pagination:s.sourcePagination,disabledKeys:d,selectedKeys:O,selectedKeySet:m,selectAllDisabled:V,selectAllStatus:g,searchable:t,searchPlaceholder:o,selectAll:Ce,handleSelectChange:U,searchValue:I,handleSearchChange:G=>{E(G),L(e.onSearch,!0,G)},...ce},targetBindings:{data:v,filteredData:R,paginatedData:C,pagination:s.targetPagination,disabledKeys:A,selectedKeys:N,selectedKeySet:c,selectAllDisabled:X,selectAllStatus:w,searchable:h,searchPlaceholder:u,selectAll:De,handleSelectChange:x,searchValue:k,handleSearchChange:G=>{_(G),L(e.onSearch,!1,G)},...ce}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function We(e,a,r,l){const s=Fe(e,a),n=i(()=>c=>{var g;return(g=s.value(c))!=null?g:c.key}),t=i(()=>e.dataSource),o=i(()=>r.value.genDataKeyMap(t.value,n.value)),[h,u]=Q(e,"value",()=>[]),[f,D]=Q(e,"sourceSearchValue",""),[v,T]=Q(e,"targetSearchValue",""),K=i(()=>new Set(h.value)),P=c=>{const g=h.value;u(c),L(e.onChange,c,g)},d=i(()=>r.value.separateDataSource(t.value,o.value,K.value,n.value)),A=i(()=>d.value.sourceData),b=i(()=>d.value.targetData),B=i(()=>r.value.genDataKeys(A.value,n.value)),R=i(()=>r.value.genDataKeys(b.value,n.value)),y=i(()=>r.value.dataFilter(t.value,f.value,(c,g)=>!e.searchFn||e.searchFn(!0,c,g))),F=i(()=>r.value.dataFilter(A.value,f.value,(c,g)=>!e.searchFn||e.searchFn(!0,c,g))),C=i(()=>r.value.dataFilter(b.value,v.value,(c,g)=>!e.searchFn||e.searchFn(!1,c,g))),I=i(()=>le(y.value,l.sourcePagination.value)),E=i(()=>le(F.value,l.sourcePagination.value)),k=i(()=>le(C.value,l.targetPagination.value)),_=(c,g)=>{let w=h.value;c.length>0&&(w=r.value.remove(c,w,n.value)),g.length>0&&(w=r.value.append(g,w,n.value)),P(w)},$=()=>{P(Array.from(N.value))},O=i(()=>r.value.genDisabledKeys(t.value,n.value)),N=i(()=>{const c=r.value.genDisabledKeys(b.value,n.value);return K.value.forEach(g=>{O.value.has(g)&&c.add(g)}),c}),m=i(()=>r.value.genDisabledKeys(A.value,n.value));return{dataSource:t,dataKeyMap:o,sourceData:A,targetData:b,sourceDataKeys:B,targetDataKeys:R,filteredDataSource:y,filteredSourceData:F,filteredTargetData:C,paginatedDataSource:I,paginatedSourceData:E,paginatedTargetData:k,targetKeys:h,targetKeySet:K,changeTargetKeys:_,clear:$,getKey:n,disabledKeys:O,disabledSourceKeys:m,disabledTargetKeys:N,sourceSearchValue:f,setSourceSearchValue:D,targetSearchValue:v,setTargetSearchValue:T}}function le(e,a){if(!a||!a.pageSize)return e;const{total:r}=a;if(r&&e.length<r)return e;const l=a.pageSize,s=(a.pageIndex-1)*l;return e.slice(s,s+l)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Xe(e){const a=new Map;Ne(()=>{a.clear()});const r=(l,s)=>new Set(l.map(n=>s(n)));return{genDataKeys:r,genDataKeyMap:(l,s)=>{const n=new Map;return l.forEach(t=>{n.set(s(t),t)}),n},genDisabledKeys:(l,s)=>{const n=new Set;return l.forEach(t=>{t.disabled&&n.add(s(t))}),n},getAllSelectedKeys:(l,s,n,t,o)=>{let h;return l?(h=r(s,o),t.forEach(u=>{!n.has(u)&&h.delete(u)})):(h=new Set,t.forEach(u=>{n.has(u)&&h.add(u)})),Array.from(h)},separateDataSource:(l,s,n,t)=>{const o=l.filter(u=>!n.has(t(u))),h=[];n.forEach(u=>{var D,v;const f=(v=(D=s.get(u))!=null?D:a.get(u))!=null?v:e==null?void 0:e.find(T=>t(T)===u);f&&!a.has(u)&&a.set(u,f),h.push(f!=null?f:{key:u})});for(const u of a.keys())n.has(u)||a.delete(u);return{sourceData:o,targetData:h}},dataFilter:(l,s,n)=>s?l.filter(t=>n(t,s)):l,append:(l,s)=>{const n=new Set(s);return l.forEach(t=>{n.add(t)}),Array.from(n)},remove:(l,s)=>{const n=new Set(s);return l.forEach(t=>{n.delete(t)}),Array.from(n)}}}function Ye(e){var l;const a=Xe((l=e.defaultTargetData)!=null?l:[]);return i(()=>e.dataStrategy?{...a,...e.dataStrategy}:a)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ze(e,a,r){const{dataKeyMap:l,sourceData:s,targetData:n,disabledSourceKeys:t,disabledTargetKeys:o,changeTargetKeys:h,clear:u,getKey:f}=a,{sourceSelectedKeys:D,targetSelectedKeys:v}=r,T=i(()=>e.disabled||D.value.length<=0),K=i(()=>e.disabled||v.value.length<=0),P=i(()=>e.disabled||s.value.every(y=>t.value.has(f.value(y)))),d=i(()=>e.disabled||n.value.every(y=>o.value.has(f.value(y))));return{appendDisabled:T,removeDisabled:K,appendAllDisabled:P,clearDisabled:d,triggerAppend:y=>{!y&&T.value||y&&e.disabled||h([],(y!=null?y:Array.from(D.value)).filter(F=>!t.value.has(F)))},triggerRemove:y=>{!y&&K.value||y&&e.disabled||h((y!=null?y:Array.from(v.value)).filter(F=>!o.value.has(F)),[])},triggerAppendAll:()=>{P.value||h([],Array.from(l.value.keys()).filter(y=>!t.value.has(y)))},triggerClear:()=>{d.value||(u(),L(e.onClear))}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function pe(e,a,r){const[l,s]=Q(e,"sourceSelectedKeys",()=>[]),[n,t]=Q(e,"targetSelectedKeys",()=>[]),o=i(()=>new Set(l.value)),h=i(()=>new Set(n.value)),{dataKeyMap:u,sourceData:f,targetData:D,sourceDataKeys:v,targetDataKeys:T,targetKeySet:K,disabledKeys:P,disabledSourceKeys:d,disabledTargetKeys:A,getKey:b}=a,B=i(()=>e.mode==="immediate"?u.value.size:v.value.size),R=i(()=>T.value.size),y=i(()=>{const m=e.mode==="immediate"?P.value.size:d.value.size;return B.value-m}),F=i(()=>T.value.size-A.value.size),C=i(()=>({checked:B.value>=l.value.length&&l.value.length>0,indeterminate:B.value>l.value.length&&l.value.length>0})),I=i(()=>({checked:R.value>=n.value.length&&n.value.length>0,indeterminate:R.value>n.value.length&&n.value.length>0}));let E=!1;Y(o,(m,c)=>{if(e.mode==="immediate"){if(E)return;ea(c,m,a)}}),Y([y,u,P,K],(m,[,,,c])=>{const g=new Set(l.value),w=new Set,V=new Set,X=x=>{g.has(x)||(g.add(x),V.add(x),w.delete(x))},U=x=>{g.has(x)&&(g.delete(x),w.add(x),V.delete(x))};l.value.forEach(x=>{if(!u.value.has(x)||P.value.has(x)){U(x);return}e.mode==="default"&&K.value.has(x)&&U(x)}),e.mode==="immediate"&&(K.value.forEach(x=>{u.value.has(x)&&X(x)}),c==null||c.forEach(x=>{K.value.has(x)||U(x)})),(V.size>0||w.size>0)&&(s(Array.from(g)),E=!0,Ve(()=>{E=!1}))},{immediate:!0,flush:"post"}),Y([F,T,A],()=>{const m=new Set(n.value);n.value.forEach(c=>{(!T.value.has(c)||A.value.has(c))&&m.delete(c)}),t(Array.from(m))},{immediate:!0,flush:"post"});const k=m=>{e.disabled||s(se(m)?m:Array.from(m))},_=m=>{e.disabled||t(se(m)?m:Array.from(m))},$=(m=!0,c=!0)=>{if(e.disabled)return;const g=c?f.value:D.value,w=c?e.mode==="default"?d:P:A,V=c?o:h;(c?s:t)(r.value.getAllSelectedKeys(m,g,V.value,w.value,b.value)),L(e.onSelectAll,c,m)},O=i(()=>e.disabled||y.value<=0),N=i(()=>e.disabled||F.value<=0);return{sourceSelectedKeys:l,targetSelectedKeys:n,sourceSelectedKeySet:o,targetSelectedKeySet:h,handleSourceSelectChange:k,handleTargetSelectChange:_,sourceSelectAllStatus:C,targetSelectAllStatus:I,handleSourceSelectAll:m=>$(m,!0),handleTargetSelectAll:m=>$(m,!1),sourceSelectAllDisabled:O,targetSelectAllDisabled:N,setSourceSelectedKeys:s,setTargetSelectedKeys:t}}function ea(e,a,r){const{changeTargetKeys:l}=r,s=[],n=[];for(const t of e.values())a.has(t)||n.push(t);for(const t of a.values())e.has(t)||s.push(t);l(n,s)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const aa={value:Array,sourceSelectedKeys:Array,targetSelectedKeys:Array,sourceSearchValue:String,targetSearchValue:String,clearable:{type:Boolean,default:void 0},clearIcon:String,customAdditional:{type:Function,default:void 0},dataSource:{type:Array,default:()=>[]},dataStrategy:Object,defaultTargetData:Array,disabled:{type:Boolean,default:!1},empty:[String,Object],getKey:[String,Function],mode:{type:String,default:"default"},pagination:{type:[Boolean,Object],default:void 0},scroll:Object,searchable:{type:[Boolean,Object],default:void 0},searchFn:Function,searchPlaceholder:[String,Array],spin:{type:[Boolean,Object],default:void 0},showSelectAll:{type:Boolean,default:void 0},virtual:{type:Boolean,default:!1},"onUpdate:value":[Function,Array],"onUpdate:sourceSelectedKeys":[Function,Array],"onUpdate:targetSelectedKeys":[Function,Array],"onUpdate:sourceSearchValue":[Function,Array],"onUpdate:targetSearchValue":[Function,Array],onChange:[Function,Array],onSearch:[Function,Array],onSelectAll:[Function,Array],onClear:[Function,Array],onScroll:[Function,Array],onScrolledChange:[Function,Array],onScrolledBottom:[Function,Array]},te={isSource:{type:Boolean,required:!0}},ta=te,na=te,la=te,ra={dataSource:Array,checkable:{type:Boolean,default:!0},removable:{type:Boolean,default:!1},checked:Function,customAdditional:{type:Function,default:void 0},disabled:Function,getKey:Function,labelKey:String,virtual:{type:Boolean,default:!1},scroll:Object,onCheckChange:[Function,Array],onRemove:[Function,Array],onScroll:[Function,Array],onScrolledChange:[Function,Array],onScrolledBottom:[Function,Array]},sa={checked:{type:Boolean,default:!1},checkable:{type:Boolean,default:!0},removable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},label:String,value:{type:[String,Number,Symbol],required:!0},onCheckChange:[Function,Array],onRemove:[Function,Array]},ca=j({props:sa,setup(e,{slots:a}){const{mergedPrefixCls:r}=z(Ke),l=t=>{L(e.onCheckChange,!!t)},s=()=>{L(e.onRemove)},n=i(()=>{const t=`${r.value}-item`;return W({[t]:!0,[`${t}-disabled`]:e.disabled})});return()=>{const t=`${r.value}-item`,o=[];if(e.checkable)o.push(S(fe,{class:`${t}-checkbox`,label:e.label,value:e.value,checked:e.checked,disabled:e.disabled,onChange:l},a));else{const h=xe(a.default,e.label);o.push(S("label",{class:`${t}-label`},[h]))}return e.removable&&!e.disabled&&o.push(S("div",{class:`${t}-close-icon`,onClick:s},[S(re,{name:"close"},null)])),S("li",{class:n.value},[o])}}}),Ae=j({name:"IxTransferList",props:ra,setup(e,{slots:a,expose:r}){const l=J("common"),s=i(()=>`${l.prefixCls}-transfer-list`),n=i(()=>{var d;return(d=e.labelKey)!=null?d:"label"}),t=M();q(Ke,{mergedPrefixCls:s}),r({scrollTo:d=>{var A;return(A=t.value)==null?void 0:A.scrollTo(d)}});const h=d=>{var A,b;return(b=(A=e.getKey)==null?void 0:A.call(e,d))!=null?b:d.key},u=d=>{L(e.onScroll,d)},f=()=>{L(e.onScrolledBottom)},D=(d,A,b)=>{L(e.onScrolledChange,d,A,b)},v=({item:d,index:A})=>{var F,C;const b=h(d),B=I=>{L(e.onCheckChange,d,I)},R=()=>{L(e.onRemove,d)},y=e.customAdditional?e.customAdditional({data:d,index:A}):void 0;return S(ca,me({key:b,value:b,label:d[n.value],checked:!!((F=e.checked)!=null&&F.call(e,d)),disabled:!!((C=e.disabled)!=null&&C.call(e,d)),checkable:e.checkable,removable:e.removable,onCheckChange:B,onRemove:R},y),{default:a.label&&(()=>{var I;return(I=a.label)==null?void 0:I.call(a,d)})})},T=()=>{var R;const{dataSource:d,virtual:A,scroll:b}=e,B=d!=null?d:[];if(!(B.length<=0))return A?S(Be,{ref:t,dataSource:B,fullHeight:!!(b!=null&&b.fullHeight),getKey:h,height:(R=b==null?void 0:b.height)!=null?R:"100%",itemHeight:32,itemRender:v,virtual:!0,onScroll:u,onScrolledBottom:f,onScrolledChange:D},null):S("ul",{class:`${s.value}-inner`},[B.map((y,F)=>v({item:y,index:F}))])},K=i(()=>{const d=s.value;return W({[d]:!0,[`${d}-virtual`]:!!e.virtual})}),P=i(()=>{const d=e.scroll;return d&&be({[d.fullHeight?"height":"maxHeight"]:ve(d.height)})});return()=>S("div",{class:K.value,style:P.value,onScroll:u},[T()])}}),oa=j({props:ta,setup(e){const{props:a,slots:r,mergedPrefixCls:l,sourceTransferListRef:s,targetTransferListRef:n,getKey:t}=z(H),o=e.isSource?z(Z):z(p),{paginatedDataSource:h,paginatedData:u,selectedKeySet:f,disabledDataSourceKeys:D,disabledKeys:v,handleSelectChange:T}=o,{triggerRemove:K}=z(ee),P=e.isSource?s:n,d=C=>{L(a.onScroll,e.isSource,C)},A=()=>{L(a.onScrolledBottom,e.isSource)},b=(C,I,E)=>{L(a.onScrolledChange,e.isSource,C,I,E)},B=i(()=>e.isSource&&a.mode==="immediate"?h.value:u.value),R=i(()=>e.isSource&&a.mode==="immediate"?D.value:v.value),y=C=>{if((e.isSource&&a.mode==="immediate"?h.value:u.value).length<=0)return S("div",{class:`${C}-empty-wrapper`},[S(Re,{empty:a.empty},r)]);const E=($,O)=>{const N=t.value($),m=new Set(f.value);O?m.add(N):m.delete(N),T(m)},k=$=>{const O=t.value($);K([O])},_={label:r.label&&($=>{var O;return(O=r.label)==null?void 0:O.call(r,{item:$,isSource:e.isSource})})};return S(Ae,{ref:P,dataSource:B.value,getKey:t.value,checked:$=>f.value.has(t.value($)),disabled:$=>a.disabled||R.value.has(t.value($)),checkable:e.isSource||a.mode==="default",removable:!e.isSource&&a.mode==="immediate",virtual:a.virtual,scroll:a.scroll,onCheckChange:E,onRemove:k,onScroll:d,onScrolledChange:b,onScrolledBottom:A},_)},F=C=>r.default?r.default({...ae(o),isSource:e.isSource}):y(C);return()=>{const C=`${l.value}-body`;return S("div",{class:`${l.value}-body`},[F(C)])}}}),ua=j({props:la,setup(e){const{slots:a,props:r,mergedPrefixCls:l}=z(H),s=e.isSource?z(Z):z(p),{pagination:n,filteredData:t,filteredDataSource:o}=s,h=u=>{var D,v;if(a.footer)return a.footer({...ae(s),isSource:e.isSource});if(!n.value)return;const f=(v=(D=n.value)==null?void 0:D.total)!=null?v:e.isSource&&r.mode==="immediate"?o.value.length:t.value.length;return S("div",{class:`${u}-inner`},[S(He,me({class:`${u}-pagination`},n.value,{total:f}),null)])};return()=>{const u=`${l.value}-footer`,f=h(u);if(!(!f||se(f)&&f.length<=0))return S("div",{class:u},[f])}}}),ia=j({props:na,setup(e){const{props:a,slots:r,config:l,locale:s,mergedPrefixCls:n}=z(H),t=e.isSource?z(Z):z(p),{clearDisabled:o,triggerClear:h}=z(ee),{showSelectAll:u,data:f,selectAllDisabled:D,selectAllStatus:v,searchable:T,searchPlaceholder:K,searchValue:P,handleSearchChange:d,selectAll:A}=t,[b,B]=Ie(""),R=M(),y=()=>{var g;const c=(g=R.value)==null?void 0:g.getInputElement();c&&c.value!==P.value&&(c.value=P.value),b.value!==P.value&&B(P.value)};ke(()=>{y()}),Y(P,()=>{y()});const F=()=>{d(b.value)},C=c=>{const g=c.target.value;B(g),g||F()},I=_e(()=>{F()},["enter"]),E=c=>{A(!!c)},k=c=>{if(!(!u.value||!e.isSource&&a.mode==="immediate"))return S(fe,{class:`${c}-check-all`,checked:v.value.checked,indeterminate:v.value.indeterminate,disabled:D.value,onChange:E},null)},_=c=>{let g;return r.headerLabel?g=r.headerLabel({data:f.value,isSource:e.isSource}):g=`${e.isSource?s.toSelect:s.selected} (${f.value.length})`,S("span",{class:`${c}-label`},[g])},$=c=>{if(!T.value)return;const g={suffix:()=>S(re,{class:`${c}-search-icon`,name:"search",onClick:F},null)};return S(we,{ref:R,class:`${c}-search-input`,disabled:a.disabled,type:"text",size:"sm",placeholder:K.value,onInput:C,onKeydown:I},g)},O=c=>{var w,V;if(e.isSource||!((w=a.clearable)!=null?w:l.clearable))return;const g=W({[`${c}-clear-icon`]:!0,[`${c}-clear-icon-disabled`]:o.value});return S("span",{class:g,onClick:h},[r.clearIcon?r.clearIcon():S(re,{name:(V=a.clearIcon)!=null?V:l.clearIcon},null)])},N=c=>{var w;const g=(w=r.headerSuffix)==null?void 0:w.call(r,{isSource:e.isSource});if(!ue(g))return S("span",{class:`${c}-suffix`},[g])},m=c=>r.header?r.header({...ae(t),isSource:e.isSource}):S("div",{class:`${c}-inner`},[k(c),_(c),$(c),O(c),N(c)]);return()=>{const c=`${n.value}-header`,g=m(c);if(!ue(g))return S("div",{class:c},[g])}}}),ge=j({props:te,setup(e){const{props:a,mergedPrefixCls:r}=z(H),l=i(()=>{const t=`${r.value}-content`;return W({[t]:!0,[`${t}-${e.isSource?"source":"target"}`]:!0,[`${t}-disabled`]:a.disabled})}),s=i(()=>{var h;const t=(h=a.scroll)==null?void 0:h.width;let o;if(je(t)?o=e.isSource?t.source:t.target:o=t,!!o)return be({width:ve(o)})}),n=i(()=>{if(!Me(a.spin))return ye(a.spin)?{spinning:!!a.spin}:{spinning:e.isSource?a.spin.source:a.spin.target}});return()=>{const t=[S(ia,{isSource:e.isSource},null),S(oa,{isSource:e.isSource},null),S(ua,{isSource:e.isSource},null)];return S("div",{class:l.value,style:s.value},[n.value?S($e,n.value,{default:()=>[t]}):t])}}}),da=j({name:"IxTransfer",props:aa,setup(e,{slots:a,expose:r}){const l=J("common"),s=J("transfer"),n=J("locale").transfer,t=i(()=>`${l.prefixCls}-transfer`),o=i(()=>{var C;return(C=e.showSelectAll)!=null?C:s.showSelectAll}),{source:h,target:u}=Je(e,s),{source:f,target:D}=qe(e,n),v=Ye(e),T=Ge(e),K=We(e,s,v,T),P=pe(e,K,v),d=Ze(e,K,P),{sourceBindings:A,targetBindings:b}=Qe(e,K,d,P,T,o,h,f,u,D),B=M(),R=M();r({scrollTo:(C,...I)=>{var E;return(E=(C?B:R).value)==null?void 0:E.scrollTo(...I)}}),q(H,{props:e,slots:a,locale:n,config:s,mergedPrefixCls:t,sourceTransferListRef:B,targetTransferListRef:R,showSelectAll:o,getKey:K.getKey}),q(Z,A),q(p,b),q(ee,d);const F=i(()=>{var I;const C=t.value;return W({[C]:!0,[`${C}-fit-content`]:!!((I=e.scroll)!=null&&I.height)})});return()=>S("div",{class:F.value},[S(ge,{isSource:!0},null),S(Ue,null,null),S(ge,{isSource:!1},null)])}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const va=da,Sa=Ae;export{va as I,Z as T,p as a,Sa as b};
