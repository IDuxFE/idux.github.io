import{c as oe,u as J,aa as le,i as k,ar as Fe,ac as Q,C as fe,n as xe,v as re,aJ as ve,a7 as Be,aq as Re,a8 as Ie,aM as ue,E as Ee,ay as $e}from"./index-cbb19196.js";import{u as we,v as _,i as L,y as v,l as Se,H as Oe,at as ke,b as j,e as u,Q as Le,au as ye,aj as ze,w as Y,G as Ne,O as se,z as W,p as q,B as me,a2 as be,x as Ve,av as _e,j as Me,k as je}from"./vendor-5869a5c0.js";import{I as He}from"./index-729b4614.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const H=Symbol("transferContext"),Ke=Symbol("transferListContext"),Z=Symbol("TRANSFER_SOURCE_TOKEN"),p=Symbol("TRANSFER_TARGET_TOKEN"),ee=Symbol("TRANSFER_OPERATIONS_TOKEN");/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ae(e){const a={};return Object.keys(e).forEach(n=>{a[n]=we(e[n])}),a}const Ue=_({setup(){const{slots:e,props:a,mergedPrefixCls:n}=L(H),r=L(ee),{appendDisabled:c,removeDisabled:l,triggerAppend:t,triggerRemove:o}=r,d=()=>{t()},i=()=>{o()},f=(S,T,b,A)=>Se(T)?v(oe,{class:`${S}-btn`,icon:T,disabled:b,onClick:A},null):Oe(v(oe,{class:`${S}-btn`,disabled:b,onClick:A},null),[[ke("slos"),{icon:()=>T}]]),D=S=>{if(e.operations)return e.operations(ae(r));if(a.mode!=="immediate")return v("div",{class:`${S}-inner`},[f(S,"right-double",c.value,d),f(S,"left-double",l.value,i)])};return()=>{const S=`${n.value}-operations`;return v("div",{class:S},[D(S)])}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ge(e){const a=J("pagination");return{sourcePagination:ie(e,a,!0),targetPagination:ie(e,a,!1)}}function ie(e,a,n){const r=j(),c=j(),l=u(()=>{const o=e.pagination;if(!o)return null;if(o===!0)return{};const d=n?0:1,i=le(o.pageIndex),f=le(o.pageSize),D=le(o.total);return{pageIndex:i==null?void 0:i[d],pageSize:f==null?void 0:f[d],disabled:e.disabled||o.disabled,total:D==null?void 0:D[d],onChange:(S,T)=>{var b;return(b=o.onChange)==null?void 0:b.call(o,n,S,T)}}});Le(()=>{const o=l.value;r.value=(o==null?void 0:o.pageIndex)??1,c.value=(o==null?void 0:o.pageSize)??a.pageSize});const t=o=>{r.value=o};return u(()=>{const o=l.value;if(o!==null)return{simple:!0,showTotal:!1,...o,pageIndex:r.value,pageSize:c.value,"onUpdate:pageIndex":t}})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function qe(e,a){return{source:u(()=>de(e,a,!0)),target:u(()=>de(e,a,!1))}}function de(e,a,n){var l;const r=a.searchPlaceholder[n?0:1];return(Se(e.searchPlaceholder)?e.searchPlaceholder:(l=e.searchPlaceholder)==null?void 0:l[n?0:1])??r}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Je(e,a){return{source:u(()=>he(e,a,!0)),target:u(()=>he(e,a,!1))}}function he(e,a,n){const r=e.searchable??a.searchable;return!r||ye(r)?!!r:n?r.source:r.target}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Qe(e,a,n,r,c,l,t,o,d,i){const{dataSource:f,sourceData:D,targetData:S,targetKeySet:T,dataKeyMap:b,disabledKeys:A,disabledSourceKeys:h,disabledTargetKeys:K,filteredDataSource:C,filteredSourceData:x,filteredTargetData:I,paginatedDataSource:m,paginatedSourceData:B,paginatedTargetData:P,sourceSearchValue:R,setSourceSearchValue:$,targetSearchValue:N,setTargetSearchValue:V,getKey:E}=a,{sourceSelectedKeys:O,targetSelectedKeys:z,sourceSelectedKeySet:y,targetSelectedKeySet:s,sourceSelectAllStatus:g,targetSelectAllStatus:w,sourceSelectAllDisabled:M,targetSelectAllDisabled:X,handleSourceSelectChange:U,handleTargetSelectChange:F,handleSourceSelectAll:Ce,handleTargetSelectAll:De}=r,{triggerAppend:Te,triggerRemove:Pe}=n,ce={dataSource:f,dataKeyMap:b,disabledDataSourceKeys:A,filteredDataSource:C,paginatedDataSource:m,targetKeySet:T,showSelectAll:l,triggerAppend:Te,triggerRemove:Pe,getKey:E};return{sourceBindings:{data:D,filteredData:x,paginatedData:B,pagination:c.sourcePagination,disabledKeys:h,selectedKeys:O,selectedKeySet:y,selectAllDisabled:M,selectAllStatus:g,searchable:t,searchPlaceholder:o,selectAll:Ce,handleSelectChange:U,searchValue:R,handleSearchChange:G=>{$(G),k(e.onSearch,!0,G)},...ce},targetBindings:{data:S,filteredData:I,paginatedData:P,pagination:c.targetPagination,disabledKeys:K,selectedKeys:z,selectedKeySet:s,selectAllDisabled:X,selectAllStatus:w,searchable:d,searchPlaceholder:i,selectAll:De,handleSelectChange:F,searchValue:N,handleSearchChange:G=>{V(G),k(e.onSearch,!1,G)},...ce}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function We(e,a,n,r){const c=Fe(e,a),l=u(()=>s=>c.value(s)??s.key),t=u(()=>e.dataSource),o=u(()=>n.value.genDataKeyMap(t.value,l.value)),[d,i]=Q(e,"value",()=>[]),[f,D]=Q(e,"sourceSearchValue",""),[S,T]=Q(e,"targetSearchValue",""),b=u(()=>new Set(d.value)),A=s=>{const g=d.value;i(s),k(e.onChange,s,g)},h=u(()=>n.value.separateDataSource(t.value,o.value,b.value,l.value)),K=u(()=>h.value.sourceData),C=u(()=>h.value.targetData),x=u(()=>n.value.genDataKeys(K.value,l.value)),I=u(()=>n.value.genDataKeys(C.value,l.value)),m=u(()=>n.value.dataFilter(t.value,f.value,(s,g)=>!e.searchFn||e.searchFn(!0,s,g))),B=u(()=>n.value.dataFilter(K.value,f.value,(s,g)=>!e.searchFn||e.searchFn(!0,s,g))),P=u(()=>n.value.dataFilter(C.value,S.value,(s,g)=>!e.searchFn||e.searchFn(!1,s,g))),R=u(()=>ne(m.value,r.sourcePagination.value)),$=u(()=>ne(B.value,r.sourcePagination.value)),N=u(()=>ne(P.value,r.targetPagination.value)),V=(s,g)=>{let w=d.value;s.length>0&&(w=n.value.remove(s,w,l.value)),g.length>0&&(w=n.value.append(g,w,l.value)),A(w)},E=()=>{A(Array.from(z.value))},O=u(()=>n.value.genDisabledKeys(t.value,l.value)),z=u(()=>{const s=n.value.genDisabledKeys(C.value,l.value);return b.value.forEach(g=>{O.value.has(g)&&s.add(g)}),s}),y=u(()=>n.value.genDisabledKeys(K.value,l.value));return{dataSource:t,dataKeyMap:o,sourceData:K,targetData:C,sourceDataKeys:x,targetDataKeys:I,filteredDataSource:m,filteredSourceData:B,filteredTargetData:P,paginatedDataSource:R,paginatedSourceData:$,paginatedTargetData:N,targetKeys:d,targetKeySet:b,changeTargetKeys:V,clear:E,getKey:l,disabledKeys:O,disabledSourceKeys:y,disabledTargetKeys:z,sourceSearchValue:f,setSourceSearchValue:D,targetSearchValue:S,setTargetSearchValue:T}}function ne(e,a){if(!a||!a.pageSize)return e;const{total:n}=a;if(n&&e.length<n)return e;const r=a.pageSize,c=(a.pageIndex-1)*r;return e.slice(c,c+r)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Xe(e){const a=new Map;ze(()=>{a.clear()});const n=(r,c)=>new Set(r.map(l=>c(l)));return{genDataKeys:n,genDataKeyMap:(r,c)=>{const l=new Map;return r.forEach(t=>{l.set(c(t),t)}),l},genDisabledKeys:(r,c)=>{const l=new Set;return r.forEach(t=>{t.disabled&&l.add(c(t))}),l},getAllSelectedKeys:(r,c,l,t,o)=>{let d;return r?(d=n(c,o),t.forEach(i=>{!l.has(i)&&d.delete(i)})):(d=new Set,t.forEach(i=>{l.has(i)&&d.add(i)})),Array.from(d)},separateDataSource:(r,c,l,t)=>{const o=r.filter(i=>!l.has(t(i))),d=[];l.forEach(i=>{const f=c.get(i)??a.get(i)??(e==null?void 0:e.find(D=>t(D)===i));f&&!a.has(i)&&a.set(i,f),d.push(f??{key:i})});for(const i of a.keys())l.has(i)||a.delete(i);return{sourceData:o,targetData:d}},dataFilter:(r,c,l)=>c?r.filter(t=>l(t,c)):r,append:(r,c)=>{const l=new Set(c);return r.forEach(t=>{l.add(t)}),Array.from(l)},remove:(r,c)=>{const l=new Set(c);return r.forEach(t=>{l.delete(t)}),Array.from(l)}}}function Ye(e){const a=Xe(e.defaultTargetData??[]);return u(()=>e.dataStrategy?{...a,...e.dataStrategy}:a)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ze(e,a,n){const{dataKeyMap:r,sourceData:c,targetData:l,disabledSourceKeys:t,disabledTargetKeys:o,changeTargetKeys:d,clear:i,getKey:f}=a,{sourceSelectedKeys:D,targetSelectedKeys:S}=n,T=u(()=>e.disabled||D.value.length<=0),b=u(()=>e.disabled||S.value.length<=0),A=u(()=>e.disabled||c.value.every(m=>t.value.has(f.value(m)))),h=u(()=>e.disabled||l.value.every(m=>o.value.has(f.value(m))));return{appendDisabled:T,removeDisabled:b,appendAllDisabled:A,clearDisabled:h,triggerAppend:m=>{!m&&T.value||m&&e.disabled||d([],(m??Array.from(D.value)).filter(B=>!t.value.has(B)))},triggerRemove:m=>{!m&&b.value||m&&e.disabled||d((m??Array.from(S.value)).filter(B=>!o.value.has(B)),[])},triggerAppendAll:()=>{A.value||d([],Array.from(r.value.keys()).filter(m=>!t.value.has(m)))},triggerClear:()=>{h.value||(i(),k(e.onClear))}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function pe(e,a,n){const[r,c]=Q(e,"sourceSelectedKeys",()=>[]),[l,t]=Q(e,"targetSelectedKeys",()=>[]),o=u(()=>new Set(r.value)),d=u(()=>new Set(l.value)),{dataKeyMap:i,sourceData:f,targetData:D,sourceDataKeys:S,targetDataKeys:T,targetKeySet:b,disabledKeys:A,disabledSourceKeys:h,disabledTargetKeys:K,getKey:C}=a,x=u(()=>e.mode==="immediate"?i.value.size:S.value.size),I=u(()=>T.value.size),m=u(()=>{const y=e.mode==="immediate"?A.value.size:h.value.size;return x.value-y}),B=u(()=>T.value.size-K.value.size),P=u(()=>({checked:x.value>=r.value.length&&r.value.length>0,indeterminate:x.value>r.value.length&&r.value.length>0})),R=u(()=>({checked:I.value>=l.value.length&&l.value.length>0,indeterminate:I.value>l.value.length&&l.value.length>0}));let $=!1;Y(o,(y,s)=>{if(e.mode==="immediate"){if($)return;ea(s,y,a)}}),Y([m,i,A,b],(y,[,,,s])=>{const g=new Set(r.value),w=new Set,M=new Set,X=F=>{g.has(F)||(g.add(F),M.add(F),w.delete(F))},U=F=>{g.has(F)&&(g.delete(F),w.add(F),M.delete(F))};r.value.forEach(F=>{if(!i.value.has(F)||A.value.has(F)){U(F);return}e.mode==="default"&&b.value.has(F)&&U(F)}),e.mode==="immediate"&&(b.value.forEach(F=>{i.value.has(F)&&X(F)}),s==null||s.forEach(F=>{b.value.has(F)||U(F)})),(M.size>0||w.size>0)&&(c(Array.from(g)),$=!0,Ne(()=>{$=!1}))},{immediate:!0,flush:"post"}),Y([B,T,K],()=>{const y=new Set(l.value);l.value.forEach(s=>{(!T.value.has(s)||K.value.has(s))&&y.delete(s)}),t(Array.from(y))},{immediate:!0,flush:"post"});const N=y=>{e.disabled||c(se(y)?y:Array.from(y))},V=y=>{e.disabled||t(se(y)?y:Array.from(y))},E=(y=!0,s=!0)=>{if(e.disabled)return;const g=s?f.value:D.value,w=s?e.mode==="default"?h:A:K,M=s?o:d;(s?c:t)(n.value.getAllSelectedKeys(y,g,M.value,w.value,C.value)),k(e.onSelectAll,s,y)},O=u(()=>e.disabled||m.value<=0),z=u(()=>e.disabled||B.value<=0);return{sourceSelectedKeys:r,targetSelectedKeys:l,sourceSelectedKeySet:o,targetSelectedKeySet:d,handleSourceSelectChange:N,handleTargetSelectChange:V,sourceSelectAllStatus:P,targetSelectAllStatus:R,handleSourceSelectAll:y=>E(y,!0),handleTargetSelectAll:y=>E(y,!1),sourceSelectAllDisabled:O,targetSelectAllDisabled:z,setSourceSelectedKeys:c,setTargetSelectedKeys:t}}function ea(e,a,n){const{changeTargetKeys:r}=n,c=[],l=[];for(const t of e.values())a.has(t)||l.push(t);for(const t of a.values())e.has(t)||c.push(t);r(l,c)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const aa={value:Array,sourceSelectedKeys:Array,targetSelectedKeys:Array,sourceSearchValue:String,targetSearchValue:String,clearable:{type:Boolean,default:void 0},clearIcon:String,customAdditional:{type:Function,default:void 0},dataSource:{type:Array,default:()=>[]},dataStrategy:Object,defaultTargetData:Array,disabled:{type:Boolean,default:!1},empty:{type:[String,Object],default:"simple"},getKey:[String,Function],mode:{type:String,default:"default"},pagination:{type:[Boolean,Object],default:void 0},scroll:Object,searchable:{type:[Boolean,Object],default:void 0},searchFn:Function,searchPlaceholder:[String,Array],spin:{type:[Boolean,Object],default:void 0},showSelectAll:{type:Boolean,default:void 0},virtual:{type:Boolean,default:!1},"onUpdate:value":[Function,Array],"onUpdate:sourceSelectedKeys":[Function,Array],"onUpdate:targetSelectedKeys":[Function,Array],"onUpdate:sourceSearchValue":[Function,Array],"onUpdate:targetSearchValue":[Function,Array],onChange:[Function,Array],onSearch:[Function,Array],onSelectAll:[Function,Array],onClear:[Function,Array],onScroll:[Function,Array],onScrolledChange:[Function,Array],onScrolledBottom:[Function,Array]},te={isSource:{type:Boolean,required:!0}},ta=te,la=te,na=te,ra={dataSource:Array,checkable:{type:Boolean,default:!0},removable:{type:Boolean,default:!1},checked:Function,customAdditional:{type:Function,default:void 0},disabled:Function,getKey:Function,labelKey:String,virtual:{type:Boolean,default:!1},scroll:Object,onCheckChange:[Function,Array],onRemove:[Function,Array],onScroll:[Function,Array],onScrolledChange:[Function,Array],onScrolledBottom:[Function,Array]},sa={checked:{type:Boolean,default:!1},checkable:{type:Boolean,default:!0},removable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},label:String,value:{type:[String,Number,Symbol],required:!0},onCheckChange:[Function,Array],onRemove:[Function,Array]},ca=_({props:sa,setup(e,{slots:a}){const{mergedPrefixCls:n}=L(Ke),r=t=>{k(e.onCheckChange,!!t)},c=()=>{k(e.onRemove)},l=u(()=>{const t=`${n.value}-item`;return W({[t]:!0,[`${t}-disabled`]:e.disabled})});return()=>{const t=`${n.value}-item`,o=[];if(e.checkable)o.push(v(fe,{class:`${t}-checkbox`,label:e.label,value:e.value,checked:e.checked,disabled:e.disabled,onChange:r},a));else{const d=xe(a.default,e.label);o.push(v("label",{class:`${t}-label`},[d]))}return e.removable&&!e.disabled&&o.push(v("div",{class:`${t}-close-icon`,onClick:c},[v(re,{name:"close"},null)])),v("li",{class:l.value},[o])}}}),Ae=_({name:"IxTransferList",props:ra,setup(e,{slots:a,expose:n}){const r=J("common"),c=u(()=>`${r.prefixCls}-transfer-list`),l=u(()=>e.labelKey??"label"),t=j();q(Ke,{mergedPrefixCls:c}),n({scrollTo:h=>{var K;return(K=t.value)==null?void 0:K.scrollTo(h)}});const d=h=>{var K;return((K=e.getKey)==null?void 0:K.call(e,h))??h.key},i=h=>{k(e.onScroll,h)},f=()=>{k(e.onScrolledBottom)},D=(h,K,C)=>{k(e.onScrolledChange,h,K,C)},S=({item:h,index:K})=>{var B,P;const C=d(h),x=R=>{k(e.onCheckChange,h,R)},I=()=>{k(e.onRemove,h)},m=e.customAdditional?e.customAdditional({data:h,index:K}):void 0;return v(ca,be({key:C,value:C,label:h[l.value],checked:!!((B=e.checked)!=null&&B.call(e,h)),disabled:!!((P=e.disabled)!=null&&P.call(e,h)),checkable:e.checkable,removable:e.removable,onCheckChange:x,onRemove:I},m),{default:a.label&&(()=>{var R;return(R=a.label)==null?void 0:R.call(a,h)})})},T=()=>{const{dataSource:h,virtual:K,scroll:C}=e,x=h??[];if(!(x.length<=0))return K?v(Be,{ref:t,dataSource:x,fullHeight:!!(C!=null&&C.fullHeight),getKey:d,height:(C==null?void 0:C.height)??"100%",itemHeight:32,itemRender:S,virtual:!0,onScroll:i,onScrolledBottom:f,onScrolledChange:D},null):v("ul",{class:`${c.value}-inner`},[x.map((I,m)=>S({item:I,index:m}))])},b=u(()=>{const h=c.value;return W({[h]:!0,[`${h}-virtual`]:!!e.virtual})}),A=u(()=>{const h=e.scroll;return h&&me({[h.fullHeight?"height":"maxHeight"]:ve(h.height)})});return()=>v("div",{class:b.value,style:A.value,onScroll:i},[T()])}}),oa=_({props:ta,setup(e){const{props:a,slots:n,mergedPrefixCls:r,sourceTransferListRef:c,targetTransferListRef:l,getKey:t}=L(H),o=e.isSource?L(Z):L(p),{paginatedDataSource:d,paginatedData:i,selectedKeySet:f,disabledDataSourceKeys:D,disabledKeys:S,handleSelectChange:T}=o,{triggerRemove:b}=L(ee),A=e.isSource?c:l,h=P=>{k(a.onScroll,e.isSource,P)},K=()=>{k(a.onScrolledBottom,e.isSource)},C=(P,R,$)=>{k(a.onScrolledChange,e.isSource,P,R,$)},x=u(()=>e.isSource&&a.mode==="immediate"?d.value:i.value),I=u(()=>e.isSource&&a.mode==="immediate"?D.value:S.value),m=P=>{if((e.isSource&&a.mode==="immediate"?d.value:i.value).length<=0)return v("div",{class:`${P}-empty-wrapper`},[v(Re,{empty:a.empty},n)]);const $=(E,O)=>{const z=t.value(E),y=new Set(f.value);O?y.add(z):y.delete(z),T(y)},N=E=>{const O=t.value(E);b([O])},V={label:n.label&&(E=>{var O;return(O=n.label)==null?void 0:O.call(n,{item:E,isSource:e.isSource})})};return v(Ae,{ref:A,dataSource:x.value,getKey:t.value,checked:E=>f.value.has(t.value(E)),disabled:E=>a.disabled||I.value.has(t.value(E)),checkable:e.isSource||a.mode==="default",removable:!e.isSource&&a.mode==="immediate",virtual:a.virtual,scroll:a.scroll,onCheckChange:$,onRemove:N,onScroll:h,onScrolledChange:C,onScrolledBottom:K},V)},B=P=>n.default?n.default({...ae(o),isSource:e.isSource}):m(P);return()=>{const P=`${r.value}-body`;return v("div",{class:`${r.value}-body`},[B(P)])}}}),ua=_({props:na,setup(e){const{slots:a,props:n,mergedPrefixCls:r}=L(H),c=e.isSource?L(Z):L(p),{pagination:l,filteredData:t,filteredDataSource:o}=c,d=i=>{var D;if(a.footer)return a.footer({...ae(c),isSource:e.isSource});if(!l.value)return;const f=((D=l.value)==null?void 0:D.total)??(e.isSource&&n.mode==="immediate"?o.value.length:t.value.length);return v("div",{class:`${i}-inner`},[v(He,be({class:`${i}-pagination`},l.value,{total:f}),null)])};return()=>{const i=`${r.value}-footer`,f=d(i);if(!(!f||se(f)&&f.length<=0))return v("div",{class:i},[f])}}}),ia=_({props:la,setup(e){const{props:a,slots:n,config:r,locale:c,mergedPrefixCls:l}=L(H),t=e.isSource?L(Z):L(p),{clearDisabled:o,triggerClear:d}=L(ee),{showSelectAll:i,data:f,selectAllDisabled:D,selectAllStatus:S,searchable:T,searchPlaceholder:b,searchValue:A,handleSearchChange:h,selectAll:K}=t,[C,x]=Ie(""),I=j(),m=()=>{var g;const s=(g=I.value)==null?void 0:g.getInputElement();s&&s.value!==A.value&&(s.value=A.value),C.value!==A.value&&x(A.value)};Ve(()=>{m()}),Y(A,()=>{m()});const B=()=>{h(C.value)},P=s=>{const g=s.target.value;x(g),g||B()},R=_e(()=>{B()},["enter"]),$=s=>{K(!!s)},N=s=>{if(!(!i.value||!e.isSource&&a.mode==="immediate"))return v(fe,{class:`${s}-check-all`,checked:S.value.checked,indeterminate:S.value.indeterminate,disabled:D.value,onChange:$},null)},V=s=>{let g;return n.headerLabel?g=n.headerLabel({data:f.value,isSource:e.isSource}):g=`${e.isSource?c.toSelect:c.selected} (${f.value.length})`,v("span",{class:`${s}-label`},[g])},E=s=>{if(!T.value)return;const g={suffix:()=>v(re,{class:`${s}-search-icon`,name:"search",onClick:B},null)};return v(Ee,{ref:I,class:`${s}-search-input`,disabled:a.disabled,type:"text",size:"sm",placeholder:b.value,onInput:P,onKeydown:R},g)},O=s=>{if(e.isSource||!(a.clearable??r.clearable))return;const g=W({[`${s}-clear-icon`]:!0,[`${s}-clear-icon-disabled`]:o.value});return v("span",{class:g,onClick:d},[n.clearIcon?n.clearIcon():v(re,{name:a.clearIcon??r.clearIcon},null)])},z=s=>{var w;const g=(w=n.headerSuffix)==null?void 0:w.call(n,{isSource:e.isSource});if(!ue(g))return v("span",{class:`${s}-suffix`},[g])},y=s=>n.header?n.header({...ae(t),isSource:e.isSource}):v("div",{class:`${s}-inner`},[N(s),V(s),E(s),O(s),z(s)]);return()=>{const s=`${l.value}-header`,g=y(s);if(!ue(g))return v("div",{class:s},[g])}}}),ge=_({props:te,setup(e){const{props:a,mergedPrefixCls:n}=L(H),r=u(()=>{const t=`${n.value}-content`;return W({[t]:!0,[`${t}-${e.isSource?"source":"target"}`]:!0,[`${t}-disabled`]:a.disabled})}),c=u(()=>{var d;const t=(d=a.scroll)==null?void 0:d.width;let o;if(Me(t)?o=e.isSource?t.source:t.target:o=t,!!o)return me({width:ve(o)})}),l=u(()=>{if(!je(a.spin))return ye(a.spin)?{spinning:!!a.spin}:{spinning:e.isSource?a.spin.source:a.spin.target}});return()=>{const t=[v(ia,{isSource:e.isSource},null),v(oa,{isSource:e.isSource},null),v(ua,{isSource:e.isSource},null)];return v("div",{class:r.value,style:c.value},[l.value?v($e,l.value,{default:()=>[t]}):t])}}}),da=_({name:"IxTransfer",props:aa,setup(e,{slots:a,expose:n}){const r=J("common"),c=J("transfer"),l=J("locale").transfer,t=u(()=>`${r.prefixCls}-transfer`),o=u(()=>e.showSelectAll??c.showSelectAll),{source:d,target:i}=Je(e,c),{source:f,target:D}=qe(e,l),S=Ye(e),T=Ge(e),b=We(e,c,S,T),A=pe(e,b,S),h=Ze(e,b,A),{sourceBindings:K,targetBindings:C}=Qe(e,b,h,A,T,o,d,f,i,D),x=j(),I=j();n({scrollTo:(P,...R)=>{var $;return($=(P?x:I).value)==null?void 0:$.scrollTo(...R)}}),q(H,{props:e,slots:a,locale:l,config:c,mergedPrefixCls:t,sourceTransferListRef:x,targetTransferListRef:I,showSelectAll:o,getKey:b.getKey}),q(Z,K),q(p,C),q(ee,h);const B=u(()=>{var R;const P=t.value;return W({[P]:!0,[`${P}-fit-content`]:!!((R=e.scroll)!=null&&R.height)})});return()=>v("div",{class:B.value},[v(ge,{isSource:!0},null),v(Ue,null,null),v(ge,{isSource:!1},null)])}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const va=da,Sa=Ae;export{va as I,Z as T,p as a,Sa as b};
