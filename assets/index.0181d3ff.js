import{c as oe,u as Q,ad as le,j as L,aw as Pe,ag as W,C as ge,ae as Fe,w as se,aa as xe,v as fe,au as Be,ab as Re,\u0275 as Ie,aD as we}from"./index.c56724f3.js";import{u as $e,v as j,y as S,i as z,l as ve,I as Ee,at as Oe,b as M,e as i,Q as Le,a4 as Se,aj as ze,w as Y,K as Ve,O as Z,z as J,p as q,a1 as ye,D as me,x as Ne,au as ke,h as _e,k as je}from"./vendor.32cbbd74.js";import{I as Me}from"./index.80ce40de.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const U=Symbol("transferContext"),be=Symbol("transferListContext"),p=Symbol("TRANSFER_SOURCE_TOKEN"),ee=Symbol("TRANSFER_TARGET_TOKEN"),ae=Symbol("TRANSFER_OPERATIONS_TOKEN");/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function te(e){const a={};return Object.keys(e).forEach(r=>{a[r]=$e(e[r])}),a}const Ue=j({setup(){const{slots:e,props:a,mergedPrefixCls:r}=z(U),l=z(ae),{appendDisabled:s,removeDisabled:n,triggerAppend:t,triggerRemove:o}=l,h=()=>{t()},u=()=>{o()},f=(v,T,K,P)=>ve(T)?S(oe,{class:`${v}-btn`,icon:T,disabled:K,onClick:P},null):Ee(S(oe,{class:`${v}-btn`,disabled:K,onClick:P},null),[[Oe("slos"),{icon:()=>T}]]),D=v=>{if(e.operations)return e.operations(te(l));if(a.mode!=="immediate")return S("div",{class:`${v}-inner`},[f(v,"right-double",s.value,h),f(v,"left-double",n.value,u)])};return()=>{const v=`${r.value}-operations`;return S("div",{class:v},[D(v)])}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function He(e){const a=Q("pagination");return{sourcePagination:ue(e,a,!0),targetPagination:ue(e,a,!1)}}function ue(e,a,r){const l=M(),s=M(),n=i(()=>{const o=e.pagination;if(!o)return null;if(o===!0)return{};const h=r?0:1,u=le(o.pageIndex),f=le(o.pageSize),D=le(o.total);return{pageIndex:u==null?void 0:u[h],pageSize:f==null?void 0:f[h],disabled:e.disabled||o.disabled,total:D==null?void 0:D[h],onChange:(v,T)=>{var K;return(K=o.onChange)==null?void 0:K.call(o,r,v,T)}}});Le(()=>{var h,u;const o=n.value;l.value=(h=o==null?void 0:o.pageIndex)!=null?h:1,s.value=(u=o==null?void 0:o.pageSize)!=null?u:a.pageSize});const t=o=>{l.value=o};return i(()=>{const o=n.value;if(o!==null)return{simple:!0,showTotal:!1,...o,pageIndex:l.value,pageSize:s.value,"onUpdate:pageIndex":t}})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ge(e,a){return{source:i(()=>ie(e,a,!0)),target:i(()=>ie(e,a,!1))}}function ie(e,a,r){var n;const l=a.searchPlaceholder[r?0:1],s=ve(e.searchPlaceholder)?e.searchPlaceholder:(n=e.searchPlaceholder)==null?void 0:n[r?0:1];return s!=null?s:l}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function qe(e,a){return{source:i(()=>de(e,a,!0)),target:i(()=>de(e,a,!1))}}function de(e,a,r){var s;const l=(s=e.searchable)!=null?s:a.searchable;return!l||Se(l)?!!l:r?l.source:l.target}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Qe(e,a,r,l,s,n,t,o,h,u){const{dataSource:f,sourceData:D,targetData:v,targetKeySet:T,dataKeyMap:K,disabledKeys:P,disabledSourceKeys:d,disabledTargetKeys:A,filteredDataSource:b,filteredSourceData:B,filteredTargetData:R,paginatedDataSource:y,paginatedSourceData:F,paginatedTargetData:C,sourceSearchValue:I,setSourceSearchValue:E,targetSearchValue:k,setTargetSearchValue:_,getKey:$}=a,{sourceSelectedKeys:O,targetSelectedKeys:V,sourceSelectedKeySet:m,targetSelectedKeySet:c,sourceSelectAllStatus:g,targetSelectAllStatus:w,sourceSelectAllDisabled:N,targetSelectAllDisabled:X,handleSourceSelectChange:H,handleTargetSelectChange:x,handleSourceSelectAll:Ae,handleTargetSelectAll:Ce}=l,{triggerAppend:De,triggerRemove:Te}=r,ce={dataSource:f,dataKeyMap:K,disabledDataSourceKeys:P,filteredDataSource:b,paginatedDataSource:y,targetKeySet:T,showSelectAll:n,triggerAppend:De,triggerRemove:Te,getKey:$};return{sourceBindings:{data:D,filteredData:B,paginatedData:F,pagination:s.sourcePagination,disabledKeys:d,selectedKeys:O,selectedKeySet:m,selectAllDisabled:N,selectAllStatus:g,searchable:t,searchPlaceholder:o,selectAll:Ae,handleSelectChange:H,searchValue:I,handleSearchChange:G=>{E(G),L(e.onSearch,!0,G)},...ce},targetBindings:{data:v,filteredData:R,paginatedData:C,pagination:s.targetPagination,disabledKeys:A,selectedKeys:V,selectedKeySet:c,selectAllDisabled:X,selectAllStatus:w,searchable:h,searchPlaceholder:u,selectAll:Ce,handleSelectChange:x,searchValue:k,handleSearchChange:G=>{_(G),L(e.onSearch,!1,G)},...ce}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function We(e,a,r,l){const s=Pe(e,a),n=i(()=>c=>{var g;return(g=s.value(c))!=null?g:c.key}),t=i(()=>e.dataSource),o=i(()=>r.value.genDataKeyMap(t.value,n.value)),[h,u]=W(e,"value",()=>[]),[f,D]=W(e,"sourceSearchValue",""),[v,T]=W(e,"targetSearchValue",""),K=i(()=>new Set(h.value)),P=c=>{const g=h.value;u(c),L(e.onChange,c,g)},d=i(()=>r.value.separateDataSource(t.value,o.value,K.value,n.value)),A=i(()=>d.value.sourceData),b=i(()=>d.value.targetData),B=i(()=>r.value.genDataKeys(A.value,n.value)),R=i(()=>r.value.genDataKeys(b.value,n.value)),y=i(()=>r.value.dataFilter(t.value,f.value,(c,g)=>!e.searchFn||e.searchFn(!0,c,g))),F=i(()=>r.value.dataFilter(A.value,f.value,(c,g)=>!e.searchFn||e.searchFn(!0,c,g))),C=i(()=>r.value.dataFilter(b.value,v.value,(c,g)=>!e.searchFn||e.searchFn(!1,c,g))),I=i(()=>re(y.value,l.sourcePagination.value)),E=i(()=>re(F.value,l.sourcePagination.value)),k=i(()=>re(C.value,l.targetPagination.value)),_=(c,g)=>{let w=h.value;c.length>0&&(w=r.value.remove(c,w,n.value)),g.length>0&&(w=r.value.append(g,w,n.value)),P(w)},$=()=>{P(Array.from(V.value))},O=i(()=>r.value.genDisabledKeys(t.value,n.value)),V=i(()=>{const c=r.value.genDisabledKeys(b.value,n.value);return K.value.forEach(g=>{O.value.has(g)&&c.add(g)}),c}),m=i(()=>r.value.genDisabledKeys(A.value,n.value));return{dataSource:t,dataKeyMap:o,sourceData:A,targetData:b,sourceDataKeys:B,targetDataKeys:R,filteredDataSource:y,filteredSourceData:F,filteredTargetData:C,paginatedDataSource:I,paginatedSourceData:E,paginatedTargetData:k,targetKeys:h,targetKeySet:K,changeTargetKeys:_,clear:$,getKey:n,disabledKeys:O,disabledSourceKeys:m,disabledTargetKeys:V,sourceSearchValue:f,setSourceSearchValue:D,targetSearchValue:v,setTargetSearchValue:T}}function re(e,a){if(!a||!a.pageSize)return e;const{total:r}=a;if(r&&e.length<r)return e;const l=a.pageSize,s=(a.pageIndex-1)*l;return e.slice(s,s+l)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Je(e){const a=new Map;ze(()=>{a.clear()});const r=(l,s)=>new Set(l.map(n=>s(n)));return{genDataKeys:r,genDataKeyMap:(l,s)=>{const n=new Map;return l.forEach(t=>{n.set(s(t),t)}),n},genDisabledKeys:(l,s)=>{const n=new Set;return l.forEach(t=>{t.disabled&&n.add(s(t))}),n},getAllSelectedKeys:(l,s,n,t,o)=>{let h;return l?(h=r(s,o),t.forEach(u=>{!n.has(u)&&h.delete(u)})):(h=new Set,t.forEach(u=>{n.has(u)&&h.add(u)})),Array.from(h)},separateDataSource:(l,s,n,t)=>{const o=l.filter(u=>!n.has(t(u))),h=[];n.forEach(u=>{var D,v;const f=(v=(D=s.get(u))!=null?D:a.get(u))!=null?v:e==null?void 0:e.find(T=>t(T)===u);f&&!a.has(u)&&a.set(u,f),h.push(f!=null?f:{key:u})});for(const u of a.keys())n.has(u)||a.delete(u);return{sourceData:o,targetData:h}},dataFilter:(l,s,n)=>s?l.filter(t=>n(t,s)):l,append:(l,s)=>{const n=new Set(s);return l.forEach(t=>{n.add(t)}),Array.from(n)},remove:(l,s)=>{const n=new Set(s);return l.forEach(t=>{n.delete(t)}),Array.from(n)}}}function Xe(e){var l;const a=Je((l=e.defaultTargetData)!=null?l:[]);return i(()=>e.dataStrategy?{...a,...e.dataStrategy}:a)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ye(e,a,r){const{dataKeyMap:l,sourceData:s,targetData:n,disabledSourceKeys:t,disabledTargetKeys:o,changeTargetKeys:h,clear:u,getKey:f}=a,{sourceSelectedKeys:D,targetSelectedKeys:v}=r,T=i(()=>e.disabled||D.value.length<=0),K=i(()=>e.disabled||v.value.length<=0),P=i(()=>e.disabled||s.value.every(y=>t.value.has(f.value(y)))),d=i(()=>e.disabled||n.value.every(y=>o.value.has(f.value(y))));return{appendDisabled:T,removeDisabled:K,appendAllDisabled:P,clearDisabled:d,triggerAppend:y=>{!y&&T.value||y&&e.disabled||h([],(y!=null?y:Array.from(D.value)).filter(F=>!t.value.has(F)))},triggerRemove:y=>{!y&&K.value||y&&e.disabled||h((y!=null?y:Array.from(v.value)).filter(F=>!o.value.has(F)),[])},triggerAppendAll:()=>{P.value||h([],Array.from(l.value.keys()).filter(y=>!t.value.has(y)))},triggerClear:()=>{d.value||(u(),L(e.onClear))}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ze(e,a,r){const[l,s]=W(e,"sourceSelectedKeys",()=>[]),[n,t]=W(e,"targetSelectedKeys",()=>[]),o=i(()=>new Set(l.value)),h=i(()=>new Set(n.value)),{dataKeyMap:u,sourceData:f,targetData:D,sourceDataKeys:v,targetDataKeys:T,targetKeySet:K,disabledKeys:P,disabledSourceKeys:d,disabledTargetKeys:A,getKey:b}=a,B=i(()=>e.mode==="immediate"?u.value.size:v.value.size),R=i(()=>T.value.size),y=i(()=>{const m=e.mode==="immediate"?P.value.size:d.value.size;return B.value-m}),F=i(()=>T.value.size-A.value.size),C=i(()=>({checked:B.value>=l.value.length&&l.value.length>0,indeterminate:B.value>l.value.length&&l.value.length>0})),I=i(()=>({checked:R.value>=n.value.length&&n.value.length>0,indeterminate:R.value>n.value.length&&n.value.length>0}));let E=!1;Y(o,(m,c)=>{if(e.mode==="immediate"){if(E)return;pe(c,m,a)}}),Y([y,u,P,K],(m,[,,,c])=>{const g=new Set(l.value),w=new Set,N=new Set,X=x=>{g.has(x)||(g.add(x),N.add(x),w.delete(x))},H=x=>{g.has(x)&&(g.delete(x),w.add(x),N.delete(x))};l.value.forEach(x=>{if(!u.value.has(x)||P.value.has(x)){H(x);return}e.mode==="default"&&K.value.has(x)&&H(x)}),e.mode==="immediate"&&(K.value.forEach(x=>{u.value.has(x)&&X(x)}),c==null||c.forEach(x=>{K.value.has(x)||H(x)})),(N.size>0||w.size>0)&&(s(Array.from(g)),E=!0,Ve(()=>{E=!1}))},{immediate:!0,flush:"post"}),Y([F,T,A],()=>{const m=new Set(n.value);n.value.forEach(c=>{(!T.value.has(c)||A.value.has(c))&&m.delete(c)}),t(Array.from(m))},{immediate:!0,flush:"post"});const k=m=>{e.disabled||s(Z(m)?m:Array.from(m))},_=m=>{e.disabled||t(Z(m)?m:Array.from(m))},$=(m=!0,c=!0)=>{if(e.disabled)return;const g=c?f.value:D.value,w=c?e.mode==="default"?d:P:A,N=c?o:h;(c?s:t)(r.value.getAllSelectedKeys(m,g,N.value,w.value,b.value)),L(e.onSelectAll,c,m)},O=i(()=>e.disabled||y.value<=0),V=i(()=>e.disabled||F.value<=0);return{sourceSelectedKeys:l,targetSelectedKeys:n,sourceSelectedKeySet:o,targetSelectedKeySet:h,handleSourceSelectChange:k,handleTargetSelectChange:_,sourceSelectAllStatus:C,targetSelectAllStatus:I,handleSourceSelectAll:m=>$(m,!0),handleTargetSelectAll:m=>$(m,!1),sourceSelectAllDisabled:O,targetSelectAllDisabled:V,setSourceSelectedKeys:s,setTargetSelectedKeys:t}}function pe(e,a,r){const{changeTargetKeys:l}=r,s=[],n=[];for(const t of e.values())a.has(t)||n.push(t);for(const t of a.values())e.has(t)||s.push(t);l(n,s)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const ea={value:Array,sourceSelectedKeys:Array,targetSelectedKeys:Array,sourceSearchValue:String,targetSearchValue:String,clearable:{type:Boolean,default:void 0},clearIcon:String,customAdditional:{type:Function,default:void 0},dataSource:{type:Array,default:()=>[]},dataStrategy:Object,defaultTargetData:Array,disabled:{type:Boolean,default:!1},empty:[String,Object],getKey:[String,Function],mode:{type:String,default:"default"},pagination:{type:[Boolean,Object],default:void 0},scroll:Object,searchable:{type:[Boolean,Object],default:void 0},searchFn:Function,searchPlaceholder:[String,Array],spin:{type:[Boolean,Object],default:void 0},showSelectAll:{type:Boolean,default:void 0},virtual:{type:Boolean,default:!1},"onUpdate:value":[Function,Array],"onUpdate:sourceSelectedKeys":[Function,Array],"onUpdate:targetSelectedKeys":[Function,Array],"onUpdate:sourceSearchValue":[Function,Array],"onUpdate:targetSearchValue":[Function,Array],onChange:[Function,Array],onSearch:[Function,Array],onSelectAll:[Function,Array],onClear:[Function,Array],onScroll:[Function,Array],onScrolledChange:[Function,Array],onScrolledBottom:[Function,Array]},ne={isSource:{type:Boolean,required:!0}},aa=ne,ta=ne,na=ne,la={dataSource:Array,checkable:{type:Boolean,default:!0},removable:{type:Boolean,default:!1},checked:Function,customAdditional:{type:Function,default:void 0},disabled:Function,getKey:Function,labelKey:String,virtual:{type:Boolean,default:!1},scroll:Object,onCheckChange:[Function,Array],onRemove:[Function,Array],onScroll:[Function,Array],onScrolledChange:[Function,Array],onScrolledBottom:[Function,Array]},ra={checked:{type:Boolean,default:!1},checkable:{type:Boolean,default:!0},removable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},label:String,value:{type:[String,Number,Symbol],required:!0},onCheckChange:[Function,Array],onRemove:[Function,Array]},sa=j({props:ra,setup(e,{slots:a}){const{mergedPrefixCls:r}=z(be),l=t=>{L(e.onCheckChange,!!t)},s=()=>{L(e.onRemove)},n=i(()=>{const t=`${r.value}-item`;return J({[t]:!0,[`${t}-disabled`]:e.disabled})});return()=>{const t=`${r.value}-item`,o=[];if(e.checkable)o.push(S(ge,{class:`${t}-checkbox`,label:e.label,value:e.value,checked:e.checked,disabled:e.disabled,onChange:l},a));else{const h=Fe(a.default,e.label);o.push(S("label",{class:`${t}-label`},[h]))}return e.removable&&!e.disabled&&o.push(S("div",{class:`${t}-close-icon`,onClick:s},[S(se,{name:"close"},null)])),S("li",{class:n.value},[o])}}}),Ke=j({name:"IxTransferList",props:la,setup(e,{slots:a,expose:r}){const l=Q("common"),s=i(()=>`${l.prefixCls}-transfer-list`),n=i(()=>{var d;return(d=e.labelKey)!=null?d:"label"}),t=M();q(be,{mergedPrefixCls:s}),r({scrollTo:d=>{var A;return(A=t.value)==null?void 0:A.scrollTo(d)}});const h=d=>{var A,b;return(b=(A=e.getKey)==null?void 0:A.call(e,d))!=null?b:d.key},u=d=>{L(e.onScroll,d)},f=()=>{L(e.onScrolledBottom)},D=(d,A,b)=>{L(e.onScrolledChange,d,A,b)},v=({item:d,index:A})=>{var F,C;const b=h(d),B=I=>{L(e.onCheckChange,d,I)},R=()=>{L(e.onRemove,d)},y=e.customAdditional?e.customAdditional({data:d,index:A}):void 0;return S(sa,ye({key:b,value:b,label:d[n.value],checked:!!((F=e.checked)!=null&&F.call(e,d)),disabled:!!((C=e.disabled)!=null&&C.call(e,d)),checkable:e.checkable,removable:e.removable,onCheckChange:B,onRemove:R},y),{default:a.label&&(()=>{var I;return(I=a.label)==null?void 0:I.call(a,d)})})},T=()=>{var R;const{dataSource:d,virtual:A,scroll:b}=e,B=d!=null?d:[];if(!(B.length<=0))return A?S(xe,{ref:t,dataSource:B,fullHeight:!!(b!=null&&b.fullHeight),getKey:h,height:(R=b==null?void 0:b.height)!=null?R:"100%",itemHeight:32,itemRender:v,virtual:!0,onScroll:u,onScrolledBottom:f,onScrolledChange:D},null):S("ul",{class:`${s.value}-inner`},[B.map((y,F)=>v({item:y,index:F}))])},K=i(()=>{const d=s.value;return J({[d]:!0,[`${d}-virtual`]:!!e.virtual})}),P=i(()=>{const d=e.scroll;return d&&me({[d.fullHeight?"height":"maxHeight"]:fe(d.height)})});return()=>S("div",{class:K.value,style:P.value,onScroll:u},[T()])}}),ca=j({props:aa,setup(e){const{props:a,slots:r,mergedPrefixCls:l,sourceTransferListRef:s,targetTransferListRef:n,getKey:t}=z(U),o=e.isSource?z(p):z(ee),{paginatedDataSource:h,paginatedData:u,selectedKeySet:f,disabledDataSourceKeys:D,disabledKeys:v,handleSelectChange:T}=o,{triggerRemove:K}=z(ae),P=e.isSource?s:n,d=C=>{L(a.onScroll,e.isSource,C)},A=()=>{L(a.onScrolledBottom,e.isSource)},b=(C,I,E)=>{L(a.onScrolledChange,e.isSource,C,I,E)},B=i(()=>e.isSource&&a.mode==="immediate"?h.value:u.value),R=i(()=>e.isSource&&a.mode==="immediate"?D.value:v.value),y=C=>{if((e.isSource&&a.mode==="immediate"?h.value:u.value).length<=0)return S("div",{class:`${C}-empty-wrapper`},[S(Be,{empty:a.empty},r)]);const E=($,O)=>{const V=t.value($),m=new Set(f.value);O?m.add(V):m.delete(V),T(m)},k=$=>{const O=t.value($);K([O])},_={label:r.label&&($=>{var O;return(O=r.label)==null?void 0:O.call(r,{item:$,isSource:e.isSource})})};return S(Ke,{ref:P,dataSource:B.value,getKey:t.value,checked:$=>f.value.has(t.value($)),disabled:$=>a.disabled||R.value.has(t.value($)),checkable:e.isSource||a.mode==="default",removable:!e.isSource&&a.mode==="immediate",virtual:a.virtual,scroll:a.scroll,onCheckChange:E,onRemove:k,onScroll:d,onScrolledChange:b,onScrolledBottom:A},_)},F=C=>r.default?r.default({...te(o),isSource:e.isSource}):y(C);return()=>{const C=`${l.value}-body`;return S("div",{class:`${l.value}-body`},[F(C)])}}}),oa=j({props:na,setup(e){const{slots:a,props:r,mergedPrefixCls:l}=z(U),s=e.isSource?z(p):z(ee),{pagination:n,filteredData:t,filteredDataSource:o}=s,h=u=>{var D,v;if(a.footer)return a.footer({...te(s),isSource:e.isSource});if(!n.value)return;const f=(v=(D=n.value)==null?void 0:D.total)!=null?v:e.isSource&&r.mode==="immediate"?o.value.length:t.value.length;return S("div",{class:`${u}-inner`},[S(Me,ye({class:`${u}-pagination`},n.value,{total:f}),null)])};return()=>{const u=`${l.value}-footer`,f=h(u);if(!(!f||Z(f)&&f.length<=0))return S("div",{class:u},[f])}}}),ua=j({props:ta,setup(e){const{props:a,slots:r,config:l,locale:s,mergedPrefixCls:n}=z(U),t=e.isSource?z(p):z(ee),{clearDisabled:o,triggerClear:h}=z(ae),{showSelectAll:u,data:f,selectAllDisabled:D,selectAllStatus:v,searchable:T,searchPlaceholder:K,searchValue:P,handleSearchChange:d,selectAll:A}=t,[b,B]=Re(""),R=M(),y=()=>{var g;const c=(g=R.value)==null?void 0:g.getInputElement();c&&c.value!==P.value&&(c.value=P.value),b.value!==P.value&&B(P.value)};Ne(()=>{y()}),Y(P,()=>{y()});const F=()=>{d(b.value)},C=c=>{const g=c.target.value;B(g),g||F()},I=ke(()=>{F()},["enter"]),E=c=>{A(!!c)},k=c=>{if(!(!u.value||!e.isSource&&a.mode==="immediate"))return S(ge,{class:`${c}-check-all`,checked:v.value.checked,indeterminate:v.value.indeterminate,disabled:D.value,onChange:E},null)},_=c=>{let g;return r.headerLabel?g=r.headerLabel({data:f.value,isSource:e.isSource}):g=`${e.isSource?s.toSelect:s.selected} (${f.value.length})`,S("span",{class:`${c}-label`},[g])},$=c=>{if(!T.value)return;const g={suffix:()=>S(se,{class:`${c}-search-icon`,name:"search",onClick:F},null)};return S(Ie,{ref:R,class:`${c}-search-input`,disabled:a.disabled,type:"text",size:"sm",placeholder:K.value,onInput:C,onKeydown:I},g)},O=c=>{var w,N;if(e.isSource||!((w=a.clearable)!=null?w:l.clearable))return;const g=J({[`${c}-clear-icon`]:!0,[`${c}-clear-icon-disabled`]:o.value});return S("span",{class:g,onClick:h},[r.clearIcon?r.clearIcon():S(se,{name:(N=a.clearIcon)!=null?N:l.clearIcon},null)])},V=c=>{var w;const g=(w=r.headerSuffix)==null?void 0:w.call(r,{isSource:e.isSource});return g&&S("span",{class:`${c}-suffix`},[g])},m=c=>r.header?r.header({...te(t),isSource:e.isSource}):S("div",{class:`${c}-inner`},[k(c),_(c),$(c),O(c),V(c)]);return()=>{const c=`${n.value}-header`,g=m(c);if(!(!g||Z(g)&&g.length<=0))return S("div",{class:c},[g])}}}),he=j({props:ne,setup(e){const{props:a,mergedPrefixCls:r}=z(U),l=i(()=>{const t=`${r.value}-content`;return J({[t]:!0,[`${t}-${e.isSource?"source":"target"}`]:!0,[`${t}-disabled`]:a.disabled})}),s=i(()=>{var h;const t=(h=a.scroll)==null?void 0:h.width;let o;if(_e(t)?o=e.isSource?t.source:t.target:o=t,!!o)return me({width:fe(o)})}),n=i(()=>{if(!je(a.spin))return Se(a.spin)?{spinning:!!a.spin}:{spinning:e.isSource?a.spin.source:a.spin.target}});return()=>{const t=[S(ua,{isSource:e.isSource},null),S(ca,{isSource:e.isSource},null),S(oa,{isSource:e.isSource},null)];return S("div",{class:l.value,style:s.value},[n.value?S(we,n.value,{default:()=>[t]}):t])}}}),ia=j({name:"IxTransfer",props:ea,setup(e,{slots:a,expose:r}){const l=Q("common"),s=Q("transfer"),n=Q("locale").transfer,t=i(()=>`${l.prefixCls}-transfer`),o=i(()=>{var C;return(C=e.showSelectAll)!=null?C:s.showSelectAll}),{source:h,target:u}=qe(e,s),{source:f,target:D}=Ge(e,n),v=Xe(e),T=He(e),K=We(e,s,v,T),P=Ze(e,K,v),d=Ye(e,K,P),{sourceBindings:A,targetBindings:b}=Qe(e,K,d,P,T,o,h,f,u,D),B=M(),R=M();r({scrollTo:(C,...I)=>{var E;return(E=(C?B:R).value)==null?void 0:E.scrollTo(...I)}}),q(U,{props:e,slots:a,locale:n,config:s,mergedPrefixCls:t,sourceTransferListRef:B,targetTransferListRef:R,showSelectAll:o,getKey:K.getKey}),q(p,A),q(ee,b),q(ae,d);const F=i(()=>{var I;const C=t.value;return J({[C]:!0,[`${C}-fit-content`]:!!((I=e.scroll)!=null&&I.height)})});return()=>S("div",{class:F.value},[S(he,{isSource:!0},null),S(Ue,null,null),S(he,{isSource:!1},null)])}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const fa=ia,va=Ke;export{fa as I,p as T,ee as a,va as b};
