import{c as oe,u as W,aa as le,i as L,aq as Fe,ac as J,C as ge,n as xe,v as re,aI as ve,a7 as Be,ap as Re,a8 as Ie,aL as ue,E as we,ax as Ee}from"./index-42aa140a.js";import{u as $e,v as j,i as k,y as v,l as Se,H as Oe,at as Le,b as M,e as i,P as ke,au as ye,aj as ze,w as Y,G as Ne,O as se,z as Q,p as q,B as me,a2 as be,x as Ve,av as _e,j as je,k as Me}from"./vendor-6c4e542b.js";import{I as He}from"./index-7bbfbfe9.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const H=Symbol("transferContext"),Ke=Symbol("transferListContext"),Z=Symbol("TRANSFER_SOURCE_TOKEN"),p=Symbol("TRANSFER_TARGET_TOKEN"),ee=Symbol("TRANSFER_OPERATIONS_TOKEN");/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ae(e){const a={};return Object.keys(e).forEach(n=>{a[n]=$e(e[n])}),a}const Ue=j({setup(){const{slots:e,props:a,mergedPrefixCls:n}=k(H),s=k(ee),{appendDisabled:c,removeDisabled:l,triggerAppend:t,triggerRemove:o}=s,h=()=>{t()},u=()=>{o()},g=(y,P,K,C)=>Se(P)?v(oe,{class:`${y}-btn`,icon:P,disabled:K,onClick:C},null):Oe(v(oe,{class:`${y}-btn`,disabled:K,onClick:C},null),[[Le("slos"),{icon:()=>P}]]),A=y=>{if(e.operations)return e.operations(ae(s));if(a.mode!=="immediate")return v("div",{class:`${y}-inner`},[g(y,"right-double",c.value,h),g(y,"left-double",l.value,u)])};return()=>{const y=`${n.value}-operations`;return v("div",{class:y},[A(y)])}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ge(e){const a=W("pagination");return{sourcePagination:ie(e,a,!0),targetPagination:ie(e,a,!1)}}function ie(e,a,n){const s=M(),c=M(),l=i(()=>{const o=e.pagination;if(!o)return null;if(o===!0)return{};const h=n?0:1,u=le(o.pageIndex),g=le(o.pageSize),A=le(o.total);return{pageIndex:u==null?void 0:u[h],pageSize:g==null?void 0:g[h],disabled:e.disabled||o.disabled,total:A==null?void 0:A[h],onChange:(y,P)=>{var K;return(K=o.onChange)==null?void 0:K.call(o,n,y,P)}}});ke(()=>{const o=l.value;s.value=(o==null?void 0:o.pageIndex)??1,c.value=(o==null?void 0:o.pageSize)??a.pageSize});const t=o=>{s.value=o};return i(()=>{const o=l.value;if(o!==null)return{simple:!0,showTotal:!1,...o,pageIndex:s.value,pageSize:c.value,"onUpdate:pageIndex":t}})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function qe(e,a){return{source:i(()=>de(e,a,!0)),target:i(()=>de(e,a,!1))}}function de(e,a,n){var l;const s=a.searchPlaceholder[n?0:1];return(Se(e.searchPlaceholder)?e.searchPlaceholder:(l=e.searchPlaceholder)==null?void 0:l[n?0:1])??s}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function We(e,a){return{source:i(()=>he(e,a,!0)),target:i(()=>he(e,a,!1))}}function he(e,a,n){const s=e.searchable??a.searchable;return!s||ye(s)?!!s:n?s.source:s.target}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Je(e,a,n,s,c,l,t,o,h,u){const{dataSource:g,sourceData:A,targetData:y,targetKeySet:P,dataKeyMap:K,disabledKeys:C,disabledSourceKeys:f,disabledTargetKeys:D,filteredDataSource:m,filteredSourceData:B,filteredTargetData:I,paginatedDataSource:b,paginatedSourceData:x,paginatedTargetData:T,sourceSearchValue:R,setSourceSearchValue:$,targetSearchValue:N,setTargetSearchValue:V,getKey:w}=a,{sourceSelectedKeys:O,targetSelectedKeys:z,sourceSelectedKeySet:S,targetSelectedKeySet:r,sourceSelectAllStatus:d,targetSelectAllStatus:E,sourceSelectAllDisabled:_,targetSelectAllDisabled:X,handleSourceSelectChange:U,handleTargetSelectChange:F,handleSourceSelectAll:Ce,handleTargetSelectAll:De}=s,{triggerAppend:Te,triggerRemove:Pe}=n,ce={dataSource:g,dataKeyMap:K,disabledDataSourceKeys:C,filteredDataSource:m,paginatedDataSource:b,targetKeySet:P,showSelectAll:l,triggerAppend:Te,triggerRemove:Pe,getKey:w};return{sourceBindings:{data:A,filteredData:B,paginatedData:x,pagination:c.sourcePagination,disabledKeys:f,selectedKeys:O,selectedKeySet:S,selectAllDisabled:_,selectAllStatus:d,searchable:t,searchPlaceholder:o,selectAll:Ce,handleSelectChange:U,searchValue:R,handleSearchChange:G=>{$(G),L(e.onSearch,!0,G)},...ce},targetBindings:{data:y,filteredData:I,paginatedData:T,pagination:c.targetPagination,disabledKeys:D,selectedKeys:z,selectedKeySet:r,selectAllDisabled:X,selectAllStatus:E,searchable:h,searchPlaceholder:u,selectAll:De,handleSelectChange:F,searchValue:N,handleSearchChange:G=>{V(G),L(e.onSearch,!1,G)},...ce}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Qe(e,a,n,s){const c=Fe(e,a),l=i(()=>r=>c.value(r)??r.key),t=i(()=>e.dataSource),o=i(()=>n.value.genDataKeyMap(t.value,l.value)),[h,u]=J(e,"value",()=>[]),[g,A]=J(e,"sourceSearchValue",""),[y,P]=J(e,"targetSearchValue",""),K=i(()=>new Set(h.value)),C=r=>{const d=h.value;u(r),L(e.onChange,r,d)},f=i(()=>n.value.separateDataSource(t.value,o.value,K.value,l.value)),D=i(()=>f.value.sourceData),m=i(()=>f.value.targetData),B=i(()=>n.value.genDataKeys(D.value,l.value)),I=i(()=>n.value.genDataKeys(m.value,l.value)),b=i(()=>n.value.dataFilter(t.value,g.value,(r,d)=>!e.searchFn||e.searchFn(!0,r,d))),x=i(()=>n.value.dataFilter(D.value,g.value,(r,d)=>!e.searchFn||e.searchFn(!0,r,d))),T=i(()=>n.value.dataFilter(m.value,y.value,(r,d)=>!e.searchFn||e.searchFn(!1,r,d))),R=i(()=>ne(b.value,s.sourcePagination.value)),$=i(()=>ne(x.value,s.sourcePagination.value)),N=i(()=>ne(T.value,s.targetPagination.value)),V=(r,d)=>{let E=h.value;r.length>0&&(E=n.value.remove(r,E,l.value)),d.length>0&&(E=n.value.append(d,E,l.value)),C(E)},w=()=>{C(Array.from(z.value))},O=i(()=>n.value.genDisabledKeys(t.value,l.value)),z=i(()=>{const r=n.value.genDisabledKeys(m.value,l.value);return K.value.forEach(d=>{O.value.has(d)&&r.add(d)}),r}),S=i(()=>n.value.genDisabledKeys(D.value,l.value));return{dataSource:t,dataKeyMap:o,sourceData:D,targetData:m,sourceDataKeys:B,targetDataKeys:I,filteredDataSource:b,filteredSourceData:x,filteredTargetData:T,paginatedDataSource:R,paginatedSourceData:$,paginatedTargetData:N,targetKeys:h,targetKeySet:K,changeTargetKeys:V,clear:w,getKey:l,disabledKeys:O,disabledSourceKeys:S,disabledTargetKeys:z,sourceSearchValue:g,setSourceSearchValue:A,targetSearchValue:y,setTargetSearchValue:P}}function ne(e,a){if(!a||!a.pageSize)return e;const{total:n}=a;if(n&&e.length<n)return e;const s=a.pageSize,c=(a.pageIndex-1)*s;return e.slice(c,c+s)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Xe(e){const a=new Map;ze(()=>{a.clear()});const n=(s,c)=>new Set(s.map(l=>c(l)));return{genDataKeys:n,genDataKeyMap:(s,c)=>{const l=new Map;return s.forEach(t=>{l.set(c(t),t)}),l},genDisabledKeys:(s,c)=>{const l=new Set;return s.forEach(t=>{t.disabled&&l.add(c(t))}),l},getAllSelectedKeys:(s,c,l,t,o)=>{let h;return s?(h=n(c,o),t.forEach(u=>{!l.has(u)&&h.delete(u)})):(h=new Set,t.forEach(u=>{l.has(u)&&h.add(u)})),Array.from(h)},separateDataSource:(s,c,l,t)=>{const o=s.filter(u=>!l.has(t(u))),h=[];l.forEach(u=>{const g=c.get(u)??a.get(u)??(e==null?void 0:e.find(A=>t(A)===u));g&&!a.has(u)&&a.set(u,g),h.push(g??{key:u})});for(const u of a.keys())l.has(u)||a.delete(u);return{sourceData:o,targetData:h}},dataFilter:(s,c,l)=>c?s.filter(t=>l(t,c)):s,append:(s,c)=>{const l=new Set(c);return s.forEach(t=>{l.add(t)}),Array.from(l)},remove:(s,c)=>{const l=new Set(c);return s.forEach(t=>{l.delete(t)}),Array.from(l)}}}function Ye(e){const a=Xe(e.defaultTargetData??[]);return i(()=>e.dataStrategy?{...a,...e.dataStrategy}:a)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ze(e,a,n){const{dataKeyMap:s,sourceData:c,targetData:l,disabledSourceKeys:t,disabledTargetKeys:o,changeTargetKeys:h,clear:u,getKey:g}=a,{sourceSelectedKeys:A,targetSelectedKeys:y}=n,P=i(()=>e.disabled||A.value.length<=0),K=i(()=>e.disabled||y.value.length<=0),C=i(()=>e.disabled||c.value.every(b=>t.value.has(g.value(b)))),f=i(()=>e.disabled||l.value.every(b=>o.value.has(g.value(b))));return{appendDisabled:P,removeDisabled:K,appendAllDisabled:C,clearDisabled:f,triggerAppend:b=>{!b&&P.value||b&&e.disabled||h([],(b??Array.from(A.value)).filter(x=>!t.value.has(x)))},triggerRemove:b=>{!b&&K.value||b&&e.disabled||h((b??Array.from(y.value)).filter(x=>!o.value.has(x)),[])},triggerAppendAll:()=>{C.value||h([],Array.from(s.value.keys()).filter(b=>!t.value.has(b)))},triggerClear:()=>{f.value||(u(),L(e.onClear))}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function pe(e,a,n){const[s,c]=J(e,"sourceSelectedKeys",()=>[]),[l,t]=J(e,"targetSelectedKeys",()=>[]),o=i(()=>new Set(s.value)),h=i(()=>new Set(l.value)),{dataKeyMap:u,dataSource:g,sourceData:A,targetData:y,sourceDataKeys:P,targetDataKeys:K,targetKeySet:C,disabledKeys:f,disabledSourceKeys:D,disabledTargetKeys:m,getKey:B}=a,I=i(()=>{const S=e.mode==="immediate"?u.value.size:P.value.size,r=e.mode==="immediate"?f.value.size:D.value.size;return S-r}),b=i(()=>K.value.size-m.value.size),x=S=>{const r=n.value.getAllSelectedKeys(!0,S?e.mode==="immediate"?g.value:A.value:y.value,new Set,new Set,B.value),d=(S?s:l).value.length,E=S?o.value:h.value;return{checked:d>0,indeterminate:(r.length!==d||r.some(_=>!E.has(_)))&&d>0}},T=i(()=>x(!0)),R=i(()=>x(!1));let $=!1;Y(o,(S,r)=>{if(e.mode==="immediate"){if($)return;ea(r,S,a)}}),Y([I,u,f,C],(S,[,,,r])=>{const d=new Set(s.value),E=new Set,_=new Set,X=F=>{d.has(F)||(d.add(F),_.add(F),E.delete(F))},U=F=>{d.has(F)&&(d.delete(F),E.add(F),_.delete(F))};s.value.forEach(F=>{if(!u.value.has(F)||f.value.has(F)){U(F);return}e.mode==="default"&&C.value.has(F)&&U(F)}),e.mode==="immediate"&&(C.value.forEach(F=>{u.value.has(F)&&X(F)}),r==null||r.forEach(F=>{C.value.has(F)||U(F)})),(_.size>0||E.size>0)&&(c(Array.from(d)),$=!0,Ne(()=>{$=!1}))},{immediate:!0,flush:"post"}),Y([b,K,m],()=>{const S=new Set(l.value);l.value.forEach(r=>{(!K.value.has(r)||m.value.has(r))&&S.delete(r)}),t(Array.from(S))},{immediate:!0,flush:"post"});const N=S=>{e.disabled||c(se(S)?S:Array.from(S))},V=S=>{e.disabled||t(se(S)?S:Array.from(S))},w=(S=!0,r=!0)=>{if(e.disabled)return;const d=r?e.mode==="default"?A.value:g.value:y.value,E=r?e.mode==="default"?D:f:m,_=r?o:h;(r?c:t)(n.value.getAllSelectedKeys(S,d,_.value,E.value,B.value)),L(e.onSelectAll,r,S)},O=i(()=>e.disabled||I.value<=0),z=i(()=>e.disabled||b.value<=0);return{sourceSelectedKeys:s,targetSelectedKeys:l,sourceSelectedKeySet:o,targetSelectedKeySet:h,handleSourceSelectChange:N,handleTargetSelectChange:V,sourceSelectAllStatus:T,targetSelectAllStatus:R,handleSourceSelectAll:S=>w(S,!0),handleTargetSelectAll:S=>w(S,!1),sourceSelectAllDisabled:O,targetSelectAllDisabled:z,setSourceSelectedKeys:c,setTargetSelectedKeys:t}}function ea(e,a,n){const{changeTargetKeys:s}=n,c=[],l=[];for(const t of e.values())a.has(t)||l.push(t);for(const t of a.values())e.has(t)||c.push(t);s(l,c)}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const aa={value:Array,sourceSelectedKeys:Array,targetSelectedKeys:Array,sourceSearchValue:String,targetSearchValue:String,clearable:{type:Boolean,default:void 0},clearIcon:String,customAdditional:{type:Function,default:void 0},dataSource:{type:Array,default:()=>[]},dataStrategy:Object,defaultTargetData:Array,disabled:{type:Boolean,default:!1},empty:{type:[String,Object],default:"simple"},getKey:[String,Function],mode:{type:String,default:"default"},pagination:{type:[Boolean,Object],default:void 0},scroll:Object,searchable:{type:[Boolean,Object],default:void 0},searchFn:Function,searchPlaceholder:[String,Array],spin:{type:[Boolean,Object],default:void 0},showSelectAll:{type:Boolean,default:void 0},virtual:{type:Boolean,default:!1},"onUpdate:value":[Function,Array],"onUpdate:sourceSelectedKeys":[Function,Array],"onUpdate:targetSelectedKeys":[Function,Array],"onUpdate:sourceSearchValue":[Function,Array],"onUpdate:targetSearchValue":[Function,Array],onChange:[Function,Array],onSearch:[Function,Array],onSelectAll:[Function,Array],onClear:[Function,Array],onScroll:[Function,Array],onScrolledChange:[Function,Array],onScrolledBottom:[Function,Array]},te={isSource:{type:Boolean,required:!0}},ta=te,la=te,na=te,ra={dataSource:Array,checkable:{type:Boolean,default:!0},removable:{type:Boolean,default:!1},checked:Function,customAdditional:{type:Function,default:void 0},disabled:Function,getKey:Function,labelKey:String,virtual:{type:Boolean,default:!1},scroll:Object,onCheckChange:[Function,Array],onRemove:[Function,Array],onScroll:[Function,Array],onScrolledChange:[Function,Array],onScrolledBottom:[Function,Array]},sa={checked:{type:Boolean,default:!1},checkable:{type:Boolean,default:!0},removable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},label:String,value:{type:[String,Number,Symbol],required:!0},onCheckChange:[Function,Array],onRemove:[Function,Array]},ca=j({props:sa,setup(e,{slots:a}){const{mergedPrefixCls:n}=k(Ke),s=t=>{L(e.onCheckChange,!!t)},c=()=>{L(e.onRemove)},l=i(()=>{const t=`${n.value}-item`;return Q({[t]:!0,[`${t}-disabled`]:e.disabled})});return()=>{const t=`${n.value}-item`,o=[];if(e.checkable)o.push(v(ge,{class:`${t}-checkbox`,label:e.label,value:e.value,checked:e.checked,disabled:e.disabled,onChange:s},a));else{const h=xe(a.default,e.label);o.push(v("label",{class:`${t}-label`},[h]))}return e.removable&&!e.disabled&&o.push(v("div",{class:`${t}-close-icon`,onClick:c},[v(re,{name:"close"},null)])),v("li",{class:l.value},[o])}}}),Ae=j({name:"IxTransferList",props:ra,setup(e,{slots:a,expose:n}){const s=W("common"),c=i(()=>`${s.prefixCls}-transfer-list`),l=i(()=>e.labelKey??"label"),t=M();q(Ke,{mergedPrefixCls:c}),n({scrollTo:f=>{var D;return(D=t.value)==null?void 0:D.scrollTo(f)}});const h=f=>{var D;return((D=e.getKey)==null?void 0:D.call(e,f))??f.key},u=f=>{L(e.onScroll,f)},g=()=>{L(e.onScrolledBottom)},A=(f,D,m)=>{L(e.onScrolledChange,f,D,m)},y=({item:f,index:D})=>{var x,T;const m=h(f),B=R=>{L(e.onCheckChange,f,R)},I=()=>{L(e.onRemove,f)},b=e.customAdditional?e.customAdditional({data:f,index:D}):void 0;return v(ca,be({key:m,value:m,label:f[l.value],checked:!!((x=e.checked)!=null&&x.call(e,f)),disabled:!!((T=e.disabled)!=null&&T.call(e,f)),checkable:e.checkable,removable:e.removable,onCheckChange:B,onRemove:I},b),{default:a.label&&(()=>{var R;return(R=a.label)==null?void 0:R.call(a,f)})})},P=()=>{const{dataSource:f,virtual:D,scroll:m}=e,B=f??[];if(!(B.length<=0))return D?v(Be,{ref:t,dataSource:B,fullHeight:!!(m!=null&&m.fullHeight),getKey:h,height:(m==null?void 0:m.height)??"100%",itemHeight:32,itemRender:y,virtual:!0,onScroll:u,onScrolledBottom:g,onScrolledChange:A},null):v("ul",{class:`${c.value}-inner`},[B.map((I,b)=>y({item:I,index:b}))])},K=i(()=>{const f=c.value;return Q({[f]:!0,[`${f}-virtual`]:!!e.virtual})}),C=i(()=>{const f=e.scroll;return f&&me({[f.fullHeight?"height":"maxHeight"]:ve(f.height)})});return()=>v("div",{class:K.value,style:C.value,onScroll:u},[P()])}}),oa=j({props:ta,setup(e){const{props:a,slots:n,mergedPrefixCls:s,sourceTransferListRef:c,targetTransferListRef:l,getKey:t}=k(H),o=e.isSource?k(Z):k(p),{paginatedDataSource:h,paginatedData:u,selectedKeySet:g,disabledDataSourceKeys:A,disabledKeys:y,handleSelectChange:P}=o,{triggerRemove:K}=k(ee),C=e.isSource?c:l,f=T=>{L(a.onScroll,e.isSource,T)},D=()=>{L(a.onScrolledBottom,e.isSource)},m=(T,R,$)=>{L(a.onScrolledChange,e.isSource,T,R,$)},B=i(()=>e.isSource&&a.mode==="immediate"?h.value:u.value),I=i(()=>e.isSource&&a.mode==="immediate"?A.value:y.value),b=T=>{if((e.isSource&&a.mode==="immediate"?h.value:u.value).length<=0)return v("div",{class:`${T}-empty-wrapper`},[v(Re,{empty:a.empty},n)]);const $=(w,O)=>{const z=t.value(w),S=new Set(g.value);O?S.add(z):S.delete(z),P(S)},N=w=>{const O=t.value(w);K([O])},V={label:n.label&&(w=>{var O;return(O=n.label)==null?void 0:O.call(n,{item:w,isSource:e.isSource})})};return v(Ae,{ref:C,dataSource:B.value,getKey:t.value,checked:w=>g.value.has(t.value(w)),disabled:w=>a.disabled||I.value.has(t.value(w)),checkable:e.isSource||a.mode==="default",removable:!e.isSource&&a.mode==="immediate",virtual:a.virtual,scroll:a.scroll,onCheckChange:$,onRemove:N,onScroll:f,onScrolledChange:m,onScrolledBottom:D},V)},x=T=>n.default?n.default({...ae(o),isSource:e.isSource}):b(T);return()=>{const T=`${s.value}-body`;return v("div",{class:`${s.value}-body`},[x(T)])}}}),ua=j({props:na,setup(e){const{slots:a,props:n,mergedPrefixCls:s}=k(H),c=e.isSource?k(Z):k(p),{pagination:l,filteredData:t,filteredDataSource:o}=c,h=u=>{var A;if(a.footer)return a.footer({...ae(c),isSource:e.isSource});if(!l.value)return;const g=((A=l.value)==null?void 0:A.total)??(e.isSource&&n.mode==="immediate"?o.value.length:t.value.length);return v("div",{class:`${u}-inner`},[v(He,be({class:`${u}-pagination`},l.value,{total:g}),null)])};return()=>{const u=`${s.value}-footer`,g=h(u);if(!(!g||se(g)&&g.length<=0))return v("div",{class:u},[g])}}}),ia=j({props:la,setup(e){const{props:a,slots:n,config:s,locale:c,mergedPrefixCls:l}=k(H),t=e.isSource?k(Z):k(p),{clearDisabled:o,triggerClear:h}=k(ee),{showSelectAll:u,data:g,selectAllDisabled:A,selectAllStatus:y,searchable:P,searchPlaceholder:K,searchValue:C,handleSearchChange:f,selectAll:D}=t,[m,B]=Ie(""),I=M(),b=()=>{var d;const r=(d=I.value)==null?void 0:d.getInputElement();r&&r.value!==C.value&&(r.value=C.value),m.value!==C.value&&B(C.value)};Ve(()=>{b()}),Y(C,()=>{b()});const x=()=>{f(m.value)},T=r=>{const d=r.target.value;B(d),d||x()},R=_e(()=>{x()},["enter"]),$=r=>{D(!!r)},N=r=>{if(!(!u.value||!e.isSource&&a.mode==="immediate"))return v(ge,{class:`${r}-check-all`,checked:y.value.checked,indeterminate:y.value.indeterminate,disabled:A.value,onChange:$},null)},V=r=>{let d;return n.headerLabel?d=n.headerLabel({data:g.value,isSource:e.isSource}):d=`${e.isSource?c.toSelect:c.selected} (${g.value.length})`,v("span",{class:`${r}-label`},[d])},w=r=>{if(!P.value)return;const d={suffix:()=>v(re,{class:`${r}-search-icon`,name:"search",onClick:x},null)};return v(we,{ref:I,class:`${r}-search-input`,disabled:a.disabled,type:"text",size:"sm",placeholder:K.value,onInput:T,onKeydown:R},d)},O=r=>{if(e.isSource||!(a.clearable??s.clearable))return;const d=Q({[`${r}-clear-icon`]:!0,[`${r}-clear-icon-disabled`]:o.value});return v("span",{class:d,onClick:h},[n.clearIcon?n.clearIcon():v(re,{name:a.clearIcon??s.clearIcon},null)])},z=r=>{var E;const d=(E=n.headerSuffix)==null?void 0:E.call(n,{isSource:e.isSource});if(!ue(d))return v("span",{class:`${r}-suffix`},[d])},S=r=>n.header?n.header({...ae(t),isSource:e.isSource}):v("div",{class:`${r}-inner`},[N(r),V(r),w(r),O(r),z(r)]);return()=>{const r=`${l.value}-header`,d=S(r);if(!ue(d))return v("div",{class:r},[d])}}}),fe=j({props:te,setup(e){const{props:a,mergedPrefixCls:n}=k(H),s=i(()=>{const t=`${n.value}-content`;return Q({[t]:!0,[`${t}-${e.isSource?"source":"target"}`]:!0,[`${t}-disabled`]:a.disabled})}),c=i(()=>{var h;const t=(h=a.scroll)==null?void 0:h.width;let o;if(je(t)?o=e.isSource?t.source:t.target:o=t,!!o)return me({width:ve(o)})}),l=i(()=>{if(!Me(a.spin))return ye(a.spin)?{spinning:!!a.spin}:{spinning:e.isSource?a.spin.source:a.spin.target}});return()=>{const t=[v(ia,{isSource:e.isSource},null),v(oa,{isSource:e.isSource},null),v(ua,{isSource:e.isSource},null)];return v("div",{class:s.value,style:c.value},[l.value?v(Ee,l.value,{default:()=>[t]}):t])}}}),da=j({name:"IxTransfer",props:aa,setup(e,{slots:a,expose:n}){const s=W("common"),c=W("transfer"),l=W("locale").transfer,t=i(()=>`${s.prefixCls}-transfer`),o=i(()=>e.showSelectAll??c.showSelectAll),{source:h,target:u}=We(e,c),{source:g,target:A}=qe(e,l),y=Ye(e),P=Ge(e),K=Qe(e,c,y,P),C=pe(e,K,y),f=Ze(e,K,C),{sourceBindings:D,targetBindings:m}=Je(e,K,f,C,P,o,h,g,u,A),B=M(),I=M();n({scrollTo:(T,...R)=>{var $;return($=(T?B:I).value)==null?void 0:$.scrollTo(...R)}}),q(H,{props:e,slots:a,locale:l,config:c,mergedPrefixCls:t,sourceTransferListRef:B,targetTransferListRef:I,showSelectAll:o,getKey:K.getKey}),q(Z,D),q(p,m),q(ee,f);const x=i(()=>{var R;const T=t.value;return Q({[T]:!0,[`${T}-fit-content`]:!!((R=e.scroll)!=null&&R.height)})});return()=>v("div",{class:x.value},[v(fe,{isSource:!0},null),v(Ue,null,null),v(fe,{isSource:!1},null)])}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const va=da,Sa=Ae;export{va as I,Z as T,p as a,Sa as b};
