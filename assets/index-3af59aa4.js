import{a9 as Ce,aa as fe,aI as Ve,ac as we,i as M,u as le,aJ as z,aK as ce,N as X,s as Ye,a2 as ie,a8 as oe,h as ee,o as Y,j as ge,v as te,C as ve,aq as Ge,al as ke,ak as Be,c as me,w as Je,a3 as Qe,a4 as Ze,a7 as et,aL as tt,ar as lt,an as nt,ay as ot}from"./index-32d407ed.js";import{j as Ke,l as j,L as st,T as rt,e as b,r as he,b as I,w as D,a7 as Ee,Q as $e,k as G,N as Q,x as se,bi as at,P as ct,v as H,z as V,y as x,i as F,ad as it,a as J,a2 as Z,p as Te,Z as ut,au as dt}from"./vendor-730bc5d6.js";import{b as Ie}from"./GlobalCodeBox-3d144be5.js";import{I as ft}from"./index-1aaee8e0.js";const Oe=Symbol("IxTableColumn"),ye=()=>{};ye.displayName="IxTableColumn";ye[Oe]=!0;function Re(e,t,l){if(!e||Ke(e)&&e.title===!1)return;if(j(t)||st(t))return t;const o=Ce(t).find(n=>n.type===rt);return o?o.children:l}function vt(e){return e.key?e.key:e.dataKey?fe(e.dataKey).join("-"):e.type?`__IDUX_table_column_key_${e.type}`:Ve("__IDUX_table_column_key_")}function ht(e,t,l,o){const n=b(()=>{var m;const{columns:w}=e;return We(w&&w.length>0?w:Pe((m=t.default)==null?void 0:m.call(t)),l.columnBase,l.columnExpandable,l.columnSelectable)}),{flattedColumns:r,scrollBarColumn:s,flattedColumnsWithScrollBar:a}=pt(n,o),c=gt(a),i=b(()=>!!e.ellipsis||r.value.some(w=>w.ellipsis)),u=b(()=>r.value.some(w=>w.fixed)),{columnWidths:d,columnWidthsWithScrollBar:y,changeColumnWidth:p}=mt(r,s),{columnOffsets:v,columnOffsetsWithScrollBar:S}=bt(d,y),C=b(()=>xt(n.value,s.value));return{flattedColumns:r,scrollBarColumn:s,flattedColumnsWithScrollBar:a,fixedColumnKeys:c,hasEllipsis:i,hasFixed:u,columnWidths:d,columnWidthsWithScrollBar:y,changeColumnWidth:p,columnOffsets:v,columnOffsetsWithScrollBar:S,mergedRows:C}}function We(e,t,l,o){return e.map(n=>yt(n,t,l,o))}function Pe(e){const t=[];return Ce(e,{key:Oe}).forEach((l,o)=>{const{props:n,children:r}=l,{key:s=o,editable:a,ellipsis:c,...i}=n||{};i.key=s,i.editable=a||a==="",i.ellipsis=c||c==="";const{default:u,cell:d,title:y,expand:p,icon:v}=r||{};u&&(i.children=Pe(u())),d&&(i.customCell=d),y&&(i.customTitle=y),p&&(i.customExpand=p),v&&(i.customIcon=v),t.push(i)}),t}function yt(e,t,l,o){const{align:n=t.align}=e,r=vt(e);if("type"in e){const{type:s}=e;if(s==="expandable"){const{icon:a=l.icon}=e;return{...e,key:r,align:n,icon:a}}if(s==="selectable"){const{multiple:a=!0,showIndex:c=o.showIndex}=e;return{...e,key:r,align:n,multiple:a,showIndex:c}}return{...e,key:r,align:n}}else{const{sortable:s,filterable:a,children:c}=e,i={...e,key:r,align:n};return s&&(i.sortable={...t.sortable,...s}),a&&(i.filterable={...t.filterable,...a}),c!=null&&c.length&&(i.children=We(c,t,l,o)),i}}function pt(e,t){const l=b(()=>Fe(e.value)),o=b(()=>{const r=t.value;if(r===0)return;const s=l.value,a=s[s.length-1];return{key:"__IDUX_table_column_key_scroll-bar",type:"scroll-bar",fixed:a&&a.fixed,width:r}}),n=b(()=>{const r=l.value;if(r.length===0)return r;const s=o.value;return s?[...r,s]:r});return{flattedColumns:l,scrollBarColumn:o,flattedColumnsWithScrollBar:n}}function Fe(e){const t=[];return e.forEach(l=>{const{fixed:o,children:n}=l;if(n!=null&&n.length){let r=Fe(n);o&&(r=r.map(s=>({fixed:o,...s}))),t.push(...r)}else t.push(l)}),t}function gt(e){return b(()=>{let t,l;return e.value.forEach(o=>{const{fixed:n,key:r}=o;n==="start"?t=r:n==="end"&&(l||(l=r))}),{lastStartKey:t,firstEndKey:l}})}function mt(e,t){const l=he({}),o=I(),n=I([]);D(o,Ee(a=>{n.value=a?a.split("-").map(Number):[]},16)),$e(()=>{const a=Object.keys(l),c=e.value;if(a.length!==c.length){o.value=void 0;return}o.value=c.map(i=>l[i.key]).join("-")});const r=b(()=>{const a=n.value;if(a.length===0)return a;const c=t.value;return c?[...a,c.width]:a});return{columnWidths:n,columnWidthsWithScrollBar:r,changeColumnWidth:(a,c)=>{c===!1?delete l[a]:l[a]=c}}}function bt(e,t){const l=b(()=>be(e.value)),o=b(()=>be(t.value));return{columnOffsets:l,columnOffsetsWithScrollBar:o}}function be(e){const t=e.length,l=[],o=[];let n=0,r=0;for(let s=0;s<t;s++){l[s]=n,n+=e[s]||0;const a=t-s-1;o[a]=r,r+=e[a]||0}return{starts:l,ends:o}}function xt(e,t){const l=[];function o(s,a,c){l[c]??(l[c]=[]);let i=a;return s.map(d=>{let y=d.titleColSpan??1,p=!1;const v=d.children;if(v!=null&&v.length){p=!0;const C=o(v,i,c+1);G(d.titleColSpan)&&(y=C.reduce((w,m)=>w+m))}const S=i+y-1;return l[c].push({...d,titleColSpan:y,colStart:i,colEnd:S,hasChildren:p}),i+=y,y})}const n=t?[...e,t]:e;o(n,0,0);const r=l.length;return l.forEach((s,a)=>{s.forEach(c=>{c.hasChildren||(c.titleRowSpan=r-a)})}),l}function St(e,t,l,o,n,r,s){const a=b(()=>{const v=t.value,S=l.value;return e.dataSource.map(C=>He(C,S,v))}),c=b(()=>{const v=new Map;return ue(a.value,v),v}),i=b(()=>_e(a.value,n.value,r.value)),u=b(()=>Ae(i.value,o.value,r.value)),d=b(()=>{const v=s.value,S=u.value;if(v===null||!v.pageSize)return S;{const{total:C}=v;if(C&&S.length<C)return S;const w=v.pageSize,m=(v.pageIndex-1)*w;return S.slice(m,m+w)}}),y=b(()=>{const v=new Map;return ue(d.value,v),v}),p=b(()=>{const v=r.value;return v.length>0?Me(d.value,v,0):d.value});return{filteredData:i,flattedData:p,mergedMap:c,paginatedMap:y}}function He(e,t,l,o){const n=t(e),r={record:e,rowKey:n,parentKey:o},s=e[l];return s&&(r.children=s.map(a=>He(a,t,l,n))),r}function ue(e,t){e.forEach(l=>{const{rowKey:o,children:n}=l;t.set(o,l),n&&ue(n,t)})}function Ae(e,t,l){const o=t.filter(s=>s.sorter),n=o.length;if(n===0)return e;const r=e.slice();return r.forEach(s=>{l.includes(s.rowKey)&&s.children&&s.children.length>0&&(s.children=Ae(s.children,t,l))}),r.sort((s,a)=>{for(let c=0;c<n;c++){const{orderBy:i,sorter:u}=o[c],d=u(s.record,a.record);if(d!==0)return i==="ascend"?d:-d}return 0})}function _e(e,t,l){const o=t.filter(n=>n.filter);return o.length===0?e:e.map(n=>{const r=o.every(({filter:u,filterBy:d})=>u(d,n.record)),{rowKey:s,children:a}=n,c=l.includes(s);let i=n;if(c&&a&&a.length){const u=_e(a,t,l);u.length!==a.length&&(i={...n,children:u})}return r||c&&i.children&&i.children.length?i:null}).filter(n=>n!==null)}function Me(e,t,l){return e.reduce((o,n)=>{const{children:r,parentKey:s,record:a,rowKey:c}=n,i=t.includes(c);if(o.push({children:r,parentKey:s,record:a,rowKey:c,level:l,expanded:i}),i&&n.children){const u=Me(n.children,t,l+1);o.push(...u)}return o},[])}function Ct(e,t){const l=b(()=>t.value.find(a=>"type"in a&&a.type==="expandable")),[o,n]=we(e,"expandedRowKeys",()=>[]);return{expandable:l,expandedRowKeys:o,setExpandedRowKeys:n,checkExpandDisabled:a=>{if(!l.value)return!0;const{disabled:c,customExpand:i}=l.value,{record:u}=a;return c!=null&&c(u)?!0:!(i||a.children&&a.children.length>0)},handleExpandChange:(a,c)=>{const{onChange:i,onExpand:u}=l.value||{},d=[...o.value],y=d.indexOf(a),p=y>=0;p?d.splice(y,1):d.push(a),M(u,!p,c),n(d),M(i,d)}}}function wt(e){const t=b(()=>e.value.filter(r=>r.filterable)),l=he({});D(t,(r,s)=>{r.forEach(a=>{const{key:c,filterable:i}=a,u=i.filterBy;if(u||l[c]===void 0){l[c]=u||[];return}const d=s?s.find(p=>p.key===c):void 0;(d==null?void 0:d.filterable.filterBy)&&(l[c]=[])})},{immediate:!0});const o=b(()=>t.value.map(r=>{const{key:s,filterable:a}=r,{filter:c,filterBy:i=l[s]}=a;return{key:s,filter:c,filterBy:i}}).filter(r=>r.filter&&r.filterBy.length>0));return{activeFilters:o,activeFilterByMap:l,handleFilter:(r,s,a)=>{const{onChange:c}=s;l[r]=a,M(c,a,o.value)}}}function kt(e,t,l){var i,u;const o=le("pagination"),n=b(()=>{const{pagination:d}=e;return d===!1?null:d===!0?{}:d}),r=I(((i=n.value)==null?void 0:i.pageIndex)??1),s=I(((u=n.value)==null?void 0:u.pageSize)??t.pagination.pageSize??o.pageSize),a=(d,y)=>{var p;r.value=d,s.value=y,M((p=n.value)==null?void 0:p.onChange,d,y)};return{mergedPagination:b(()=>{const d=n.value;return d===null?null:{...t.pagination,...d,pageIndex:d.pageIndex??r.value,pageSize:d.pageSize??s.value,size:l.value,onChange:a}})}}function Bt(e,t,{setStickyScrollLeft:l}){const o=I(),n=I(),r=I(),s=I(),a=I();D(o,w=>{w&&(r.value=w.holderRef.value)});const{handleScroll:c,pingedStart:i,pingedEnd:u}=Kt(n,r,a,l),d=Et(e,t,r,s),y=b(()=>{var w;return z((w=e.scroll)==null?void 0:w.width)}),p=b(()=>{var m;let w=z((m=e.scroll)==null?void 0:m.height);return!w&&t.value&&(e.virtual||d.value)&&(w="auto"),w}),v=b(()=>ce(X(r))),S=b(()=>p.value?v.value:0);return{virtualScrollRef:o,scrollHeadRef:n,scrollBodyRef:r,scrollContentRef:s,scrollFootRef:a,handleScroll:c,scrollTo:w=>{var m;e.virtual?(m=o.value)==null||m.scrollTo(w):typeof w=="number"&&Ye({target:X(r),top:w,duration:200})},pingedStart:i,pingedEnd:u,scrollWidth:y,scrollHeight:p,scrollBarSize:v,scrollBarSizeOnFixedHolder:S}}function Kt(e,t,l,o){const n=I(!1),r=I(!1);let s;const a=()=>{s&&(clearTimeout(s),s=void 0)};Q(()=>a());const c=I(),i=p=>{c.value=p,a(),s=setTimeout(()=>{c.value=void 0,s=void 0},100)},u=(p,v)=>{v&&v.scrollLeft!==p&&(v.scrollLeft=p)},d=p=>{const v=X(t);if(!v)return;const{clientWidth:S,scrollWidth:C}=v;o(p/C*S||0)};return{handleScroll:(p,v)=>{const S=p==null?void 0:p.currentTarget,C=v??S.scrollLeft,w=c.value;if((!w||w===S)&&(i(S),u(C,e.value),u(C,X(t)),u(C,l.value),d(C)),S){const{scrollWidth:m,clientWidth:f}=S;n.value=C>0,r.value=C<m-f}},pingedStart:n,pingedEnd:r}}function Et(e,t,l,o){const n=I(!0),r=()=>{const c=X(l.value);c?n.value=c.scrollHeight>c.clientHeight:n.value=!1};let s=[];const a=()=>s.forEach(c=>c());return se(()=>{D([t,()=>e.virtual],([c,i])=>{a(),c&&!i&&(s=[ie(l,r),ie(o,r)])},{immediate:!0})}),Q(()=>a()),n}function $t(e,t,l,o,n,r){const s=b(()=>e.scrollToTopOnChange??t.scrollToTopOnChange);let a=[];const c=()=>{a=[D([()=>{var u;return(u=l.value)==null?void 0:u.pageIndex},()=>{var u;return(u=l.value)==null?void 0:u.pageSize}],()=>r(0)),D([n,o],([u,d],[y,p])=>{(!Tt(u,y)||!It(d,p))&&r(0)})]},i=()=>{a.forEach(u=>u())};D(s,u=>{i(),u&&c()},{immediate:!0})}function Tt(e,t){return e.length===t.length&&e.every(l=>{const o=t.find(n=>n.key===l.key);return o?l.filter===o.filter&&l.filterBy.length===o.filterBy.length&&l.filterBy.every(n=>o.filterBy.includes(n)):!1})}function It(e,t){return e.length===t.length&&e.every(l=>{const o=t.find(n=>n.key===l.key);return o?l.sorter===o.sorter&&l.orderBy===o.orderBy&&l.multiple===o.multiple:!1})}function Ot(e,t,l,{mergedMap:o,paginatedMap:n}){const r=b(()=>l.value.find(m=>"type"in m&&m.type==="selectable")),[s,a]=we(e,"selectedRowKeys",()=>[]),c=b(()=>{const{disabled:m}=r.value||{},f=[],h=[];return n.value.forEach((g,k)=>{m!=null&&m(g.record)?h.push(k):f.push(k)}),{enabledRowKeys:f,disabledRowKeys:h}}),i=b(()=>{const m=new Set,f=s.value,{disabledRowKeys:h}=c.value,g=o.value;return f.forEach(k=>{const{parentKey:E}=g.get(k)||{};if(!G(E)){let B=g.get(E);if(B&&!f.includes(B.rowKey))for(;B&&!G(B==null?void 0:B.rowKey);)h.includes(B.rowKey)||m.add(B.rowKey),B=G(B.parentKey)?void 0:g.get(B.parentKey)}}),[...m]}),u=b(()=>{const m=s.value,{disabledRowKeys:f}=c.value;let h=0;return n.value.forEach((g,k)=>{!f.includes(k)&&m.includes(k)&&h++},0),h}),d=b(()=>{const m=n.value.size,f=c.value.disabledRowKeys.length;return m===0||m===f?!1:m===f+u.value}),y=b(()=>!d.value&&u.value>0),p=m=>{a(m);const f=o.value,{onChange:h}=r.value||{};if(h){const g=[];m.forEach(k=>{const E=f.get(k);E&&g.push(E.record)}),M(h,m,g)}},v=(m,f)=>{const h=o.value,{disabledRowKeys:g}=c.value,{multiple:k,onSelect:E}=r.value||{};let B=[...s.value];const $=B.indexOf(m),W=$>=0;if(k){const O=h.get(m),A=ze(O,g);if(W){B.splice($,1);const R=Rt(h,O,g);B=B.filter(K=>!R.includes(K)&&!A.includes(K))}else B.push(m),B.push(...A);Wt(h,O,B,g)}else B=W?[]:[m];M(E,!W,f),p(B)},S=()=>{const{enabledRowKeys:m}=c.value,f=new Set(s.value);d.value?m.forEach(h=>f.delete(h)):m.forEach(h=>f.add(h)),p([...f])},C=Pt(r,t),w=Ft(r,o,n,s,p);return{selectable:r,selectedRowKeys:s,indeterminateRowKeys:i,currentPageRowKeys:c,currentPageAllSelected:d,currentPageSomeSelected:y,handleSelectChange:v,handleHeadSelectChange:S,mergedSelectableMenus:C,handleSelectableMenuClick:w}}function ze(e,t){const l=[],{children:o}=e||{};return o&&o.forEach(n=>{const{rowKey:r}=n;t.includes(r)||l.push(n.rowKey),l.push(...ze(n,t))}),l}function Rt(e,t,l){const o=[];for(;t!=null&&t.parentKey;){const{parentKey:n}=t;l.includes(t.parentKey)||o.push(n),t=e.get(n)}return o}function Wt(e,t,l,o){let n=!0;for(;n&&t&&!G(t.parentKey);){const r=e.get(t.parentKey);if(r&&!o.includes(t.parentKey)){n=r.children.every(a=>o.includes(a.rowKey)||l.includes(a.rowKey));const s=l.findIndex(a=>a===t.parentKey);n?s<0&&l.push(t.parentKey):s>-1&&l.splice(s,1)}t=r}}const De=Symbol("IDUX_TABLE_KEY_selectable-all"),Ne=Symbol("IDUX_TABLE_KEY_selectable-invert"),Le=Symbol("IDUX_TABLE_KEY_selectable-none"),je=Symbol("IDUX_TABLE_KEY_selectable-pageInvert");function Pt(e,t){return b(()=>{const{menus:l}=e.value||{};if(!l||l.length===0)return[];const{selectAll:o,selectInvert:n,selectNone:r,selectPageInvert:s}=t.table;return l.map(a=>j(a)?a==="all"?{type:"item",key:De,label:o}:a==="invert"?{type:"item",key:Ne,label:n}:a==="none"?{type:"item",key:Le,label:r}:a==="pageInvert"?{type:"item",key:je,label:s}:{type:"item",key:a,label:a}:a)})}function Ft(e,t,l,o,n){const r=()=>{const{disabled:u,onSelectAll:d}=e.value||{},y=[];t.value.forEach((p,v)=>{u!=null&&u(p.record)||y.push(v)}),M(d,y),n(y)},s=()=>{const{disabled:u,onSelectInvert:d}=e.value||{},y=[...o.value];t.value.forEach((p,v)=>{if(u!=null&&u(p.record))return;const S=y.indexOf(v);S>=0?y.splice(S,1):y.push(v)}),n(y),M(d,y)},a=()=>{const{onSelectNone:u}=e.value||{};M(u),n([])},c=()=>{const{disabled:u,onSelectPageInvert:d}=e.value||{},y=[],p=o.value;l.value.forEach((v,S)=>{u!=null&&u(v.record)||p.includes(S)||y.push(S)}),M(d,y),n(y)},i=new Map([[De,r],[Ne,s],[Le,a],[je,c]]);return u=>{const d=u.key;if(at(d)&&i.has(d)){i.get(d)();return}const{disabled:y,onMenuClick:p}=e.value||{};if(!p)return;const v=[];l.value.forEach((S,C)=>{y!=null&&y(S.record)||v.push(C)}),M(p,u,v)}}function Ht(e){const t=b(()=>e.value.filter(s=>s.sortable)),l=he({}),o=b(()=>t.value.some(s=>s.sortable.multiple!==void 0));D(t,(s,a)=>{s.forEach(c=>{const{key:i,sortable:u}=c,d=u.orderBy;if(d||l[i]===void 0){l[i]=d;return}const y=a?a.find(v=>v.key===i):void 0;(y==null?void 0:y.sortable.orderBy)&&(l[i]=void 0)})},{immediate:!0});const n=b(()=>t.value.map(s=>{const{key:a,sortable:c}=s,{multiple:i=0,orderBy:u=l[a],sorter:d}=c;return{key:a,multiple:i,orderBy:u,sorter:d}}).filter(s=>s.orderBy).sort((s,a)=>a.multiple-s.multiple));return{activeSorters:n,activeOrderByMap:l,handleSort:(s,a)=>{const{orders:c,onChange:i}=a,u=l[s],d=u?xe(c,u):xe(c);o.value?l[s]=d:Object.keys(l).forEach(y=>{s===y?l[y]=d:l[y]=void 0}),M(i,d,n.value)}}}function xe(e,t){return t?e[e.indexOf(t)+1]:e[0]}function At(e){const t=b(()=>!!e.sticky),l=b(()=>{const{sticky:r}=e,{offsetTop:s=0,offsetBottom:a=0,offsetScroll:c=0,container:i=window}=ct(r)?r:{};return{offsetTop:s,offsetBottom:a,offsetScroll:c,container:i}}),[o,n]=oe(0);return{isSticky:t,mergedSticky:l,stickyScrollLeft:o,setStickyScrollLeft:n}}function _t(e,{hasEllipsis:t,hasFixed:l},{scrollWidth:o,scrollHeight:n},r,s){return b(()=>e.tableLayout?e.tableLayout:o.value&&l.value?o.value==="max-content"?"auto":"fixed":n.value||s.value||r.value||t.value||e.virtual?"fixed":"auto")}const _=Symbol("TABLE_TOKEN"),pe=Symbol("tableBodyToken"),ne=H({props:{isFixedHolder:Boolean},setup(e){const{flattedColumns:t,flattedColumnsWithScrollBar:l,columnWidthsWithScrollBar:o,mergedSelectableMenus:n,mergedPrefixCls:r}=F(_);return()=>{const{isFixedHolder:s}=e,a=s?l.value:t.value;if(a.every(u=>!u.width&&!u.type))return;const c=r.value,i=a.map((u,d)=>{const{key:y,type:p}=u,v=s?o.value[d]:u.width,S=p?V({[`${c}-col-${p}`]:!0,[`${c}-col-with-dropdown`]:p==="selectable"&&n.value.length>0}):void 0;let C;return s?C=v?`width: ${z(v)}`:void 0:C={width:z(v),minWidth:z(u.minWidth),maxWidth:z(u.maxWidth)},x("col",{key:y,class:S,style:C},null)});return x("colgroup",null,[i])}}}),Mt=H({props:{offsetTop:{type:Number,default:void 0},offsetBottom:{type:Number,default:void 0}},setup(e,{slots:t}){const{mergedPrefixCls:l,scrollHeadRef:o,handleScroll:n,scrollWidth:r,flattedData:s,isSticky:a,columnWidths:c}=F(_);zt(o,n);const i=b(()=>r.value==="max-content"),u=b(()=>s.value.length>0),d=b(()=>{const v=l.value;return{[`${v}-fixed-holder`]:!0,[`${v}-sticky-holder`]:a.value}}),y=b(()=>{const v=a.value,{offsetTop:S,offsetBottom:C}=e;return{overflow:"hidden",top:v?z(S):void 0,bottom:v?z(C):void 0}}),p=b(()=>({tableLayout:"fixed",visibility:u.value&&!c.value.length?"hidden":void 0}));return()=>x("div",{class:d.value,style:y.value,ref:o},[x("table",{style:p.value},[(u.value||!i.value)&&x(ne,{isFixedHolder:!0},null),t.default&&t.default()])])}});function zt(e,t){const l=o=>{const n=o.deltaX,r=o.currentTarget;if(n){const s=r.scrollLeft+n;t(o,s),o.preventDefault()}};se(()=>ee(e.value,"wheel",l,{passive:!0})),Q(()=>Y(e.value,"wheel",l))}const Dt=H({setup(){const{mergedPrefixCls:e,scrollBodyRef:t,handleScroll:l,mergedSticky:o,stickyScrollLeft:n,setStickyScrollLeft:r}=F(_),s=I(!1),a=I(!1),c=I(0),i=I(0),u=I(0),d=b(()=>{const f=i.value,h=u.value;return h&&f*(f/h)});$e(()=>{const f=X(t);if(f&&s.value){const{clientWidth:h,scrollWidth:g,scrollLeft:k}=f;r(k/g*h),i.value=h,u.value=g}});const y=b(()=>({height:ce(),width:i.value,bottom:o.value.offsetScroll})),p=b(()=>{const f=e.value;return{[`${f}-sticky-scrollbar-thumb`]:!0,[`${f}-sticky-scrollbar-thumb-active`]:a.value}}),v=b(()=>({width:`${d.value}px`,transform:`translate3d(${n.value}px, 0, 0)`})),S=()=>a.value=!1,C=f=>{c.value=f.pageX-n.value,a.value=!0,f.preventDefault()},w=f=>{if(!a.value)return;const{buttons:h}=f||window.event;if(h===0){a.value=!1;return}let g=f.pageX-c.value;g<=0&&(g=0);const k=i.value,E=u.value,B=d.value;g+B>=k&&(g=k-B);const $=g/k*(E+2);l(f,$)},m=()=>{const f=X(t),h=ge(f).top,g=h+f.offsetHeight,{container:k,offsetScroll:E}=o.value,B=k===window?document.documentElement.scrollTop+window.innerHeight:ge(k).top+k.clientHeight;g-ce()<=B||h>=B-E?s.value=!1:s.value=!0};return se(()=>{ee(document.body,"mouseup",S),ee(document.body,"mousemove",w),ee(window,"resize",m),D(()=>o.value.container,(f,h)=>{Y(h,"scroll",m),ee(f,"scroll",m)},{immediate:!0}),m()}),Q(()=>{Y(document.body,"mouseup",S),Y(document.body,"mousemove",w),Y(window,"resize",m),Y(o.value.container,"scroll",m)}),()=>!t.value||!s.value||u.value<=i.value||!d.value?null:x("div",{class:`${e.value}-sticky-scrollbar`,style:y.value},[x("div",{class:p.value,style:v.value,onMousedown:C},null)])}}),de=H({props:{isEmpty:Boolean},setup(e,{slots:t}){const{mergedPrefixCls:l,flattedColumns:o,hasFixed:n,scrollWidth:r,scrollBarColumn:s}=F(_),{mainTableWidth:a}=F(pe),c=b(()=>o.value.length);return()=>{let i=t.default();if(e.isEmpty?r.value:n.value){const u=s.value;i=x("div",{class:`${l.value}-fixed-row`,style:{width:z(a.value-(u?u.width:0)),position:"sticky",left:0,overflow:"hidden"}},[i])}return x("tr",null,[x("td",{colSpan:c.value},[i])])}}}),Nt={expandedRowKeys:{type:Array,default:void 0},selectedRowKeys:{type:Array,default:void 0},autoHeight:{type:Boolean,default:void 0},borderless:{type:Boolean,default:void 0},childrenKey:{type:String,default:void 0},columns:{type:Array,default:()=>[]},customAdditional:{type:Object,default:void 0},customTag:{type:Object,default:void 0},dataSource:{type:Array,default:()=>[]},ellipsis:{type:[Boolean,Object],default:!1},empty:{type:[String,Object],default:"default"},emptyCell:{type:[String,Function],default:void 0},getKey:{type:[String,Function],default:void 0},header:{type:[String,Object],default:void 0},headless:{type:Boolean,default:void 0},pagination:{type:[Boolean,Object],default:!0},scroll:{type:Object,default:void 0},size:{type:String,default:void 0},spin:{type:[Boolean,Object],default:void 0},sticky:{type:[Boolean,Object],default:void 0},scrollToTopOnChange:{type:Boolean,default:void 0},tableLayout:{type:String,default:void 0},virtual:{type:Boolean,default:!1},"onUpdate:expandedRowKeys":[Function,Array],"onUpdate:selectedRowKeys":[Function,Array],onScroll:[Function,Array],onScrolledChange:[Function,Array],onScrolledBottom:[Function,Array]},Lt={columns:{type:Array,required:!0}},jt={column:{type:Object,required:!0}},Ut={expanded:{type:Boolean,default:void 0},rowIndex:{type:Number,required:!0},level:{type:Number,default:void 0},record:{type:Object,required:!0},rowData:{type:Object,required:!0},rowKey:{type:[String,Number,Symbol],required:!0}},qt={column:{type:Object,required:!0},colIndex:{type:Number,required:!0},level:{type:Number,default:void 0},record:{type:Object,required:!0},rowIndex:{type:Number,required:!0},disabled:{type:Boolean,default:void 0},expanded:{type:Boolean,default:void 0},handleExpend:{type:Function,default:void 0},isHover:{type:Boolean,default:void 0},selected:{type:Boolean,default:void 0},indeterminate:{type:Boolean,default:void 0},handleSelect:{type:Function,default:void 0}},Xt={cellKey:{type:[String,Number,Symbol],required:!0},changeColumnWidth:{type:Function,required:!0}},Vt={activeFilterBy:{type:Array,required:!0},filterable:{type:Object,required:!0},onUpdateFilterBy:{type:Function,required:!0}},Yt={activeOrderBy:{type:String,default:void 0},sortable:{type:Object,required:!0}},Gt=H({props:Xt,setup(e){const t=I();return ie(t,o=>{const{offsetWidth:n}=o.target;e.changeColumnWidth(e.cellKey,n)}),Q(()=>{e.changeColumnWidth(e.cellKey,!1)}),()=>x("td",{ref:t,style:{padding:0,border:0,height:0}},[x("div",{style:{height:0,overflow:"hidden"}},[it("Â ")])])}}),Jt=H({setup(){const{mergedPrefixCls:e,flattedColumns:t}=F(_),{changeColumnWidth:l}=F(pe);return()=>{const o=t.value.map(n=>{const{key:r}=n;return x(Gt,{key:r,cellKey:r,changeColumnWidth:l},null)});return x("tr",{class:`${e.value}-measure-row`,style:{fontSize:0,height:0},"aria-hidden":!0},[o])}}}),Qt=H({props:qt,setup(e){const{props:t,slots:l,mergedPrefixCls:o,mergedEmptyCell:n,activeOrderByMap:r,fixedColumnKeys:s,columnOffsets:a,isSticky:c,expandable:i,selectable:u}=F(_),d=b(()=>r[e.column.key]),y=Zt(e),p=b(()=>s.value.lastStartKey===e.column.key),v=b(()=>s.value.firstEndKey===e.column.key),S=b(()=>{const{type:f,ellipsis:h}=e.column;return f?h:h??t.ellipsis}),C=b(()=>{const{fixed:f,align:h}=e.column,g=o.value;let k={[`${g}-cell`]:!0,[`${g}-cell-sorted`]:!!d.value,[`${g}-cell-align-${h}`]:!!h&&h!="start",[`${g}-cell-ellipsis`]:!!S.value};return f&&(k={...k,[`${g}-fix-start`]:f==="start",[`${g}-fix-start-last`]:p.value,[`${g}-fix-end`]:f==="end",[`${g}-fix-end-first`]:v.value,[`${g}-fix-sticky`]:c.value}),V(k)}),w=b(()=>{const{fixed:f}=e.column;if(!f)return;const{starts:h,ends:g}=a.value,E=z((f==="start"?h:g)[e.colIndex]);return{position:"sticky",left:f==="start"?E:void 0,right:f==="end"?E:void 0}}),m=f=>{f.stopPropagation()};return()=>{var W,O;const{column:f}=e,{type:h}=f;let g,k;if(h==="selectable")g=ll(e,l,u,m);else{const A=y.value;if(g=el(e,l,A),k=Re(S.value,g,A),!h&&(G(g)||g==="")){const R=l.emptyCell||n.value;g=J(R)?R({column:f,record:e.record,rowIndex:e.rowIndex}):R}}e.column.fixed&&S.value&&(p.value||v.value)&&(g=x("span",{class:`${o.value}-cell-content`},[g]));const E=(W=t.customAdditional)==null?void 0:W.bodyCell,B=E?E({column:f,record:e.record,rowIndex:e.rowIndex}):void 0,$=((O=t.customTag)==null?void 0:O.bodyCell)??"td";return x($,Z({class:C.value,style:w.value,title:k},B),{default:()=>[h==="expandable"&&tl(e,l,i,o.value),g]})}}});function Zt(e){return b(()=>{const{column:t,record:l}=e,o=fe(t.dataKey);if(o.length<=0)return;let n=l;for(let r=0;r<o.length&&n;r++){const s=o[r];n=n[s]}return n})}function el(e,t,l){const{record:o,rowIndex:n,column:r}=e,{customCell:s}=r,a=j(s)?t[s]:s;return a?a({value:l,record:o,rowIndex:n}):l}function tl(e,t,l,o){if(e.disabled)return;const{icon:n,customIcon:r,indent:s}=l.value,{record:a,expanded:c,level:i=0}=e,u=s?`margin-left: ${z(i*s)}`:void 0;let d;const y=(j(r)?t[r]:r)??n;return J(y)?d=y({expanded:!!c,record:a}):d=j(y)?x(te,{name:y,rotate:c?90:0},null):y,x("button",{class:`${o}-expandable-trigger`,style:u,type:"button",onClick:e.handleExpend},[d])}function ll(e,t,l,o){const{selected:n,indeterminate:r,disabled:s,isHover:a,rowIndex:c,handleSelect:i}=e,{showIndex:u,multiple:d,customCell:y}=l.value,p=j(y)?t[y]:y;if(!p&&!n&&!a&&u)return x("span",{style:s?"cursor: not-allowed":"cursor: pointer"},[c]);if(d){const v={checked:n,disabled:s,indeterminate:r,onChange:i,onClick:o};return p?p(v):x(ve,v,null)}else{const v={checked:n,disabled:s,onChange:i,onClick:o};return p?p(v):x(Ie,v,null)}}const nl=H({props:Ut,setup(e){const{props:t,mergedPrefixCls:l,flattedColumns:o,expandable:n,handleExpandChange:r,checkExpandDisabled:s,selectable:a,selectedRowKeys:c,indeterminateRowKeys:i,handleSelectChange:u,currentPageRowKeys:d}=F(_),{expandDisabled:y,handleExpend:p,selectDisabled:v,handleSelect:S,isHover:C,attrs:w}=ol(e,n,s,r,a,u,d),m=b(()=>c.value.includes(e.rowKey)),f=b(()=>i.value.includes(e.rowKey)),h=b(()=>{const g=`${l.value}-row`,{level:k,expanded:E}=e;return V({[`${g}`]:!0,[`${g}-level-${k}`]:!!k,[`${g}-selected`]:m.value,[`${g}-expanded`]:E})});return()=>{var B,$;const g=(B=t.customAdditional)==null?void 0:B.bodyRow,k=g?g({record:e.record,rowIndex:e.rowIndex}):void 0,E=(($=t.customTag)==null?void 0:$.bodyRow)??"tr";return x(E,Z({class:h.value},w.value,k),{default:()=>[sl(e,o,y,p,m,f,v,S,C)]})}}});function ol(e,t,l,o,n,r,s){const a=b(()=>l(e.rowData)),c=b(()=>{var h;return(h=t.value)==null?void 0:h.trigger}),i=()=>{const{rowKey:h,record:g}=e;o(h,g)},u=b(()=>s.value.disabledRowKeys.includes(e.rowKey)),d=b(()=>{var h;return(h=n.value)==null?void 0:h.trigger}),y=b(()=>{var h;return(h=n.value)==null?void 0:h.showIndex}),p=I(!1),v=()=>{const{rowKey:h,record:g}=e;r(h,g)},S=()=>{c.value==="click"&&i(),d.value==="click"&&v()},C=()=>{c.value==="dblclick"&&i(),d.value==="dblclick"&&v()},w=()=>p.value=!0,m=()=>p.value=!1,f=b(()=>{const h=a.value,g=c.value,k=u.value,E=d.value,B=!h&&g==="click"||!k&&E==="click",$=!h&&g==="dblclick"||!k&&E==="dblclick",W=!k&&y.value;let O="";return B||$?O="pointer":(h&&g||k&&E)&&(O="not-allowed"),{style:O?`cursor: ${O}`:void 0,onClick:B?S:void 0,onDblclick:$?C:void 0,onMouseenter:W?w:void 0,onMouseleave:W?m:void 0}});return{expandDisabled:a,handleExpend:i,selectDisabled:u,handleSelect:v,isHover:p,attrs:f}}function sl(e,t,l,o,n,r,s,a,c){const i=[],{rowIndex:u,record:d,level:y}=e;return t.value.forEach((p,v)=>{const{type:S,colSpan:C,rowSpan:w,key:m}=p,f=C==null?void 0:C(d,u),h=w==null?void 0:w(d,u);if(f===0||h===0)return;const g={colSpan:f===1?void 0:f,rowSpan:h===1?void 0:h,rowIndex:u,colIndex:v,record:d,column:p,level:y,key:m};S==="expandable"?(g.expanded=e.expanded,g.disabled=l.value,g.handleExpend=o):S==="selectable"&&(g.selected=n.value,g.indeterminate=r.value,g.disabled=s.value,g.handleSelect=a,g.isHover=c.value),i.push(x(Qt,g,null))}),i}function Ue(e,t,l,o,n){const{expanded:r,level:s,record:a,rowKey:c}=e,i={key:c,expanded:r,level:s,record:a,rowData:e,rowIndex:t,rowKey:c},u=x(nl,i,null),d=r&&rl(i,l,o,n);return d?[u,d]:u}function rl(e,t,l,o){const{customExpand:n}=l||{},{record:r,rowIndex:s}=e;let a;return J(n)?a=n({record:r,rowIndex:s}):j(n)&&t[n]&&(a=t[n]({record:r,rowIndex:s})),a&&x(de,{class:`${o}-expanded-row`},{default:()=>[a]})}const ae=H({setup(e,{slots:t}){const{props:l,slots:o,mergedPrefixCls:n,mergedAutoHeight:r,flattedData:s,expandable:a,scrollWidth:c,scrollHeight:i,isSticky:u}=F(_),d=b(()=>r.value||c.value||i.value||u.value);return()=>{const y=n.value,p=[];o.alert&&p.push(x(de,{class:`${y}-alert-row`},{default:()=>[o.alert()]}));const v=s.value;return v.length>0?t.default?p.push(...t.default()):v.forEach((S,C)=>{p.push(...fe(Ue(S,C,o,a.value,y)))}):p.push(x(de,{class:`${y}-empty-row`,isEmpty:!0},{default:()=>[x(Ge,{empty:l.empty},o)]})),x("tbody",{class:`${n.value}-tbody`},[d.value&&x(Jt,null,null),p])}}}),al=H({props:Vt,setup(e){const{slots:t,config:l,locale:o,mergedPrefixCls:n}=F(_),r=b(()=>e.filterable.multiple??l.columnBase.filterable.multiple),s=b(()=>e.filterable.footer??l.columnBase.filterable.footer),a=e.activeFilterBy,[c,i]=oe(()=>a);D(()=>e.activeFilterBy,f=>i(f));const[u,d]=oe(!1),y=f=>{d(f),f||e.onUpdateFilterBy(c.value)},p=()=>{d(!1),e.onUpdateFilterBy(c.value)},v=()=>{i(a)},S=f=>{const h=`${n.value}-filterable-menu-label`,g=r.value?ve:Ie;return x("span",{class:h},[x(g,{checked:f.selected,disabled:f.disabled},null),x("span",{class:`${h}-content`},[f.label])])},C=()=>{const f=[],{customMenu:h,menus:g}=e.filterable;return J(h)?f.push(h()):j(h)&&t[h]?f.push(t[h]()):f.push(cl(g,r,c,i,S)),s.value&&f.push(il(o,n,p,v)),f},w=b(()=>{const f=`${n.value}-filterable-trigger`;return V({[f]:!0,[`${f}-active`]:e.activeFilterBy.length>0})}),m=()=>{const{customTrigger:f}=e.filterable;return J(f)?f():j(f)&&t[f]?t[f]():x("span",{class:w.value,onClick:h=>h.stopPropagation()},[x(te,{name:"filter-filled"},null)])};return()=>{const f={visible:u.value,hideOnClick:!s.value,placement:"bottomEnd",trigger:"click","onUpdate:visible":y};return x(ke,f,{default:m,overlay:C})}}}),cl=(e,t,l,o,n)=>{const r={dataSource:e,multiple:t.value,selectable:!0,selectedKeys:l.value,"onUpdate:selectedKeys":o};return x(Be,r,{itemLabel:n})},il=(e,t,l,o)=>{const{filterConfirm:n,filterReset:r}=e.table;return x("div",{class:`${t.value}-filterable-trigger-footer`},[x(me,{mode:"primary",size:"xs",onClick:l},{default:()=>[n]}),x(me,{size:"xs",onClick:o},{default:()=>[r]})])},ul=H({setup(){const{mergedPrefixCls:e,paginatedMap:t,selectable:l,currentPageRowKeys:o,currentPageAllSelected:n,currentPageSomeSelected:r,handleHeadSelectChange:s,mergedSelectableMenus:a,handleSelectableMenuClick:c}=F(_),i=b(()=>{const C=t.value.size;return C===0||C===o.value.disabledRowKeys.length}),[u,d]=oe(!1),y={"onUpdate:visible":d,trigger:"click"},p=()=>x(Be,{dataSource:a.value,onClick:c},null),v=()=>x(te,{class:`${e.value}-selectable-trigger`,name:"down",rotate:u.value?180:0},null),S=()=>{if(a.value.length!==0)return x(ke,y,{default:v,overlay:p})};return()=>{const{multiple:C}=l.value;if(C)return x("span",{class:`${e.value}-cell-triggers`},[x(ve,{checked:n.value,indeterminate:r.value,disabled:i.value,onChange:s},null),S()])}}}),dl=H({props:Yt,setup(e){const{locale:t,mergedPrefixCls:l}=F(_);return()=>{const{activeOrderBy:o,sortable:n}=e,{orders:r,nextTooltip:s}=n,a=s&&fl(t.table,r,o),c=vl(l,r,o);return a?x(Je,{title:a},{default:()=>[c]}):c}}});function fl(e,t,l){const o=l?t[t.indexOf(l)+1]:t[0],{sortCancel:n,sortAsc:r,sortDesc:s}=e;return o?o==="ascend"?r:s:n}function vl(e,t,l){const o=e.value,n=`${o}-sortable-trigger-active`,r=t.includes("ascend")&&x(te,{name:"caret-up-filled",class:l==="ascend"?n:void 0},null),s=t.includes("descend")&&x(te,{name:"caret-down-filled",class:l==="descend"?n:void 0},null);return x("span",{class:`${o}-sortable-trigger`},[r,s])}const hl=H({props:jt,setup(e){const{props:t,slots:l,mergedPrefixCls:o,fixedColumnKeys:n,columnOffsetsWithScrollBar:r,isSticky:s,handleSort:a,activeOrderByMap:c,activeFilterByMap:i,handleFilter:u}=F(_),d=b(()=>{const{type:m,ellipsis:f}=e.column,h=m?f:f??t.ellipsis;return Ke(h)&&h.head===!1?void 0:h}),y=b(()=>{const{type:m,align:f,fixed:h,hasChildren:g,key:k,sortable:E,filterable:B}=e.column,$=o.value;let W={[`${$}-cell`]:!0,[`${$}-cell-${m}`]:!!m,[`${$}-cell-filterable`]:!!B,[`${$}-cell-sortable`]:!!E,[`${$}-cell-align-center`]:g||f==="center",[`${$}-cell-align-end`]:!g&&f==="end",[`${$}-cell-ellipsis`]:!!d.value};if(h){const{lastStartKey:O,firstEndKey:A}=n.value;W={...W,[`${$}-fix-start`]:h==="start",[`${$}-fix-start-last`]:O===k,[`${$}-fix-end`]:h==="end",[`${$}-fix-end-first`]:A===k,[`${$}-fix-sticky`]:s.value}}return V(W)}),p=b(()=>{const{fixed:m,colStart:f,colEnd:h}=e.column;if(!m)return;const{starts:g,ends:k}=r.value,$=z((m==="start"?g:k)[m==="start"?f:h]);return{position:"sticky",left:m==="start"?$:void 0,right:m==="end"?$:void 0}}),v=b(()=>c[e.column.key]),S=b(()=>i[e.column.key]),C=m=>{const{key:f,filterable:h}=e.column;u(f,h,m)},w=()=>{const{key:m,sortable:f}=e.column;f&&a(m,f)};return()=>{var A,R;const{column:m}=e,{type:f,titleColSpan:h,titleRowSpan:g}=m;if(f==="scroll-bar")return x("th",{class:y.value,style:p.value,colspan:h===1?void 0:h,rowspan:g===1?void 0:g,onClick:w},null);const k=o.value;let E,B;if(f==="selectable")B=x(ul,null,null);else{const{title:K,customTitle:T,sortable:P,filterable:U}=m,N=d.value;B=yl(K,T,l),E=Re(N,B,K);const L=pl(P,v,U,S,C);L.length>0?B=x("span",{class:`${k}-cell-triggers`},[x("span",{class:`${k}-cell-title`},[B]),L]):N&&(B=x("span",{class:`${k}-cell-title`},[B]))}const $=(A=t.customAdditional)==null?void 0:A.headCell,W=$?$({column:m}):void 0,O=((R=t.customTag)==null?void 0:R.headCell)??"th";return x(O,Z({class:y.value,style:p.value,colSpan:h===1?void 0:h,rowSpan:g===1?void 0:g,title:E},W,{onClick:w}),{default:()=>[B]})}}});function yl(e,t,l){let o=e;return J(t)?o=t({title:e}):j(t)&&l[t]&&(o=l[t]({title:e})),o}function pl(e,t,l,o,n){const r=[];return e&&r.push(x(dl,{activeOrderBy:t.value,sortable:e},null)),l&&r.push(x(al,{activeFilterBy:o.value,filterable:l,onUpdateFilterBy:n},null)),r}const gl=H({props:Lt,setup(e){const{props:t,mergedPrefixCls:l}=F(_);return()=>{var a,c;const{columns:o}=e,n=(a=t.customAdditional)==null?void 0:a.headRow,r=n?n({columns:o}):void 0,s=((c=t.customTag)==null?void 0:c.headRow)??"tr";return x(s,Z({class:`${l.value}-row`},r),{default:()=>[o.filter(i=>i.titleColSpan!==0).map(i=>x(hl,{key:i.key,column:i},null))]})}}}),Se=H({setup(){const{props:e,mergedRows:t,mergedPrefixCls:l}=F(_);return()=>{var a,c;const o=t.value,n=(a=e.customAdditional)==null?void 0:a.head,r=n?n({rows:o}):void 0,s=((c=e.customTag)==null?void 0:c.head)??"thead";return x(s,Z({class:`${l.value}-thead`},r),{default:()=>[o.map((i,u)=>x(gl,{key:u,columns:i},null))]})}}}),ml=H({setup(){const{props:e,slots:t,expandable:l,mergedPrefixCls:o,mergedVirtualItemHeight:n,mergedAutoHeight:r,columnWidths:s,changeColumnWidth:a,flattedData:c,isSticky:i,mergedSticky:u,virtualScrollRef:d,scrollBodyRef:y,scrollContentRef:p,handleScroll:v,pingedStart:S,pingedEnd:C,scrollWidth:w,scrollHeight:m,hasFixed:f,tableLayout:h}=F(_),g=I(),k=I(0);Te(pe,{mainTableWidth:k,changeColumnWidth:(K,T)=>{tt(g.value)&&a(K,T)}});const B=()=>{const K=X(y);K&&v({currentTarget:K})},$=K=>{const{offsetWidth:T}=K.target;T!==k.value&&(k.value=T)};se(()=>{B(),D([()=>e.dataSource,w],([,T])=>{T&&B()}),D(s,Ee(()=>{var P;((P=X(y))==null?void 0:P.scrollLeft)===0&&B()},16)),Qe(g.value,$)}),Q(()=>Ze(g.value,$));const W=b(()=>{const K=o.value;return V({[`${K}-container`]:!0,[`${K}-ping-start`]:S.value,[`${K}-ping-end`]:C.value,[`${K}-fixed-layout`]:h.value==="fixed",[`${K}-fixed-column`]:f.value,[`${K}-scroll-horizontal`]:w.value,[`${K}-scroll-vertical`]:m.value})}),O=b(()=>{var L;const K=w.value,T=m.value,P=K?"auto":void 0,U=e.virtual?"hidden":T?"scroll":K?"hidden":void 0,N=(L=e.scroll)==null?void 0:L.fullHeight;return{overflowX:P,overflowY:U,[N?"height":"maxHeight"]:T}}),A=b(()=>({tableLayout:h.value,width:w.value,minWidth:w.value?"100%":void 0})),R=(K,T,P)=>{M(e.onScrolledChange,K,T,P.map(U=>U.record))};return()=>{const K=o.value,T=r.value,P=t.default?t.default():[];if(T||m.value||i.value){const{offsetTop:U}=u.value;if(e.headless||P.push(x(Mt,{offsetTop:U},{default:()=>[x(Se,null,null)]})),e.virtual&&(e.scroll||T)){const N=({item:re,index:Xe})=>Ue(re,Xe,t,l.value,K),L=re=>x("table",{ref:p,class:`${K}-table`,style:A.value},[x(ne,null,null),x(ae,null,{default:()=>[re]}),!1]),{scroll:q,onScrolledBottom:qe}=e;P.push(x(et,{ref:d,style:O.value,dataSource:c.value,fullHeight:q==null?void 0:q.fullHeight,getKey:"rowKey",height:r.value?"100%":q==null?void 0:q.height,itemHeight:n.value,itemRender:N,contentRender:L,virtual:!0,onScroll:v,onScrolledBottom:qe,onScrolledChange:R},null))}else P.push(x("div",{ref:y,class:`${K}-content`,style:O.value,onScroll:v},[x("table",{ref:p,class:`${K}-table`,style:A.value},[x(ne,null,null),x(ae,null,null),!1])]));i.value&&P.push(x(Dt,null,null))}else P.push(x("div",{ref:y,class:`${K}-content`,style:O.value,onScroll:v},[x("table",{ref:p,class:`${K}-table`,style:A.value},[x(ne,null,null),!e.headless&&x(Se,null,null),x(ae,null,null),!1])]));return x("div",{ref:g,class:W.value},[P])}}});function bl(e,t){return e.footer?x("div",{class:`${t}-footer`},[e.footer()]):null}function xl(e,t,l){let o=null,n=null;if(e!==null){const{position:r}=e,[s,a]=ut(r).split("-"),c=`${l}-pagination ${l}-pagination-${a}`,i=x(ft,Z({class:c,total:t.length},e),null);o=s==="top"?i:null,n=s==="bottom"?i:null}return[o,n]}const Sl={sm:32,md:40,lg:56},Cl={sm:40,md:48,lg:56},wl=H({name:"IxTable",props:Nt,setup(e,{expose:t,slots:l}){const o=le("common"),n=b(()=>`${o.prefixCls}-table`),r=le("locale"),s=le("table"),a=b(()=>e.autoHeight??s.autoHeight),c=b(()=>e.childrenKey??s.childrenKey),i=lt(e,s),u=b(()=>e.emptyCell??s.emptyCell),d=b(()=>e.size??s.size),y=b(()=>o.theme==="seer"?Sl[d.value]:Cl[d.value]),{mergedPagination:p}=kt(e,s,d),v=At(e),S=Bt(e,a,v),C=ht(e,l,s,S.scrollBarSizeOnFixedHolder),w=Ht(C.flattedColumns),m=wt(C.flattedColumns),f=Ct(e,C.flattedColumns),h=_t(e,C,S,v.isSticky,a),{activeSorters:g}=w,{activeFilters:k}=m,E=St(e,c,i,g,k,f.expandedRowKeys,p),B=Ot(e,r,C.flattedColumns,E);$t(e,s,p,g,k,S.scrollTo);const $={props:e,slots:l,config:s,locale:r,mergedPrefixCls:n,mergedEmptyCell:u,mergedVirtualItemHeight:y,mergedAutoHeight:a,...C,...S,...w,...m,...v,tableLayout:h,mergedPagination:p,...f,...E,...B};Te(_,$),t({scrollTo:S.scrollTo});const{flattedData:W,filteredData:O}=E,A=b(()=>{const R=n.value,{borderless:K=s.borderless,scroll:T}=e;return V({[R]:!0,[`${R}-auto-height`]:a.value,[`${R}-borderless`]:K,[`${R}-empty`]:W.value.length===0,[`${R}-full-height`]:T==null?void 0:T.fullHeight,[`${R}-${d.value}`]:!0})});return()=>{const R=n.value,K=x(nt,{header:e.header},l),T=bl(l,R),[P,U]=xl(p.value,O.value,R),N=[K],L=[P,x(ml,null,null),T,U].filter(Boolean),q=kl(e.spin);return q?N.push(x(ot,q,{default:()=>[L]})):N.push(...L),x("div",{class:A.value},[N])}}});function kl(e){return dt(e)?{spinning:e}:e}const Tl=wl,Il=ye;export{Tl as I,Il as a,vt as g};
