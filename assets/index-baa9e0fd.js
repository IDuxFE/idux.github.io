import{ao as k,m as w,P as Re,as as ee,a7 as Ve,j as He,at as ze,H as ke,au as Ue,K as de,M as U,N as ie,av as ye,aw as Ge,r as je,aa as We,ae as qe,af as Xe,ax as Je,ay as Qe,az as Ye,ad as Ze}from"./index-e89cd1aa.js";import{c as f,d as $,t as fe,l as q,x as te,n as ae,p as C,ac as W,r as ve,i as et,B as he,ab as _,w as tt,m as at}from"./vendor-cb0c1489.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ge(e){return f(()=>{const{disableData:t}=e;return a=>a.disabled||(t?t(a):!1)})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function me(e,t,a,n,l){const o=f(()=>pe(e,t.value,a.value,n.value,l.value,e.dataSource)),r=f(()=>{const c=new Map;return ne(c,o.value),c});return{mergedData:o,mergedDataMap:r}}function pe(e,t,a,n,l,o,r,c){const{loadChildren:d,separator:i}=e;return o.map(p=>Se(p,t,a,n,i,l,!!d,r,c))}function Se(e,t,a,n,l,o,r,c,d){var y;const i=t(e),p=o&&!$(d)?`${d}${l}${e[n]}`:e[n],S=e[a],x=S==null?void 0:S.map(h=>Se(h,t,a,n,l,o,r,i,p));return{children:x,key:i,isLeaf:(y=e.isLeaf)!=null?y:!(x!=null&&x.length||r),label:p,parentKey:c,rawData:e}}function ne(e,t){t.forEach(a=>{const{key:n,children:l}=a;e.set(n,a),l&&ne(e,l)})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function nt(e,t,a){const[n,l]=k(e,"expandedKeys"),[o,r]=k(e,"loadedKeys"),c=()=>{e.multiple||a(!1)};return f(()=>({expandedKeys:n.value,loadedKeys:o.value,childrenKey:e.childrenKey,customAdditional:e.customAdditional,disableData:e.disableData,empty:e.empty,expandIcon:e.expandIcon,expandTrigger:e.expandTrigger,fullPath:e.fullPath,getKey:e.getKey,labelKey:e.labelKey,loadChildren:e.loadChildren,maxLabel:e.maxLabel,multiple:e.multiple,multipleLimit:e.multipleLimit,searchable:e.searchable,searchFn:e.searchFn,searchValue:t.value,strategy:e.strategy,virtual:e.virtual,virtualItemHeight:e.virtualItemHeight,"onUpdate:expandedKeys":l,"onUpdate:loadedKeys":r,onSelect:c}))}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function lt(e,t){return f(()=>{const a=t.value;return e.value.map(n=>a.get(n)).filter(Boolean)})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ot(e,t,a){if(a){const n=[],l=e.value;t.forEach(o=>{const r=l.get(o);r&&n.push(r.rawData)}),w(a,t,n)}}function le(e,t,a){if(!e||!e.children)return[];const n=[];return e.children.forEach(l=>{const{key:o,rawData:r}=l;(!t||!a(r))&&(n.push(o),n.push(...le(l,t,a)))}),n}function z(e,t,a,n){const l=[];for(;t&&!$(t.parentKey);){const{parentKey:o,rawData:r}=t;!a||!n(r)?(l.unshift(o),t=e.get(o)):t=void 0}return l}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ke(e,t,a,n,l,o,r){const c=f(()=>{const y=Re(o.value);if(!t.value)return y;if(!n.value){const h=y[y.length-1];return $(h)?[]:[h]}return y.map(h=>h[h.length-1]).filter(h=>!$(h))}),d=f(()=>n.value&&l.value!=="off"),i=f(()=>d.value?rt(e.value,c.value,a.value):c.value),p=f(()=>{if(!d.value)return ee;const y=new Set,h=i.value,A=e.value,v=a.value;return h.forEach(m=>{let g=A.get(m);for(;g&&!$(g.parentKey);){const s=g.parentKey,E=A.get(s);E&&!v(E.rawData)&&!h.includes(s)&&y.add(s),g=E}}),[...y]}),S=y=>{let h;if(!t.value)h=n.value?y:y[0];else{const v=a.value;if(n.value){const m=e.value;h=y.map(g=>{const s=z(m,m.get(g),!0,v);return s.push(g),s})}else{const m=y[0],g=e.value;h=z(g,g.get(m),!0,v),h.push(m)}}const A=fe(o.value);h!==A&&r(h)};return{resolvedSelectedKeys:c,selectedWithStrategyKeys:i,strategyEnabled:d,handleSelect:y=>{const h=i.value,v=h.indexOf(y)>-1;if(!n.value){!v&&S([y]);return}const m=e.value,g=m.get(y),s=d.value,E=a.value,I=s?le(g,!0,E):[],b=new Set(h);v||I.length>0&&I.every(K=>b.has(K)||p.value.includes(K))?(b.delete(y),s&&(z(m,g,!0,E).forEach(K=>b.delete(K)),I.forEach(K=>b.delete(K)))):(b.add(y),s&&(xe(m,g,b,E),I.forEach(K=>b.add(K)))),S([...ct(m,b,l.value)])},setValue:S}}function rt(e,t,a){const n=new Set(t);let l;return t.forEach(o=>{const r=e.get(o);if(!r)return;const{parentKey:c}=r;le(r,!0,a).forEach(i=>n.add(i)),c&&l!==c&&(xe(e,r,n,a),l=c)}),[...n]}function xe(e,t,a,n){let l=!0;for(;l&&t&&!$(t.parentKey);){const o=t.parentKey,r=e.get(o);r&&!n(t.rawData)&&(l=r.children.every(c=>n(c.rawData)||a.has(c.key)),l&&a.add(t.parentKey)),t=r}}function ct(e,t,a){if(a==="parent"){const n=new Set;return t.forEach(l=>{const o=e.get(l);if(o){const{key:r,parentKey:c}=o;(!c||!t.has(c))&&n.add(r)}}),n}if(a==="child"){const n=new Set;return t.forEach(l=>{const o=e.get(l);o&&o.isLeaf&&n.add(o.key)}),n}return t}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const be=Symbol("CASCADER_PANEL_DATA_TOKEN"),oe=Symbol("cascaderPanelToken"),st=q({props:{children:{type:Array,default:void 0},index:{type:Number,required:!0},isLeaf:{type:Boolean,required:!0},label:{type:String,required:!0},parentKey:{type:[String,Number,Symbol],default:void 0},rawData:{type:Object,required:!0}},setup(e){const t=Ve(),{props:a,slots:n,mergedPrefixCls:l,mergedExpandIcon:o,mergedGetDisabled:r,mergedLabelKey:c,activeKey:d,setActiveKey:i,expandedKeys:p,setExpandedKeys:S,loadingKeys:x,selectedWithStrategyKeys:y,selectedLimit:h,selectedLimitTitle:A,indeterminateKeys:v,handleSelect:m,handleExpand:g}=te(oe),s=f(()=>t===d.value),E=f(()=>r.value(e.rawData)),I=f(()=>p.value.includes(t)),b=f(()=>x.value.includes(t)),K=f(()=>y.value.includes(t)),D=f(()=>v.value.includes(t)),M=f(()=>{const F=`${l.value}-option`;return ae({[F]:!0,[`${F}-leaf`]:e.isLeaf,[`${F}-active`]:s.value,[`${F}-disabled`]:E.value,[`${F}-expanded`]:I.value,[`${F}-loading`]:b.value,[`${F}-selected`]:K.value})}),L=()=>{m(t),w(a.onSelect,e.rawData,K.value)},N=()=>{if(e.isLeaf){if(!K.value&&h.value)return;L(),$(e.parentKey)&&S([])}else a.strategy==="off"&&L(),a.expandTrigger==="click"&&g(t)},X=F=>{F.stopPropagation(),L()},J=()=>{i(t),!e.isLeaf&&a.expandTrigger==="hover"&&g(t)};return()=>{const{rawData:F,label:R}=e,{multiple:V}=a,T=E.value,O=K.value,H=`${l.value}-option`,G=a.searchValue,j=G?R:F[c.value],Q=!(T||O)&&A.value||j,Y=a.customAdditional?a.customAdditional({data:F,index:e.index}):void 0;return C("div",W({class:M.value,title:Q,onClick:T?void 0:N,onMouseenter:T?void 0:J,"aria-label":R,"aria-selected":O},Y),[V&&C(He,{checked:O,disabled:T||!O&&h.value,indeterminate:D.value,onClick:X},null),C("span",{key:"__label",class:`${H}-label`},[ut(n.optionLabel,j,F,G,H)]),!e.isLeaf&&C("span",{key:"__expand-icon",class:`${H}-expand-icon`},[ze(n.expandIcon,b.value?"loading":o.value,{key:t,expanded:I.value,data:F})])])}}});function ut(e,t,a,n,l){if(e)return e({label:t,data:a,searchValue:n});if(t&&n){const o=t.toUpperCase().indexOf(n.toUpperCase());if(o>-1){const r=o+n.length,c=t.substring(0,o),d=t.substring(r),i=C("span",{class:`${l}-label-highlight`},[t.substring(o,r)]);return[c,i,d]}}return t}const se=q({props:{dataSource:{type:Array,required:!0}},setup(e){const{props:t,slots:a,mergedPrefixCls:n}=te(oe),l=f(()=>{const o=`${n.value}-option-group`;return ae({[o]:!0,[`${o}-empty`]:e.dataSource.length===0})});return()=>{const{dataSource:o}=e;let r;if(o.length>0){const{_virtualScrollHeight:c,virtualItemHeight:d,virtual:i}=t;r=C(ke,{dataSource:o,getKey:"key",height:c,itemHeight:d,itemRender:({item:S,index:x})=>C(st,W({index:x},S),null),virtual:i},null)}else r=C(Ue,{empty:t.empty},a);return C("div",{class:l.value},[r])}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ue(e){const{colorPrimaryText:t,fontSizeSm:a,heightMd:n,marginSizeSm:l,paddingSizeXs:o,paddingSizeSm:r,paddingSizeMd:c}=e;return{optionFontSize:a,optionHeight:n,optionPadding:`${r}px ${c}px`,optionLabelHighlightColor:t,optionGroupMinWidth:120,optionGroupMinHeight:180,optionLabelMarginLeft:l,optionContainerPadding:`${o}px 0`,overlaySearchWrapperPadding:`${o}px ${c}px ${r}px`}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const Ce=(e,t)=>ue(e);/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function dt(e){const[t,a]=de(void 0),n=f(()=>{const l=t.value;return l!==void 0?e.value.get(l):void 0});return{activeKey:t,activeData:n,setActiveKey:a}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function it(e,t,a,n,l,o,r,c){const d=v=>{if($(v))return[];const m=r.value,g=m.get(v);return z(m,g,!1,a.value)},[i,p]=k(e,"expandedKeys",()=>d(c.value[0])),[S,x]=k(e,"loadedKeys",()=>[]),y=ve([]),h=async v=>{const{loadChildren:m}=e;if(y.value.includes(v))return;const s=r.value.get(v);if(s&&(!s.children||s.children.length===0)){if(!m||S.value.includes(v))return;y.value.push(v);const b=s.rawData,K=await m(b);y.value.splice(y.value.indexOf(v),1);const D=r.value;if(K.length){const M=n.value,L=pe(e,t.value,M,l.value,o.value,K,v,s.label);ne(D,L),s.rawData[M]=K,s.children=L;const N=[...S.value,v];x(N),w(e.onLoaded,N,b)}else return}const I=i.value.indexOf(v)>=0;if(!I){const b=r.value,K=z(b,b.get(v),!1,a.value);K.push(v),A(K,!I,s.rawData)}},A=(v,m,g)=>{p(v);const{onExpand:s,onExpandedChange:E}=e;w(s,m,g),ot(r,v,E)};return{expandedKeys:i,setExpandedKeys:p,handleExpand:h,loadingKeys:y}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function yt(e,t,a,n){return f(()=>{if(!n.value)return ee;const l=new Set,o=t.value,r=e.value,c=a.value;return o.forEach(d=>{let i=r.get(d);for(;i&&!$(i.parentKey);){const p=i.parentKey,S=r.get(p);S&&!c(S.rawData)&&!o.includes(p)&&l.add(p),i=S}}),[...l]})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ft(e,t,a,n,l){const o=vt(e,n),r=f(()=>e.multiple||e.strategy==="off"),c=f(()=>{const i=e.searchValue,p=o.value;if(!i||!p)return ee;const S=r.value,x=l.value,y=new Set;return t.value.forEach(h=>Ae(y,h,p,i,S,x)),[...y]});return{searchedData:f(()=>{const i=a.value;return c.value.map(p=>i.get(p)).filter(Boolean)})}}function vt(e,t){return f(()=>{const a=e.searchFn;return et(a)?a:a?ht(t.value):!1})}function ht(e){return(t,a)=>{const n=t[e];return n?n.toLowerCase().includes(a.toLowerCase()):!1}}function Ae(e,t,a,n,l,o){const{key:r,rawData:c}=t;e.has(r)||o(c)||(a(c,n)?((l||t.isLeaf)&&e.add(r),Ee(e,t,l,o)):t.children&&t.children.forEach(d=>Ae(e,d,a,n,l,o)))}function Ee(e,t,a,n){!t||!t.children||t.children.forEach(l=>{e.has(l.key)||n(l.rawData)||((a||l.isLeaf)&&e.add(l.key),Ee(e,l,a,n))})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function gt(e,t){const a=U("locale"),n=f(()=>e.value.length>=t.value),l=f(()=>n.value?a.select.limitMessage.replace("${0}",`${t.value}`):"");return{selectedLimit:n,selectedLimitTitle:l}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const mt={selectedKeys:{type:null,default:void 0},expandedKeys:{type:Array,default:void 0},loadedKeys:{type:Array,default:void 0},childrenKey:{type:String,default:void 0},customAdditional:{type:Function,default:void 0},dataSource:{type:Array,default:()=>[]},disableData:{type:Function},empty:{type:[String,Object],default:"simple"},expandIcon:{type:String,default:void 0},expandTrigger:{type:String,default:"click"},fullPath:{type:Boolean,default:void 0},getKey:{type:[String,Function],default:void 0},labelKey:{type:String,default:void 0},loadChildren:{type:Function,default:void 0},maxLabel:{type:[Number,String],default:Number.MAX_SAFE_INTEGER},multiple:{type:Boolean,default:!1},multipleLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},searchable:{type:[Boolean,String],default:!1},searchFn:{type:[Boolean,Function],default:!0},searchValue:String,separator:{type:String,default:"/"},strategy:{type:String,default:"all"},virtual:{type:Boolean,default:!1},virtualItemHeight:{type:Number,default:32},"onUpdate:selectedKeys":[Function,Array],"onUpdate:expandedKeys":[Function,Array],"onUpdate:loadedKeys":[Function,Array],onExpand:[Function,Array],onExpandedChange:[Function,Array],onLoaded:[Function,Array],onSelect:[Function,Array],_virtualScrollHeight:{type:Number,default:256}},pt={control:{type:[String,Number,Object,Array],default:void 0},value:{type:null,default:void 0},expandedKeys:{type:Array,default:void 0},loadedKeys:{type:Array,default:void 0},open:{type:Boolean,default:void 0},autocomplete:{type:String,default:"off"},autofocus:{type:Boolean,default:!1},borderless:{type:Boolean,default:void 0},childrenKey:{type:String,default:void 0},clearable:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},customAdditional:{type:Function,default:void 0},dataSource:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},disableData:{type:Function},empty:{type:[String,Object],default:"simple"},expandIcon:{type:String,default:void 0},expandTrigger:{type:String,default:"click"},fullPath:{type:Boolean,default:void 0},getKey:{type:[String,Function],default:void 0},labelKey:{type:String,default:void 0},loadChildren:{type:Function,default:void 0},maxLabel:{type:[Number,String],default:Number.MAX_SAFE_INTEGER},multiple:{type:Boolean,default:!1},multipleLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},overlayClassName:{type:String,default:void 0},overlayContainer:{type:[String,HTMLElement,Function],default:void 0},overlayMatchWidth:{type:Boolean,default:void 0},overlayRender:{type:Function,default:void 0},placeholder:{type:String,default:void 0},readonly:{type:Boolean,default:!1},searchable:{type:[Boolean,String],default:!1},searchFn:{type:[Boolean,Function],default:!0},searchPlaceholder:{type:String,default:void 0},separator:{type:String,default:"/"},size:{type:String,default:void 0},status:String,strategy:{type:String,default:"all"},suffix:{type:String,default:void 0},virtual:{type:Boolean,default:!1},virtualItemHeight:{type:Number,default:void 0},"onUpdate:value":[Function,Array],"onUpdate:expandedKeys":[Function,Array],"onUpdate:loadedKeys":[Function,Array],"onUpdate:open":[Function,Array],onChange:[Function,Array],onClear:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onExpand:[Function,Array],onExpandedChange:[Function,Array],onLoaded:[Function,Array],onSearch:[Function,Array]},Fe=q({props:mt,setup(e,{slots:t}){const a=U("common"),{globalHashId:n,hashId:l,registerToken:o}=ie("cascader");o(Ce);const r=U("cascader"),c=f(()=>`${a.prefixCls}-cascader`),d=St(e,r),{mergedData:i,mergedDataMap:p,expandedKeys:S,searchedData:x}=d,y=Symbol(),h=f(()=>{const A=[{key:y,dataSource:i.value}],v=p.value;return S.value.forEach(m=>{const g=v.get(m);g&&g.children&&A.push({key:m,dataSource:g.children})}),A});return he(oe,{...d,props:e,config:r,slots:t,mergedPrefixCls:c}),()=>C("div",{class:[`${c.value}-panel`,n.value,l.value]},[e.searchValue?C(se,{dataSource:x.value},null):h.value.map(A=>C(se,A,null))])}});function St(e,t){let a=te(be,null);const n=f(()=>{var s;return(s=e.childrenKey)!=null?s:t.childrenKey}),l=f(()=>{var s;return(s=e.expandIcon)!=null?s:t.expandIcon}),o=f(()=>{var s;return(s=e.fullPath)!=null?s:t.fullPath}),r=ye(e,t),c=ge(e),d=f(()=>{var s;return(s=e.labelKey)!=null?s:t.labelKey});if(!a){const[s,E]=k(e,"selectedKeys"),I=me(e,r,n,d,o),{mergedDataMap:b}=I,K=Ke(b,o,c,_(e,"multiple"),_(e,"strategy"),s,E);a={...I,...K}}const{resolvedSelectedKeys:i,selectedWithStrategyKeys:p,strategyEnabled:S,mergedDataMap:x,mergedData:y}=a,h=gt(i,_(e,"multipleLimit")),A=it(e,r,c,n,d,o,x,i),v=yt(x,p,c,S),m=ft(e,y,x,d,c);return{...dt(x),...a,...A,...h,...m,mergedChildrenKey:n,mergedExpandIcon:l,mergedFullPath:o,mergedGetKey:r,mergedGetDisabled:c,mergedLabelKey:d,indeterminateKeys:v}}const Kt=[0,4],xt=q({name:"IxCascader",inheritAttrs:!1,props:pt,setup(e,{attrs:t,expose:a,slots:n}){const l=U("common"),{globalHashId:o,hashId:r,registerToken:c}=ie("cascader");c(Ce);const d=U("cascader"),i=f(()=>`${l.prefixCls}-cascader`),p=f(()=>{var u;return(u=e.childrenKey)!=null?u:d.childrenKey}),S=f(()=>{var u;return(u=e.clearIcon)!=null?u:d.clearIcon}),x=f(()=>{var u;return(u=e.fullPath)!=null?u:d.fullPath}),y=ye(e,d),h=ge(e),A=f(()=>{var u;return(u=e.labelKey)!=null?u:d.labelKey}),v=ve(),[m,g]=de(""),s=()=>{var u;return(u=v.value)==null?void 0:u.focus()},E=()=>{var u;return(u=v.value)==null?void 0:u.blur()},I=()=>{var u;e.searchable==="overlay"?g(""):(u=v.value)==null||u.clearInput()};a({focus:s,blur:E});const{overlayRef:b,updateOverlay:K,overlayOpened:D,setOverlayOpened:M}=Ge(e,d,v),{accessor:L,control:N}=je();We(N);const X=qe(e,d),J=Xe(e,N),F=me(e,y,p,A,x),{mergedDataMap:R}=F,V=Ke(R,x,h,_(e,"multiple"),_(e,"strategy"),_(L,"value"),u=>{const P=fe(L.value);L.setValue(u),w(e.onChange,u,P)}),{resolvedSelectedKeys:T,setValue:O}=V,H=lt(T,R);tt(D,u=>{u&&s(),I()});const G=()=>{e.searchable!=="overlay"&&setTimeout(s)},j=u=>{w(e.onFocus,u)},Q=u=>{L.markAsBlurred(),M(!1),w(e.onBlur,u)},{focused:Y,handleFocus:Ie,handleBlur:Le,bindOverlayMonitor:Pe}=Je(j,Q);at(()=>{Pe(b,D)});const we=u=>{s(),V.handleSelect(u)},Me=u=>{O([]),w(e.onClear,u)};he(be,{...F,...V});const $e=f(()=>{const{overlayClassName:u,multiple:P}=e,B=i.value;return ae({[o.value]:!!o.value,[r.value]:!!r.value,[`${B}-overlay`]:!0,[`${B}-overlay-multiple`]:P,[u||""]:!!u})}),De=()=>C(Ye,W({ref:v,className:i.value,allowInput:!1,autocomplete:e.autocomplete,autofocus:e.autofocus,borderless:e.borderless,clearable:e.clearable,clearIcon:S.value,config:d,dataSource:H.value,disabled:L.disabled,focused:Y.value,maxLabel:e.maxLabel,multiple:e.multiple,opened:D.value,placeholder:e.placeholder,readonly:e.readonly,searchable:e.searchable,size:X.value,status:J.value,suffix:e.suffix,value:T.value,onFocus:Ie,onBlur:Le,onClear:Me,onInputValueChange:g,onItemRemove:we,onOpenedChange:M,onResize:K,onSearch:e.onSearch},t),n),Ne=nt(e,m,M),Te=u=>{const{value:P}=u.target;g(P),e.searchable&&w(e.onSearch,P)},Be=()=>{g(""),e.searchable&&w(e.onSearch,"")},Oe=()=>{const{searchable:u,overlayRender:P,searchPlaceholder:B}=e,re=m.value,ce=i.value,_e={empty:n.empty,optionLabel:n.optionLabel},Z=[C("div",{key:"__content",class:`${ce}-overlay-content`},[C(Fe,Ne.value,_e)])];return u==="overlay"&&Z.unshift(C("div",{key:"__search-wrapper",class:`${ce}-overlay-search-wrapper`},[C(Ze,{clearable:!0,clearIcon:S.value,clearVisible:!!re,size:"sm",suffix:"search",value:re,placeholder:B,onClear:Be,onInput:Te},null)])),C("div",{tabindex:-1,onMousedown:G},[P?P(Z):Z])};return()=>{var B;const u={class:$e.value,clickOutside:!1,container:(B=e.overlayContainer)!=null?B:d.overlayContainer,containerFallback:`.${i.value}-overlay-container`,disabled:L.disabled||e.readonly,offset:Kt,placement:"bottomStart",transitionName:`${l.prefixCls}-slide-auto`,trigger:"manual",triggerId:t.id,visible:D.value,"onUpdate:visible":M},P={default:De,content:Oe};return C(Qe,W({ref:b},u),P)}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const At=xt,Et=Fe;export{At as I,Et as a};
