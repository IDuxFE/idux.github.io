import{I as ln,a as mn}from"./index-9e512519.js";import{_ as U,I as En,u as fn}from"./GlobalCodeBox-ed8da83e.js";import{c as q,bW as Tn,q as j,s as Bn,y as X,m as v,z as B,r as b,v as i,a7 as un,f as Mn,U as Ln,p as Un,N as Pn,d as zn,k as jn,t as On,X as Vn,i as In,w as pn,E as Hn,ay as m,aI as A,aA as r,aE as t,aJ as D,az as F,aD as w,aC as n,F as z,aQ as Wn,aR as Gn,aH as $n,u as Xn,aF as dn,a8 as W,a9 as G,aP as nn,aO as Kn,aB as Jn}from"./vendor-3727443b.js";import{aW as Qn,T as J,m as T,t as K,ae as gn,av as Yn,ar as Zn,U as nt,c as S,a as I,_ as E,k as tt}from"./index-c7545625.js";import{I as An}from"./index-6f188949.js";import{a as st}from"./index-0256c692.js";import{I as at}from"./index-70dc031e.js";import{a as et,I as ot}from"./index-0f4e6624.js";import"./__commonjsHelpers__-725317a4.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ct(s,a={}){return{key:Qn(),name:s.name,raw:s,percent:0,...a}}function V(s,a){const o=s.key!==void 0?"key":"name";return a.find(e=>e[o]===s[o])}function Z(s,a){const o=s.key!==void 0?"key":"name";return a.findIndex(e=>e[o]===s[o])}function pt(s){return!!s.type&&s.type.startsWith("image/")}function lt(s,a){if(!a||a.length===0)return[s,[]];const o=(p,c)=>{const l=`.${p.name.split(".").pop()}`.toLowerCase(),k=p.type.replace(/\/.*$/,"").toLowerCase(),d=c.toLowerCase();return d.startsWith(".")?l===d:/\/\*$/.test(d)?k===d.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(d)?p.type.toLowerCase()===d:!1},e=[],u=[];return s.forEach(p=>{a.some(c=>o(p,c))?e.push(p):u.push(p)}),[e,u]}function ut(s,a,o){if(!o)return[s,[]];if(o===1)return[s.slice(0,1),s.slice(1)];const e=o-a;return e<=0?[[],s]:e>=s.length?[s,[]]:[s.slice(0,e),s.slice(e)]}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Q(){const s=J("common");return q(()=>`${s.prefixCls}-upload`)}function hn(s,a){const o=Q();return q(()=>j([`${o.value}-list`,`${o.value}-list-${a}`,{[`${o.value}-list-disabled`]:s.disabled}]))}function Fn(s){const a=J("uploadFiles");return q(()=>{var o;return(o=s.icon)!=null?o:a.icon})}function qn(s,a){const o=q(()=>s.dragable||(Tn(a)?a.value!=="imageCard":a!=="imageCard")),e=q(()=>!o.value);return[o,e]}function Rn(){const s=Bn([]);return{revokeList:s,getThumbNode:e=>(!e.thumbUrl&&e.raw&&pt(e.raw)&&(e.thumbUrl=window.URL.createObjectURL(e.raw),s.value.push(()=>{window.URL.revokeObjectURL(e.thumbUrl),Reflect.deleteProperty(e,"thumbUrl")})),e.thumbUrl?X("img",{src:e.thumbUrl,alt:e.name,style:{height:"100%",width:"100%"}}):null),revokeAll:()=>{s.value.forEach(e=>e()),s.value=[]}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const Y=Symbol("UploadToken"),Sn=v({name:"IxUploadSelector",setup(s,{slots:a}){const{props:o,selectFiles:e,onDrop:u,onDragOver:p,onDragLeave:c,isDraggingOver:l}=B(Y),k=Q(),d=J("upload"),f=rt(o,d),h=kt(o,d),_=dt(o,d),y=b(null),g=q(()=>`${k.value}-input`),x=it(o,k,_,l),C=()=>{o.disabled||!y.value||(y.value.value="",y.value.click())},L=()=>{var N,M;const P=Array.prototype.slice.call((M=(N=y.value)==null?void 0:N.files)!=null?M:[]);e(P)};return()=>{var P;return i("div",{class:x.value,onClick:C,onDragover:p,onDrop:u,onDragleave:c},[i("input",un(f.value,{class:g.value,type:"file",ref:y,accept:o.accept,multiple:h.value,onClick:N=>N.stopPropagation(),onChange:L}),null),(P=a.default)==null?void 0:P.call(a)])}}});function it(s,a,o,e){return q(()=>j({[`${a.value}-selector`]:!0,[`${a.value}-selector-drag`]:o.value,[`${a.value}-selector-disabled`]:s.disabled,[`${a.value}-selector-dragover`]:e.value}))}function rt(s,a){const o={directory:"directory",webkitdirectory:"webkitdirectory"};return q(()=>{var e;return((e=s.directory)!=null?e:a.directory)?o:{}})}function kt(s,a){return q(()=>{var o;return(o=s.multiple)!=null?o:a.multiple})}function dt(s,a){return q(()=>{var o;return(o=s.dragable)!=null?o:a.dragable})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function yn(s,a){const{fileList:o,props:e,abort:u,upload:p,setViewerVisible:c,updateFiles:l}=a,k=y=>{u(y)};return{abort:k,retry:y=>{e.disabled||(p(y),T(s.onRetry,y))},download:y=>{e.disabled||T(s.onDownload,y)},preview:y=>{if(!e.disabled){if(!s.onPreview&&y.thumbUrl){c(!0,y.thumbUrl);return}T(s.onPreview,y)}},remove:async y=>{if(e.disabled)return;const g=V(y,o.value);if(!g)return;const x=T(s.onRemove,g);if(x===!1||x instanceof Promise&&await x===!1)return;g.status==="uploading"&&k(g);const C=[...o.value];C.splice(Z(g,o.value),1),l(C,!0)}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const mt={files:{type:Array,default:()=>[]},accept:String,action:{type:[String,Function],default:void 0},dragable:{type:Boolean,default:void 0},directory:{type:Boolean,default:void 0},disabled:{type:Boolean,default:void 0},maxCount:Number,multiple:{type:Boolean,default:void 0},progress:Object,name:String,customRequest:Function,withCredentials:{type:Boolean,default:void 0},requestData:[Object,Function],requestHeaders:Object,requestMethod:String,"onUpdate:files":[Function,Array],onSelect:[Function,Array],onMaxCountExceeded:[Function,Array],onBeforeUpload:[Function,Array],onFileStatusChange:[Function,Array],onRequestChange:[Function,Array]},rn={type:String,icon:Object,onDownload:[Function,Array],onPreview:[Function,Array],onRemove:[Function,Array],onRetry:[Function,Array]};/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ft(s){return s?Mn(s)?X(K,{name:s}):s:null}function H(s,a){return s?X("span",a,[ft(s)]):null}function _n(s,a,o,e,u){const p=H(a.value.preview,{class:`${o.value}-icon-opr ${o.value}-icon-preview`,onClick:()=>e.preview(s),title:u.upload.preview}),c=H(a.value.retry,{class:`${o.value}-icon-opr ${o.value}-icon-retry`,onClick:()=>e.retry(s),title:u.upload.retry}),l=H(a.value.download,{class:`${o.value}-icon-opr ${o.value}-icon-download`,onClick:()=>e.download(s),title:u.upload.download}),k=H(a.value.remove,{class:`${o.value}-icon-opr ${o.value}-icon-remove`,onClick:()=>e.remove(s),title:u.upload.remove});return{previewNode:p,retryNode:c,downloadNode:l,removeNode:k}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function vn(s,a){return s==="uploading"&&Ln(a)}function Cn(s,a){return s==="error"&&!!a}function Dn(s){return s==="error"}function xn(s){return s==="success"}function wn(s){return s==="success"}const gt=v({name:"IxUploadImageCardList",props:rn,setup(s){const a=B(Y),{props:o,locale:e,fileList:u}=a,p=Fn(s),c=Q(),l=hn(o,"imageCard"),[,k]=qn(o,"imageCard"),d=_t(o,u,k),{getThumbNode:f,revokeAll:h}=Rn(),_=yn(s,a),y=Ft(c);return Un(h),()=>i("ul",{class:l.value},[d.value&&y,u.value.map(g=>At(o,g,p,c,_,e,f))])}});function At(s,a,o,e,u,p,c){const l=j({[`${e.value}-file`]:!0,[`${e.value}-file-${a.status}`]:!!a.status}),k=ht(s,a,p,e),d=c(a),{retryNode:f,downloadNode:h,removeNode:_,previewNode:y}=_n(a,o,e,u,p);return i(gn,{title:Cn(a.status,a.errorTip)?a.errorTip:""},{default:()=>[i("li",{class:l},[yt(a.status)?k:d,i("div",{class:`${e.value}-icon`},[wn(a.status)&&y,Dn(a.status)&&f,xn(a.status)&&h,_])])]})}function ht(s,a,o,e){var c;const u={error:o.upload.error,uploading:o.upload.uploading},p=a.status&&u[a.status];return i("div",{class:`${e.value}-status`},[p&&i("div",{class:`${e.value}-status-title`},[p]),vn(a.status,a.percent)&&i(An,un({class:`${e.value}-progress`,strokeColor:"#20CC94",percent:a.percent,strokeWidth:3,"hide-info":!0},(c=s.progress)!=null?c:{}),null)])}function Ft(s){return i(Sn,{class:`${s.value}-selector`},{default:()=>[i(K,{name:"plus"},null)]})}function yt(s){return s&&["uploading","error"].includes(s)}function _t(s,a,o){return q(()=>(!s.maxCount||a.value.length<s.maxCount)&&o.value)}const vt=v({name:"IxUploadImageList",props:rn,setup(s){const a=B(Y),{props:o,locale:e,fileList:u}=a,p=Fn(s),c=Q(),l=hn(o,"image"),{getThumbNode:k,revokeAll:d}=Rn(),f=yn(s,a);return Un(d),()=>u.value.length>0&&i("ul",{class:l.value},[u.value.map(h=>Ct(o,h,p,c,f,e,k))])}});function Ct(s,a,o,e,u,p,c){var y;const l=j({[`${e.value}-file`]:!0,[`${e.value}-file-${a.status}`]:!!a.status}),k=j([`${e.value}-name`,`${e.value}-name-pointer`]),d=H("exclamation-circle",{class:`${e.value}-icon-error`}),{retryNode:f,downloadNode:h,removeNode:_}=_n(a,o,e,u,p);return i("li",{class:l},[i("div",{class:`${e.value}-thumb-info`},[i("span",{class:`${e.value}-thumb`},[c(a)]),i("span",{class:k,onClick:()=>wn(a.status)&&u.preview(a),title:a.name},[a.name])]),i("div",{class:`${e.value}-icon-wrap`},[Cn(a.status,a.errorTip)&&i(gn,{title:a.errorTip},{default:()=>[d]}),Dn(a.status)&&f,xn(a.status)&&h,_]),vn(a.status,a.percent)&&i(An,un({class:`${e.value}-progress`,percent:a.percent,strokeColor:"#20CC94",strokeWidth:2,"hide-info":!0},(y=s.progress)!=null?y:{}),null)])}const Dt=v({name:"IxUploadTextList",props:rn,setup(s){const a=B(Y),{props:o,locale:e,fileList:u}=a,p=Fn(s),c=Q(),l=hn(o,"text"),k=yn(s,a);return()=>u.value.length>0&&i("ul",{class:l.value},[u.value.map(d=>xt(o,d,p,c,k,e))])}});function xt(s,a,o,e,u,p){var _;const c=j({[`${e.value}-file`]:!0,[`${e.value}-file-${a.status}`]:!!a.status}),l=j([`${e.value}-name`,`${e.value}-name-pointer`]),k=H("exclamation-circle",{class:`${e.value}-icon-error`}),{retryNode:d,downloadNode:f,removeNode:h}=_n(a,o,e,u,p);return i("li",{class:c},[i("span",{class:`${e.value}-text-info`},[H(o.value.file,{class:`${e.value}-icon-file`}),i("span",{class:l,onClick:()=>wn(a.status)&&u.preview(a),title:a.name},[a.name])]),i("span",{class:`${e.value}-icon-wrap`},[Cn(a.status,a.errorTip)&&i(gn,{title:a.errorTip},{default:()=>[k]}),Dn(a.status)&&d,xn(a.status)&&f,h]),vn(a.status,a.percent)&&i(An,un({class:`${e.value}-progress`,percent:a.percent,strokeColor:"#20CC94",strokeWidth:2,"hide-info":!0},(_=s.progress)!=null?_:{}),null)])}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const wt={text:Dt,image:vt,imageCard:gt},bt=v({name:"IxUploadFiles",props:rn,setup(s){const a=J("uploadFiles"),o=Et(s,a),{props:e,setSelectorVisible:u}=B(Y),[p]=qn(e,o);return Pn(()=>u(p.value)),()=>X(wt[o.value],{...s})}});function Et(s,a){return q(()=>{var o;return(o=s.type)!=null?o:a.type})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Bt(s,a){const o=b(!1),e=q(()=>!!s.dragable&&!s.disabled);function u(l){var k,d;l.preventDefault(),e.value&&(o.value=!1,a(Array.prototype.slice.call((d=(k=l.dataTransfer)==null?void 0:k.files)!=null?d:[])))}function p(l){l.preventDefault(),e.value&&(o.value=!0)}function c(l){l.preventDefault(),e.value&&(o.value=!1)}return{allowDrag:e,isDraggingOver:o,onDrop:u,onDragOver:p,onDragLeave:c}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ut(s,a){const{fileList:o,updateFiles:e}=a,u=q(()=>{var k;return(k=s.accept)==null?void 0:k.split(",").map(d=>d.trim()).filter(Boolean)}),p=q(()=>{var k;return(k=s.maxCount)!=null?k:0}),c=k=>{const[d,f]=lt(k,u.value),[h,_]=ut(d,o.value.length,p.value),y=[...f.map(g=>({file:g,reason:"acceptNotMatch"})),..._.map(g=>({file:g,reason:"maxCountExceeded"}))];return[h,y]};return async k=>{const[d,f]=c(k),h=s.onSelect&&await T(s.onSelect,d,f),y=(zn(h)||h===!0?d:h===!1?[]:jn(h)?h:[]).map(g=>ct(g,{status:"selected"}));(f.filter(g=>g.reason==="maxCountExceeded").length>0||s.maxCount===1&&o.value.length>0)&&T(s.onMaxCountExceeded),s.maxCount===1?e(y,!0):e(y)}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function It(s){const[a,o]=Yn(s,"files");return{fileList:a,updateFiles:(u,p=!1)=>{const c=p?u:[...a.value],l=[];u.forEach(k=>{const d=Z(k,a.value),f=a.value[d];d>-1&&!f||((f==null?void 0:f.status)!==k.status&&l.push(k),!p&&(d===-1?c.push(k):c.splice(d,1,k)))}),o(On(c)),l.forEach(k=>{T(s.onFileStatusChange,k)})}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 *//**
 * @license
 * clone from https://github.com/react-component/upload/blob/master/src/request.ts
 */function $t(s,a){var e;const o=new Map([]).set((u,p)=>!!p.response,`${((e=a.response)==null?void 0:e.error)||a.response}`).set((u,p)=>!!p.responseText,`${a.responseText}`).set(u=>!u.action,"action not found.").set(()=>!0,`fail to ${s.requestMethod} ${s.action} ${a.status}`);for(const[u,p]of o)if(u(s,a))return p;return""}function kn(s,a){const o=$t(s,a),e=new Error(o);return e.status=a.status,e.method=s.requestMethod,e.url=s.action,e}function qt(s){const a=s.responseText||s.response;if(!a)return a;try{return JSON.parse(a)}catch{return a}}function Rt(s){var u;const a=new XMLHttpRequest;s.onProgress&&a.upload&&(a.upload.onprogress=function(c){c.total>0&&(c.percent=c.loaded/c.total*100),s.onProgress(c)});const o=new FormData;if(s.requestData&&Object.keys(s.requestData).forEach(p=>{const c=s.requestData[p];if(Array.isArray(c)){c.forEach(l=>{o.append(`${p}[]`,l)});return}o.append(p,c)}),o.append(s.name,s.file,s.file.name),a.onerror=function(){var c;(c=s.onError)==null||c.call(s,kn(s,a))},a.onload=function(){var c,l;return a.status<200||a.status>=300?(c=s.onError)==null?void 0:c.call(s,kn(s,a)):(l=s.onSuccess)==null?void 0:l.call(s,qt(a))},!s.action)return(u=s.onError)==null||u.call(s,kn(s,a)),null;a.open(s.requestMethod,s.action,!0),s.withCredentials&&"withCredentials"in a&&(a.withCredentials=!0);const e=s.requestHeaders||{};return e["X-Requested-With"]!==null&&a.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(e).forEach(p=>{e[p]!==null&&a.setRequestHeader(p,e[p])}),a.send(o),{abort(){a.abort()}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function St(s,a){const o=b([]),e=new Map([]),u=J("upload"),{fileList:p,updateFiles:c}=a,l=(g,x)=>{c([{...g,status:x}])};function k(g){var C;(C=e.get(g.key))==null||C(),s.onRequestChange&&T(s.onRequestChange,{status:"abort",file:{...g}}),o.value.splice(Z(g,o.value),1),e.delete(g.key);const x=V(g,p.value);x&&l(x,"abort")}async function d(g){if(Vn(s.onBeforeUpload)){await f(g);return}const x=T(s.onBeforeUpload,g);if(x instanceof Promise)try{const C=await x;if(C===!0){await f(g);return}typeof C=="object"&&C&&await f(C)}catch{l(g,"error")}else x===!0?await f(g):typeof x=="object"?await f(x):l(g,"cancel")}async function f(g){var M,tn,sn,an,en,on,cn;g.raw||(g.error=new Error("file error"),l(g,"error"));const x=await Nt(s,g),C=await Tt(s,g),L={file:g.raw,name:(M=s.name)!=null?M:u.name,withCredentials:(tn=s.withCredentials)!=null?tn:u.withCredentials,action:x,requestHeaders:(sn=s.requestHeaders)!=null?sn:{},requestMethod:(an=s.requestMethod)!=null?an:u.requestMethod,requestData:C,onProgress:O=>h(O,g),onError:O=>_(O,g),onSuccess:O=>y(O,g)},P=(on=(en=s.customRequest)!=null?en:u.customRequest)!=null?on:Rt;s.onRequestChange&&T(s.onRequestChange,{status:"loadstart",file:{...g}}),l(g,"uploading"),g.percent=0;const N=await P(L);e.set(g.key,(cn=N==null?void 0:N.abort)!=null?cn:()=>{}),o.value.push(g)}function h(g,x){var L;const C=V(x,p.value);C&&(C.percent=(L=g.percent)!=null?L:0,s.onRequestChange&&T(s.onRequestChange,{status:"progress",file:{...C},event:g}))}function _(g,x){const C=V(x,p.value);C&&(o.value.splice(Z(C,o.value),1),C.error=g,s.onRequestChange&&T(s.onRequestChange,{file:{...C},status:"error",error:g}),l(C,"error"))}function y(g,x){const C=V(x,p.value);C&&(C.response=g,s.onRequestChange&&T(s.onRequestChange,{status:"loadend",file:{...C},response:g}),l(C,"success"),o.value.splice(Z(C,o.value),1))}return{fileUploading:o,abort:k,startUpload:d,upload:f}}async function Nt(s,a){return In(s.action)?await s.action(a):s.action}async function Tt(s,a){var o;return In(s.requestData)?await s.requestData(a):(o=s.requestData)!=null?o:{}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Mt(s,a){const{startUpload:o,abort:e}=a,[u,p]=Zn([...s.value]);pn(s,c=>{p([...c])},{deep:!0}),pn([u,()=>u.value.length],([c,l],[k,d])=>{l===d&&l!==1&&d!==1||(c.forEach(f=>{!V(f,k)&&f.status==="selected"&&o(f)}),k.forEach(f=>{!V(f,c)&&f.status==="uploading"&&e(f)}))})}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function bn(s){const{controlLineWidth:a,colorBorder:o,colorPrimaryBorder:e}=s;return{selectorDragableBorder:`${a}px dashed ${o}`,selectorDragableBorderDragover:`${a}px dashed ${e}`,listNameMaxWidth:"calc(100% - 74px)",listImgThumbWidth:48,listImgThumbHeight:48,listImgCardHeight:96,listImgCardWidth:96}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const Lt=(s,a)=>bn(s),Pt=v({name:"IxUpload",props:mt,setup(s,{slots:a}){const{globalHashId:o,hashId:e,registerToken:u}=nt("upload");u(Lt);const p=J("locale"),c=Q(),[l,k]=zt(),d=It(s),f=Ut(s,d),h=Bt(s,f),_=St(s,d),{abort:y,upload:g}=_,{viewerVisible:x,images:C,setViewerVisible:L}=jt();return Mt(d.fileList,_),Hn(Y,{props:s,locale:p,selectFiles:f,setViewerVisible:L,setSelectorVisible:k,..._,...d,...h}),()=>{var P,N;return i("div",{class:[c.value,o.value,e.value]},[l.value&&i(Sn,null,{default:()=>{var M;return[(M=a.default)==null?void 0:M.call(a)]}}),(P=a.list)==null?void 0:P.call(a,{abort:y,upload:g}),i(st,{visible:x.value,"onUpdate:visible":M=>x.value=M,images:C.value},null),i("div",{class:`${c.value}-tip`},[(N=a.tip)==null?void 0:N.call(a)])])}}});function zt(){const s=b(!0);function a(o){s.value=o}return[s,a]}function jt(){const s=b(!1),a=Bn([]);function o(e,u){a.value=e&&u?[u]:[],s.value=e}return{viewerVisible:s,images:a,setViewerVisible:o}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const $=Pt,R=bt,Ot=v({__name:"Basic",setup(s){const a=b([]);return(o,e)=>{const u=S,p=R,c=$;return m(),A(c,{files:a.value,"onUpdate:files":e[0]||(e[0]=l=>a.value=l),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"},{list:r(()=>[i(p,{type:"text"})]),default:r(()=>[i(u,null,{default:r(()=>[t("Upload")]),_:1})]),_:1},8,["files"])}}}),Vt=v({name:"Basic",components:{"raw-demo":Ot},setup(){const{lang:s}=B(I);return{lang:s}}}),Ht={key:0},Wt={key:1},Gt=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("text"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function Xt(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"Basic",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%20v-model%3Afiles%3D%22files%22%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%3E%0A%20%20%20%20%3CIxButton%3EUpload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22text%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aconst%20files%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"基本使用":"Basic usage"},{description:r(()=>[s.lang==="zh"?(m(),F("p",Ht,"最简单的用法，点击按钮出现文件选择框")):w("",!0),s.lang==="en"?(m(),F("p",Wt,"The simplest usage, click the button and a file selection box appears.")):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[Gt]),_:1},8,["title"])}const Kt=E(Vt,[["render",Xt]]),Jt=v({__name:"Controlled",setup(s){const a=b([]);let o=0;const e=()=>{const p=new File([new Blob([Array.from(new Array(100)).map(()=>"file content").join(`
`)])],"new_File",{type:"text/plain"});a.value.push({key:`newFile-${o++}`,raw:p,name:p.name,status:"selected"})},u=()=>{a.value=[]};return(p,c)=>{const l=S,k=R,d=$;return m(),F(z,null,[i(d,{files:a.value,"onUpdate:files":c[0]||(c[0]=f=>a.value=f),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"},{list:r(()=>[i(k,{type:"text"})]),default:r(()=>[i(l,null,{default:r(()=>[t("Upload")]),_:1})]),_:1},8,["files"]),i(l,{onClick:e},{default:r(()=>[t("addFile")]),_:1}),i(l,{onClick:u},{default:r(()=>[t("clearFiles")]),_:1})],64)}}}),Qt=v({name:"Controlled",components:{"raw-demo":Jt},setup(){const{lang:s}=B(I);return{lang:s}}}),Yt={key:0},Zt=n("code",null,"files",-1),ns=n("code",null,"files",-1),ts={key:1},ss=n("code",null,"files",-1),as=n("code",null,"files",-1),es=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("text"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),t(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("addFile"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t("addFile"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),t(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("clearFiles"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t("clearFiles"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" UploadFile "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/upload'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(" ref"),n("span",{class:"token operator"},"<"),t("UploadFile"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"let"),t(" keySeed "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token number"},"0"),t(`

`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"addFile"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token keyword"},"const"),t(" newFile "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token keyword"},"new"),t(),n("span",{class:"token class-name"},"File"),n("span",{class:"token punctuation"},"("),t(`
    `),n("span",{class:"token punctuation"},"["),t(`
      `),n("span",{class:"token keyword"},"new"),t(),n("span",{class:"token class-name"},"Blob"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),t(`
        Array`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"from"),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"new"),t(),n("span",{class:"token class-name"},"Array"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"100"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),t(`
          `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"map"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token string"},"'file content'"),n("span",{class:"token punctuation"},")"),t(`
          `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"join"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'\\n'"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),t(`
      `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token string"},"'new_File'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token punctuation"},"{"),t(`
      `),n("span",{class:"token literal-property property"},"type"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'text/plain'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token punctuation"},")"),t(`

  files`),n("span",{class:"token punctuation"},"."),t("value"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token literal-property property"},"key"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"newFile-"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),t("keySeed"),n("span",{class:"token operator"},"++"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"raw"),n("span",{class:"token operator"},":"),t(" newFile"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),t(" newFile"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"status"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'selected'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"clearFiles"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  files`),n("span",{class:"token punctuation"},"."),t("value "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function os(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"Controlled",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%20v-model%3Afiles%3D%22files%22%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%3E%0A%20%20%20%20%3CIxButton%3EUpload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22text%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%20%20%3CIxButton%20%40click%3D%22addFile%22%3EaddFile%3C%2FIxButton%3E%0A%20%20%3CIxButton%20%40click%3D%22clearFiles%22%3EclearFiles%3C%2FIxButton%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20type%20%7B%20UploadFile%20%7D%20from%20'%40idux%2Fcomponents%2Fupload'%0A%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aconst%20files%20%3D%20ref%3CUploadFile%5B%5D%3E(%5B%5D)%0Alet%20keySeed%20%3D%200%0A%0Aconst%20addFile%20%3D%20()%20%3D%3E%20%7B%0A%20%20const%20newFile%20%3D%20new%20File(%0A%20%20%20%20%5B%0A%20%20%20%20%20%20new%20Blob(%5B%0A%20%20%20%20%20%20%20%20Array.from(new%20Array(100))%0A%20%20%20%20%20%20%20%20%20%20.map(()%20%3D%3E%20'file%20content')%0A%20%20%20%20%20%20%20%20%20%20.join('%5Cn')%2C%0A%20%20%20%20%20%20%5D)%2C%0A%20%20%20%20%5D%2C%0A%20%20%20%20'new_File'%2C%0A%20%20%20%20%7B%0A%20%20%20%20%20%20type%3A%20'text%2Fplain'%2C%0A%20%20%20%20%7D%2C%0A%20%20)%0A%0A%20%20files.value.push(%7B%0A%20%20%20%20key%3A%20%60newFile-%24%7BkeySeed%2B%2B%7D%60%2C%0A%20%20%20%20raw%3A%20newFile%2C%0A%20%20%20%20name%3A%20newFile.name%2C%0A%20%20%20%20status%3A%20'selected'%2C%0A%20%20%7D)%0A%7D%0Aconst%20clearFiles%20%3D%20()%20%3D%3E%20%7B%0A%20%20files.value%20%3D%20%5B%5D%0A%7D%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"受控使用":"Controlled usage"},{description:r(()=>[s.lang==="zh"?(m(),F("p",Yt,[Zt,t(" 支持受控，添加文件到 "),ns,t(" 中可自动上传文件，删除则可以自动终止上传。")])):w("",!0),s.lang==="en"?(m(),F("p",ts,[ss,t(" supports controlled usage, file is auto uploaded after added to "),as,t(", and aborts after removed.")])):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[es]),_:1},8,["title"])}const cs=E(Qt,[["render",os]]),ps=n("a",null,"Click here",-1),ls=v({__name:"ButtonDisplay",setup(s){const a=b([]);return(o,e)=>{const u=R,p=$;return m(),A(p,{files:a.value,"onUpdate:files":e[0]||(e[0]=c=>a.value=c),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"},{list:r(()=>[i(u,{type:"text"})]),default:r(()=>[ps]),_:1},8,["files"])}}}),us=v({name:"ButtonDisplay",components:{"raw-demo":ls},setup(){const{lang:s}=B(I);return{lang:s}}}),is={key:0},rs={key:1},ks=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("a")]),n("span",{class:"token punctuation"},">")]),t("Click here"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("a")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("text"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function ds(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"ButtonDisplay",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%20v-model%3Afiles%3D%22files%22%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%3E%0A%20%20%20%20%3Ca%3EClick%20here%3C%2Fa%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22text%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aconst%20files%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"展示":"Display"},{description:r(()=>[s.lang==="zh"?(m(),F("p",is,"按钮可自定义，disabled需要自行处理")):w("",!0),s.lang==="en"?(m(),F("p",rs,"Buttons can be customized, disabled need to be handled by yourself.")):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[ks]),_:1},8,["title"])}const ms=E(us,[["render",ds]]),fs=v({__name:"FilesList",setup(s){const a=b([{key:"test1",name:"idux.svg",thumbUrl:"/icons/logo.svg"},{key:"error",name:"error.png",status:"error",errorTip:"Upload failed.",thumbUrl:"/icons/comp-properties-1.png"}]);return(o,e)=>{const u=S,p=R,c=$;return m(),A(c,{files:a.value,"onUpdate:files":e[0]||(e[0]=l=>a.value=l),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"},{list:r(()=>[i(p)]),default:r(()=>[i(u,null,{default:r(()=>[t("Upload")]),_:1})]),_:1},8,["files"])}}}),gs=v({name:"FilesList",components:{"raw-demo":fs},setup(){const{lang:s}=B(I);return{lang:s}}}),As={key:0},hs=n("code",null,"files",-1),Fs=n("code",null,"UploadFile",-1),ys={key:1},_s=n("code",null,"files",-1),vs=n("code",null,"UploadFile",-1),Cs=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),t(`
  `),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token literal-property property"},"key"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'test1'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'idux.svg'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"thumbUrl"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'/icons/logo.svg'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token literal-property property"},"key"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'error'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'error.png'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"status"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'error'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"errorTip"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'Upload failed.'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"thumbUrl"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'/icons/comp-properties-1.png'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
`),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function Ds(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"FilesList",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%20v-model%3Afiles%3D%22files%22%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%3E%0A%20%20%20%20%3CIxButton%3EUpload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aconst%20files%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20key%3A%20'test1'%2C%0A%20%20%20%20name%3A%20'idux.svg'%2C%0A%20%20%20%20thumbUrl%3A%20'%2Ficons%2Flogo.svg'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'error'%2C%0A%20%20%20%20name%3A%20'error.png'%2C%0A%20%20%20%20status%3A%20'error'%2C%0A%20%20%20%20errorTip%3A%20'Upload%20failed.'%2C%0A%20%20%20%20thumbUrl%3A%20'%2Ficons%2Fcomp-properties-1.png'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"已上传的文件列表":"List of uploaded files"},{description:r(()=>[s.lang==="zh"?(m(),F("p",As,[t("使用"),hs,t("设置已上传的文件，格式参照"),Fs,t(".")])):w("",!0),s.lang==="en"?(m(),F("p",ys,[t("Use "),_s,t(" to set the uploaded file, refer to "),vs,t(" for the format.")])):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[Cs]),_:1},8,["title"])}const xs=E(gs,[["render",Ds]]),ws=v({__name:"ListDisplay",setup(s){const a=[{key:"text",label:"text"},{key:"image",label:"image"},{key:"imageCard",label:"imageCard"}],o=b("text"),e=b([{key:"default",name:"idux.svg",status:"success",thumbUrl:"/icons/logo.svg"}]);return(u,p)=>{const c=En,l=S,k=R,d=$,f=tt;return m(),A(f,{vertical:""},{default:r(()=>[i(c,{value:o.value,"onUpdate:value":p[0]||(p[0]=h=>o.value=h),dataSource:a},null,8,["value"]),i(d,{files:e.value,"onUpdate:files":p[1]||(p[1]=h=>e.value=h),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"},{list:r(()=>[i(k,{type:o.value},null,8,["type"])]),default:r(()=>[i(l,null,{default:r(()=>[t("Upload")]),_:1})]),_:1},8,["files"])]),_:1})}}}),bs=v({name:"ListDisplay",components:{"raw-demo":ws},setup(){const{lang:s}=B(I);return{lang:s}}}),Es={key:0},Bs={key:1},Us=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxSpace")]),t(),n("span",{class:"token attr-name"},"vertical"),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxRadioGroup")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("value")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("curType"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},":dataSource"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("listType"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxRadioGroup")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},":type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("curType"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxSpace")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" listType "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"["),t(`
  `),n("span",{class:"token punctuation"},"{"),t(),n("span",{class:"token literal-property property"},"key"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'text'"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token literal-property property"},"label"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'text'"),t(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token punctuation"},"{"),t(),n("span",{class:"token literal-property property"},"key"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'image'"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token literal-property property"},"label"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'image'"),t(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token punctuation"},"{"),t(),n("span",{class:"token literal-property property"},"key"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'imageCard'"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token literal-property property"},"label"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'imageCard'"),t(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
`),n("span",{class:"token punctuation"},"]"),t(`
`),n("span",{class:"token keyword"},"const"),t(" curType "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'text'"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),t(`
  `),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token literal-property property"},"key"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'default'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'idux.svg'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"status"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'success'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"thumbUrl"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'/icons/logo.svg'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
`),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function Is(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"ListDisplay",code:"%3Ctemplate%3E%0A%20%20%3CIxSpace%20vertical%3E%0A%20%20%20%20%3CIxRadioGroup%20v-model%3Avalue%3D%22curType%22%20%3AdataSource%3D%22listType%22%3E%3C%2FIxRadioGroup%3E%0A%20%20%20%20%3CIxUpload%20v-model%3Afiles%3D%22files%22%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%3E%0A%20%20%20%20%20%20%3CIxButton%3EUpload%3C%2FIxButton%3E%0A%20%20%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%20%20%3CIxUploadFiles%20%3Atype%3D%22curType%22%20%2F%3E%0A%20%20%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%20%20%3C%2FIxUpload%3E%0A%20%20%3C%2FIxSpace%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aconst%20listType%20%3D%20%5B%0A%20%20%7B%20key%3A%20'text'%2C%20label%3A%20'text'%20%7D%2C%0A%20%20%7B%20key%3A%20'image'%2C%20label%3A%20'image'%20%7D%2C%0A%20%20%7B%20key%3A%20'imageCard'%2C%20label%3A%20'imageCard'%20%7D%2C%0A%5D%0Aconst%20curType%20%3D%20ref('text')%0Aconst%20files%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20key%3A%20'default'%2C%0A%20%20%20%20name%3A%20'idux.svg'%2C%0A%20%20%20%20status%3A%20'success'%2C%0A%20%20%20%20thumbUrl%3A%20'%2Ficons%2Flogo.svg'%2C%0A%20%20%7D%2C%0A%5D)%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"文件列表展示":"File list display"},{description:r(()=>[s.lang==="zh"?(m(),F("p",Es,"文件列表展示形式，同时也支持自定义")):w("",!0),s.lang==="en"?(m(),F("p",Bs,"File list display form, but also supports customization.")):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[Us]),_:1},8,["title"])}const $s=E(bs,[["render",Is]]),qs=v({__name:"Check",setup(s){const a=b([]),{warning:o}=fn(),e=p=>new Promise(c=>{var l;Number((l=p.raw)==null?void 0:l.size)>1&&(o("Check from onBeforeUpload: The file size exceeds the limit."),p.status="error",p.errorTip="Check from onBeforeUpload: The file size exceeds the limit.",c(!1)),c(!0)}),u=p=>p.some(c=>c.name.length>6)?(o("Check from onSelect: The file size exceeds the limitFile name exceeds length."),!1):!0;return(p,c)=>{const l=S,k=R,d=$;return m(),A(d,{files:a.value,"onUpdate:files":c[0]||(c[0]=f=>a.value=f),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354",accept:".png",onSelect:u,onBeforeUpload:e},{list:r(()=>[i(k,{type:"text"})]),default:r(()=>[i(l,null,{default:r(()=>[t("Upload")]),_:1})]),_:1},8,["files"])}}}),Rs=v({name:"Check",components:{"raw-demo":qs},setup(){const{lang:s}=B(I);return{lang:s}}}),Ss={key:0},Ns=n("li",null,[t("使用"),n("code",null,"accept"),t("限制允许上传的文件类型，详见 "),n("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/input/file",target:"_blank",rel:"noopener"},"原生input accept")],-1),Ts=n("li",null,[t("使用"),n("code",null,"onSelect"),t("可以在选中文件时做校验，并是否限制加入到待上传列表"),n("ul",null,[n("li",null,[t("返回"),n("code",null,"boolean"),t("类型表示是否添加到待上传列表")]),n("li",null,"支持Promise")])],-1),Ms=n("li",null,[t("使用"),n("code",null,"onBeforeUpload"),t("可以在上传前对上传列表做校验，这是校验文件的最后时机"),n("ul",null,[n("li",null,[t("返回"),n("code",null,"boolean"),t("类型表示是否允许发送上传请求")]),n("li",null,"支持Promise")])],-1),Ls=[Ns,Ts,Ms],Ps={key:1},zs=n("li",null,[t("Use "),n("code",null,"accept"),t(" to limit the file types allowed to be uploaded, see "),n("a",{href:"https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/input/file",target:"_blank",rel:"noopener"},"Native input accept"),t(". -Use "),n("code",null,"onSelect"),t(" to check when the file is selected, and whether to restrict it to be added to the list to be uploaded. -Return the "),n("code",null,"boolean"),t(" type to indicate whether to add to the upload list. -Support Promise. -Use "),n("code",null,"onBeforeUpload"),t(" to verify the upload list before uploading. This is the last time to verify the file. -Return "),n("code",null,"boolean"),t(" type to indicate whether upload request is allowed. -Support Promise.")],-1),js=[zs],Os=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(`
    `),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"accept"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t(".png"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"@select"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onSelect"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"@beforeUpload"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onBeforeUpload"),n("span",{class:"token punctuation"},'"')]),t(`
  `),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("text"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" UploadFile "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/upload'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" useMessage "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/message'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token punctuation"},"{"),t(" warning "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"useMessage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(`

`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onBeforeUpload"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" UploadFile")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(`
  `),n("span",{class:"token keyword"},"new"),t(),n("span",{class:"token class-name"},"Promise"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"resolve"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token keyword"},"if"),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token function"},"Number"),n("span",{class:"token punctuation"},"("),t("file"),n("span",{class:"token punctuation"},"."),t("raw"),n("span",{class:"token operator"},"?."),t("size"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},">"),t(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
      `),n("span",{class:"token function"},"warning"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'Check from onBeforeUpload: The file size exceeds the limit.'"),n("span",{class:"token punctuation"},")"),t(`
      file`),n("span",{class:"token punctuation"},"."),t("status "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token string"},"'error'"),t(`
      file`),n("span",{class:"token punctuation"},"."),t("errorTip "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token string"},"'Check from onBeforeUpload: The file size exceeds the limit.'"),t(`
      `),n("span",{class:"token function"},"resolve"),n("span",{class:"token punctuation"},"("),n("span",{class:"token boolean"},"false"),n("span",{class:"token punctuation"},")"),t(`
    `),n("span",{class:"token punctuation"},"}"),t(`
    `),n("span",{class:"token function"},"resolve"),n("span",{class:"token punctuation"},"("),n("span",{class:"token boolean"},"true"),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`

`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onSelect"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"files"),n("span",{class:"token operator"},":"),t(" File"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token keyword"},"if"),t(),n("span",{class:"token punctuation"},"("),t("files"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"some"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"file"),t(),n("span",{class:"token operator"},"=>"),t(" file"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token punctuation"},"."),t("length "),n("span",{class:"token operator"},">"),t(),n("span",{class:"token number"},"6"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token function"},"warning"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'Check from onSelect: The file size exceeds the limitFile name exceeds length.'"),n("span",{class:"token punctuation"},")"),t(`
    `),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token boolean"},"false"),t(`
  `),n("span",{class:"token punctuation"},"}"),t(`
  `),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token boolean"},"true"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function Vs(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"Check",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%0A%20%20%20%20v-model%3Afiles%3D%22files%22%0A%20%20%20%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%0A%20%20%20%20accept%3D%22.png%22%0A%20%20%20%20%40select%3D%22onSelect%22%0A%20%20%20%20%40beforeUpload%3D%22onBeforeUpload%22%0A%20%20%3E%0A%20%20%20%20%3CIxButton%3EUpload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22text%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20type%20%7B%20UploadFile%20%7D%20from%20'%40idux%2Fcomponents%2Fupload'%0A%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20useMessage%20%7D%20from%20'%40idux%2Fcomponents%2Fmessage'%0A%0Aconst%20files%20%3D%20ref(%5B%5D)%0Aconst%20%7B%20warning%20%7D%20%3D%20useMessage()%0A%0Aconst%20onBeforeUpload%20%3D%20(file%3A%20UploadFile)%20%3D%3E%0A%20%20new%20Promise(resolve%20%3D%3E%20%7B%0A%20%20%20%20if%20(Number(file.raw%3F.size)%20%3E%201)%20%7B%0A%20%20%20%20%20%20warning('Check%20from%20onBeforeUpload%3A%20The%20file%20size%20exceeds%20the%20limit.')%0A%20%20%20%20%20%20file.status%20%3D%20'error'%0A%20%20%20%20%20%20file.errorTip%20%3D%20'Check%20from%20onBeforeUpload%3A%20The%20file%20size%20exceeds%20the%20limit.'%0A%20%20%20%20%20%20resolve(false)%0A%20%20%20%20%7D%0A%20%20%20%20resolve(true)%0A%20%20%7D)%0A%0Aconst%20onSelect%20%3D%20(files%3A%20File%5B%5D)%20%3D%3E%20%7B%0A%20%20if%20(files.some(file%20%3D%3E%20file.name.length%20%3E%206))%20%7B%0A%20%20%20%20warning('Check%20from%20onSelect%3A%20The%20file%20size%20exceeds%20the%20limitFile%20name%20exceeds%20length.')%0A%20%20%20%20return%20false%0A%20%20%7D%0A%20%20return%20true%0A%7D%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"校验文件":"Check file"},{description:r(()=>[s.lang==="zh"?(m(),F("ul",Ss,Ls)):w("",!0),s.lang==="en"?(m(),F("ul",Ps,js)):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[Os]),_:1},8,["title"])}const Hs=E(Rs,[["render",Vs]]),Ws=v({__name:"Action",setup(s){const a=b([]),o=e=>{var u;return((u=e.raw)==null?void 0:u.type)==="image/png"?Promise.resolve("https://run.mocky.io/v3/41a4b385-bf7e-4808-b1e4-d2ef1e0cdc11"):"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"};return(e,u)=>{const p=S,c=R,l=$;return m(),A(l,{files:a.value,"onUpdate:files":u[0]||(u[0]=k=>a.value=k),action:o},{list:r(()=>[i(c,{type:"text"})]),default:r(()=>[i(p,null,{default:r(()=>[t("Upload")]),_:1})]),_:1},8,["files"])}}}),Gs=v({name:"Action",components:{"raw-demo":Ws},setup(){const{lang:s}=B(I);return{lang:s}}}),Xs={key:0},Ks=n("code",null,"action",-1),Js={key:1},Qs=n("code",null,"action",-1),Ys=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},":action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("action"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("text"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" UploadFile "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/upload'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"action"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" UploadFile")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token keyword"},"if"),t(),n("span",{class:"token punctuation"},"("),t("file"),n("span",{class:"token punctuation"},"."),t("raw"),n("span",{class:"token operator"},"?."),t("type "),n("span",{class:"token operator"},"==="),t(),n("span",{class:"token string"},"'image/png'"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token keyword"},"return"),t(" Promise"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"resolve"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'https://run.mocky.io/v3/41a4b385-bf7e-4808-b1e4-d2ef1e0cdc11'"),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token punctuation"},"}"),t(`
  `),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token string"},"'https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354'"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function Zs(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"Action",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%20v-model%3Afiles%3D%22files%22%20%3Aaction%3D%22action%22%3E%0A%20%20%20%20%3CIxButton%3EUpload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22text%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20type%20%7B%20UploadFile%20%7D%20from%20'%40idux%2Fcomponents%2Fupload'%0A%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aconst%20files%20%3D%20ref(%5B%5D)%0Aconst%20action%20%3D%20(file%3A%20UploadFile)%20%3D%3E%20%7B%0A%20%20if%20(file.raw%3F.type%20%3D%3D%3D%20'image%2Fpng')%20%7B%0A%20%20%20%20return%20Promise.resolve('https%3A%2F%2Frun.mocky.io%2Fv3%2F41a4b385-bf7e-4808-b1e4-d2ef1e0cdc11')%0A%20%20%7D%0A%20%20return%20'https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354'%0A%7D%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"上传远程地址":"Action"},{description:r(()=>[s.lang==="zh"?(m(),F("p",Xs,[t("可以根据文件不同设置不同的上传地址"),Ks])):w("",!0),s.lang==="en"?(m(),F("p",Js,[t("You can set different upload addresses "),Qs,t(" according to different files")])):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[Ys]),_:1},8,["title"])}const na=E(Gs,[["render",Zs]]),ta=v({__name:"MaxCount",setup(s){const a=b(1),o=b([]),e=(p,c)=>{console.log(p,c)},u=()=>{console.log("maxCountExceeded")};return(p,c)=>{const l=at,k=S,d=R,f=$;return m(),F(z,null,[i(l,{value:a.value,"onUpdate:value":c[0]||(c[0]=h=>a.value=h),style:{"margin-bottom":"8px"}},null,8,["value"]),i(f,{files:o.value,"onUpdate:files":c[1]||(c[1]=h=>o.value=h),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354",maxCount:a.value,onSelect:e,onMaxCountExceeded:u},{list:r(()=>[i(d,{type:"text"})]),default:r(()=>[i(k,null,{default:r(()=>[t("Upload")]),_:1})]),_:1},8,["files","maxCount"])],64)}}}),sa=v({name:"MaxCount",components:{"raw-demo":ta},setup(){const{lang:s}=B(I);return{lang:s}}}),aa={key:0},ea=n("code",null,"maxCount",-1),oa=n("code",null,"1",-1),ca={key:1},pa=n("code",null,"maxCount",-1),la=n("code",null,"1",-1),ua=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxInputNumber")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("value")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("maxCount"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token special-attr"},[n("span",{class:"token attr-name"},"style"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),n("span",{class:"token value css language-css"},[n("span",{class:"token property"},"margin-bottom"),n("span",{class:"token punctuation"},":"),t(" 8px")]),n("span",{class:"token punctuation"},'"')])]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(`
    `),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},":maxCount"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("maxCount"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"@select"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onSelect"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"@maxCountExceeded"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onMaxCountExceeded"),n("span",{class:"token punctuation"},'"')]),t(`
  `),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("text"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" FilteredFile "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/upload'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" maxCount "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`

`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onSelect"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"files"),n("span",{class:"token operator"},":"),t(" File"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token literal-property property"},"filteredFiles"),n("span",{class:"token operator"},":"),t(" FilteredFile"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),t("files"),n("span",{class:"token punctuation"},","),t(" filteredFiles"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onMaxCountExceeded"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'maxCountExceeded'"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function ia(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"MaxCount",code:"%3Ctemplate%3E%0A%20%20%3CIxInputNumber%20v-model%3Avalue%3D%22maxCount%22%20style%3D%22margin-bottom%3A%208px%22%20%2F%3E%0A%20%20%3CIxUpload%0A%20%20%20%20v-model%3Afiles%3D%22files%22%0A%20%20%20%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%0A%20%20%20%20%3AmaxCount%3D%22maxCount%22%0A%20%20%20%20%40select%3D%22onSelect%22%0A%20%20%20%20%40maxCountExceeded%3D%22onMaxCountExceeded%22%0A%20%20%3E%0A%20%20%20%20%3CIxButton%3EUpload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22text%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20type%20%7B%20FilteredFile%20%7D%20from%20'%40idux%2Fcomponents%2Fupload'%0A%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aconst%20maxCount%20%3D%20ref(1)%0Aconst%20files%20%3D%20ref(%5B%5D)%0A%0Aconst%20onSelect%20%3D%20(files%3A%20File%5B%5D%2C%20filteredFiles%3A%20FilteredFile%5B%5D)%20%3D%3E%20%7B%0A%20%20console.log(files%2C%20filteredFiles)%0A%7D%0Aconst%20onMaxCountExceeded%20%3D%20()%20%3D%3E%20%7B%0A%20%20console.log('maxCountExceeded')%0A%7D%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"限制数量":"Limit the number"},{description:r(()=>[s.lang==="zh"?(m(),F("p",aa,[t("使用"),ea,t("限制上传数量，当为"),oa,t("时，使用用最新的上传文件替代当前")])):w("",!0),s.lang==="en"?(m(),F("p",ca,[t("Use "),pa,t(" to limit the number of uploads, when it is "),la,t(", use the latest uploaded file to replace the current.")])):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[ua]),_:1},8,["title"])}const ra=E(sa,[["render",ia]]),ka=s=>(Wn("data-v-e0aadf34"),s=s(),Gn(),s),da={class:"drag-panel"},ma=ka(()=>n("p",null,"Drag and drop files or click to select files to upload.",-1)),fa=v({__name:"Dragable",setup(s){const a=b([]);return(o,e)=>{const u=K,p=R,c=$;return m(),A(c,{files:a.value,"onUpdate:files":e[0]||(e[0]=l=>a.value=l),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354",dragable:""},{list:r(()=>[i(p,{type:"text"})]),default:r(()=>[n("div",da,[i(u,{name:"upload",class:"drag-panel-icon"}),ma])]),_:1},8,["files"])}}});const ga=E(fa,[["__scopeId","data-v-e0aadf34"]]),Aa=v({name:"Dragable",components:{"raw-demo":ga},setup(){const{lang:s}=B(I);return{lang:s}}}),ha={key:0},Fa=n("code",null,"multiple",-1),ya={key:1},_a=n("code",null,"multiple",-1),va=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"dragable"),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("div")]),t(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("drag-panel"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxIcon")]),t(),n("span",{class:"token attr-name"},"name"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("upload"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("drag-panel-icon"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxIcon")]),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("p")]),n("span",{class:"token punctuation"},">")]),t("Drag and drop files or click to select files to upload."),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("p")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("div")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("text"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("style")]),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("less"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"scoped"),n("span",{class:"token punctuation"},">")]),n("span",{class:"token style"},[n("span",{class:"token language-css"},[t(`
`),n("span",{class:"token selector"},".drag-panel"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),t(" 600px"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),t(" 240px"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token property"},"display"),n("span",{class:"token punctuation"},":"),t(" flex"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token property"},"align-items"),n("span",{class:"token punctuation"},":"),t(" center"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token property"},"justify-content"),n("span",{class:"token punctuation"},":"),t(" center"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token property"},"flex-direction"),n("span",{class:"token punctuation"},":"),t(" column"),n("span",{class:"token punctuation"},";"),t(`

  `),n("span",{class:"token selector"},"&-icon"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token property"},"font-size"),n("span",{class:"token punctuation"},":"),t(" 24px"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token punctuation"},"}"),t(`

  `),n("span",{class:"token selector"},"p"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token property"},"font-size"),n("span",{class:"token punctuation"},":"),t(" 14px"),n("span",{class:"token punctuation"},";"),t(`
    `),n("span",{class:"token property"},"margin"),n("span",{class:"token punctuation"},":"),t(" 8px 0 0 0"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("style")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function Ca(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"Dragable",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%20v-model%3Afiles%3D%22files%22%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%20dragable%3E%0A%20%20%20%20%3Cdiv%20class%3D%22drag-panel%22%3E%0A%20%20%20%20%20%20%3CIxIcon%20name%3D%22upload%22%20class%3D%22drag-panel-icon%22%3E%3C%2FIxIcon%3E%0A%20%20%20%20%20%20%3Cp%3EDrag%20and%20drop%20files%20or%20click%20to%20select%20files%20to%20upload.%3C%2Fp%3E%0A%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22text%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aconst%20files%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A%0A%3Cstyle%20lang%3D%22less%22%20scoped%3E%0A.drag-panel%20%7B%0A%20%20width%3A%20600px%3B%0A%20%20height%3A%20240px%3B%0A%20%20display%3A%20flex%3B%0A%20%20align-items%3A%20center%3B%0A%20%20justify-content%3A%20center%3B%0A%20%20flex-direction%3A%20column%3B%0A%0A%20%20%26-icon%20%7B%0A%20%20%20%20font-size%3A%2024px%3B%0A%20%20%7D%0A%0A%20%20p%20%7B%0A%20%20%20%20font-size%3A%2014px%3B%0A%20%20%20%20margin%3A%208px%200%200%200%3B%0A%20%20%7D%0A%7D%0A%3C%2Fstyle%3E%0A",title:s.lang==="zh"?"拖拽上传":"Drag and drop upload"},{description:r(()=>[s.lang==="zh"?(m(),F("p",ha,[t("拖拽面板自定义，搭配"),Fa,t("可以拖拽一次上传多个文件")])):w("",!0),s.lang==="en"?(m(),F("p",ya,[t("Drag and drop panel customization, with "),_a,t(", you can drag and drop multiple files at once.")])):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[va]),_:1},8,["title"])}const Da=E(Aa,[["render",Ca]]),xa=v({__name:"Manual",setup(s){const a=b([]),o=e=>{var l,k;const c=((k=(l=e.raw)==null?void 0:l.size)!=null?k:0)/4;for(let d=0;d<4;d++){const f=d*c,h=(d+1)*c,_=new FormData;_.append("file",e.raw.slice(f,h)),fetch("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354",{method:"POST",body:_})}return!1};return(e,u)=>{const p=S,c=R,l=$;return m(),A(l,{files:a.value,"onUpdate:files":u[0]||(u[0]=k=>a.value=k),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354",onBeforeUpload:o},{list:r(()=>[i(c,{type:"text"})]),default:r(()=>[i(p,null,{default:r(()=>[t("Manual upload")]),_:1})]),_:1},8,["files"])}}}),wa=v({name:"Manual",components:{"raw-demo":xa},setup(){const{lang:s}=B(I);return{lang:s}}}),ba={key:0},Ea=n("code",null,"beforeUpload",-1),Ba={key:1},Ua=n("code",null,"beforeUpload",-1),Ia=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(`
    `),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"@beforeUpload"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onBeforeUpload"),n("span",{class:"token punctuation"},'"')]),t(`
  `),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Manual upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("text"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" UploadFile "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/upload'"),t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" Ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token literal-property property"},"files"),n("span",{class:"token operator"},":"),t(" Ref"),n("span",{class:"token operator"},"<"),t("UploadFile"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onBeforeUpload"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" UploadFile")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token keyword"},"const"),t(" chunkNum "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token number"},"4"),t(`
  `),n("span",{class:"token keyword"},"const"),t(" fileSize "),n("span",{class:"token operator"},"="),t(" file"),n("span",{class:"token punctuation"},"."),t("raw"),n("span",{class:"token operator"},"?."),t("size "),n("span",{class:"token operator"},"??"),t(),n("span",{class:"token number"},"0"),t(`
  `),n("span",{class:"token keyword"},"const"),t(" chunkSize "),n("span",{class:"token operator"},"="),t(" fileSize "),n("span",{class:"token operator"},"/"),t(` chunkNum
  `),n("span",{class:"token keyword"},"for"),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token keyword"},"let"),t(" i "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},";"),t(" i "),n("span",{class:"token operator"},"<"),t(" chunkNum"),n("span",{class:"token punctuation"},";"),t(" i"),n("span",{class:"token operator"},"++"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token keyword"},"const"),t(" start "),n("span",{class:"token operator"},"="),t(" i "),n("span",{class:"token operator"},"*"),t(` chunkSize
    `),n("span",{class:"token keyword"},"const"),t(" end "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),t("i "),n("span",{class:"token operator"},"+"),t(),n("span",{class:"token number"},"1"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"*"),t(` chunkSize
    `),n("span",{class:"token keyword"},"const"),t(" formData "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token keyword"},"new"),t(),n("span",{class:"token class-name"},"FormData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(`
    formData`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"append"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'file'"),n("span",{class:"token punctuation"},","),t(" file"),n("span",{class:"token punctuation"},"."),t("raw"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"slice"),n("span",{class:"token punctuation"},"("),t("start"),n("span",{class:"token punctuation"},","),t(" end"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),t(`

    `),n("span",{class:"token comment"},"// custom request"),t(`
    `),n("span",{class:"token function"},"fetch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354'"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token punctuation"},"{"),t(`
      `),n("span",{class:"token literal-property property"},"method"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'POST'"),n("span",{class:"token punctuation"},","),t(`
      `),n("span",{class:"token literal-property property"},"body"),n("span",{class:"token operator"},":"),t(" formData"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token punctuation"},"}"),t(`

  `),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token boolean"},"false"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function $a(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"Manual",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%0A%20%20%20%20v-model%3Afiles%3D%22files%22%0A%20%20%20%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%0A%20%20%20%20%40beforeUpload%3D%22onBeforeUpload%22%0A%20%20%3E%0A%20%20%20%20%3CIxButton%3EManual%20upload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22text%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20type%20%7B%20UploadFile%20%7D%20from%20'%40idux%2Fcomponents%2Fupload'%0Aimport%20type%20%7B%20Ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aconst%20files%3A%20Ref%3CUploadFile%5B%5D%3E%20%3D%20ref(%5B%5D)%0Aconst%20onBeforeUpload%20%3D%20(file%3A%20UploadFile)%20%3D%3E%20%7B%0A%20%20const%20chunkNum%20%3D%204%0A%20%20const%20fileSize%20%3D%20file.raw%3F.size%20%3F%3F%200%0A%20%20const%20chunkSize%20%3D%20fileSize%20%2F%20chunkNum%0A%20%20for%20(let%20i%20%3D%200%3B%20i%20%3C%20chunkNum%3B%20i%2B%2B)%20%7B%0A%20%20%20%20const%20start%20%3D%20i%20*%20chunkSize%0A%20%20%20%20const%20end%20%3D%20(i%20%2B%201)%20*%20chunkSize%0A%20%20%20%20const%20formData%20%3D%20new%20FormData()%0A%20%20%20%20formData.append('file'%2C%20file.raw!.slice(start%2C%20end))%0A%0A%20%20%20%20%2F%2F%20custom%20request%0A%20%20%20%20fetch('https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354'%2C%20%7B%0A%20%20%20%20%20%20method%3A%20'POST'%2C%0A%20%20%20%20%20%20body%3A%20formData%2C%0A%20%20%20%20%7D)%0A%20%20%7D%0A%0A%20%20return%20false%0A%7D%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"手动上传":"Manual upload"},{description:r(()=>[s.lang==="zh"?(m(),F("p",ba,[Ea,t(" 返回 false 后，手动上传文件。")])):w("",!0),s.lang==="en"?(m(),F("p",Ba,[t("After "),Ua,t(" returns false, upload the file manually.")])):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[Ia]),_:1},8,["title"])}const qa=E(wa,[["render",$a]]),Ra=v({__name:"Hooks",setup(s){const a=b([]),o=l(a),e=k=>(console.log("beforeUpload",k),o.value.push(`${k.name}: beforeUpload`),!0),u=k=>(console.log("select",k),o.value.push(`${k[0].name}: select`),!0),p=k=>{console.log("fileStatusChange",k),o.value.push(`${k.name}: file status is ${k.status}`)},c=k=>{console.log("requestChange",k),o.value.push(`${k.file.name}: request status is ${k.status}`)};function l(k){const d=b([]);return pn(k,f=>{f.length===0&&(d.value=[])}),d}return(k,d)=>{const f=S,h=R,_=$,y=ot,g=et;return m(),F(z,null,[i(_,{files:a.value,"onUpdate:files":d[0]||(d[0]=x=>a.value=x),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354",maxCount:1,onBeforeUpload:e,onSelect:u,onFileStatusChange:p,onRequestChange:c},{list:r(()=>[i(h,{type:"imageCard"})]),default:r(()=>[i(f,null,{default:r(()=>[t("Hook")]),_:1})]),_:1},8,["files"]),i(g,null,{default:r(()=>[(m(!0),F(z,null,$n(Xn(o),(x,C)=>(m(),A(y,{key:C},{default:r(()=>[t(dn(x),1)]),_:2},1024))),128))]),_:1})],64)}}}),Sa=v({name:"Hooks",components:{"raw-demo":Ra},setup(){const{lang:s}=B(I);return{lang:s}}}),Na=n("p",null,"提供多种钩子以扩展功能。",-1),Ta=n("ul",null,[n("li",null,[n("code",null,"onSelect"),t("：在选中文件时"),n("ul",null,[n("li",null,[t("返回"),n("code",null,"boolean"),t("类型表示是否添加到待上传列表")]),n("li",null,[t("支持对原文件修改返回新的"),n("code",null,"File"),t("文件")]),n("li",null,"支持Promise")])]),n("li",null,[n("code",null,"onBeforeUpload"),t("：在上传请求前"),n("ul",null,[n("li",null,[t("返回"),n("code",null,"boolean"),t("类型表示是否允许发送上传请求")]),n("li",null,[t("允许对原"),n("code",null,"UploadFile"),t("类型文件进行修改提交上传")]),n("li",null,[t("支持Promise，"),n("code",null,"resolve"),t("时开始上传，"),n("code",null,"reject"),t("停止")])])]),n("li",null,[n("code",null,"onFileStatusChange"),t("：文件状态改变时"),n("ul",null,[n("li",null,[t("可通过参数中"),n("code",null,"status"),t("得知当前文件状态")])])]),n("li",null,[n("code",null,"onRequestChange"),t("：上传请求状态改变时"),n("ul",null,[n("li",null,[t("可通过参数中"),n("code",null,"status"),t("得知当前请求状态")])])])],-1),Ma=n("p",null,[t("Provide a variety of hooks to extend the functionality. -"),n("code",null,"onSelect"),t(": When the file is selected")],-1),La=n("ul",null,[n("li",null,[t("Return the "),n("code",null,"boolean"),t(" type to indicate whether to add to the upload list")]),n("li",null,[t("Support to modify the original file to return to the new "),n("code",null,"File"),t(" file")]),n("li",null,[t("Support Promise -"),n("code",null,"onBeforeUpload"),t(": before upload request")]),n("li",null,[t("Return "),n("code",null,"boolean"),t(" type to indicate whether upload request is allowed")]),n("li",null,[t("Allow to modify and upload files of the original "),n("code",null,"UploadFile"),t(" type")]),n("li",null,[t("Support Promise -"),n("code",null,"onFileStatusChange"),t(": When the file status changes")]),n("li",null,[t("The current file status can be known through the "),n("code",null,"status"),t(" in the parameter -"),n("code",null,"onRequestChange"),t(": When the upload request status changes")]),n("li",null,[t("The current request status can be known through the "),n("code",null,"status"),t(" in the parameter")])],-1),Pa=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(`
    `),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},":maxCount"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("1"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"@beforeUpload"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onBeforeUploadMessage"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"@select"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onSelectMessage"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"@fileStatusChange"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onFileStatusChangeMessage"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"@requestChange"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onRequestChangeMessage"),n("span",{class:"token punctuation"},'"')]),t(`
  `),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Hook"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("imageCard"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxTimeline")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxTimelineItem")]),t(),n("span",{class:"token attr-name"},"v-for"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("(item, index) in timelineList"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},":key"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("index"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
      {{ item }}
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxTimelineItem")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxTimeline")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" UploadFile"),n("span",{class:"token punctuation"},","),t(" UploadRequestChangeOption "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/upload'"),t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" Ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref"),n("span",{class:"token punctuation"},","),t(" watch "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token literal-property property"},"files"),n("span",{class:"token operator"},":"),t(" Ref"),n("span",{class:"token operator"},"<"),t("UploadFile"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(" timelineList "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"useTimelineList"),n("span",{class:"token punctuation"},"("),t("files"),n("span",{class:"token punctuation"},")"),t(`

`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onBeforeUploadMessage"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" UploadFile")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'beforeUpload'"),n("span",{class:"token punctuation"},","),t(" file"),n("span",{class:"token punctuation"},")"),t(`
  timelineList`),n("span",{class:"token punctuation"},"."),t("value"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),t("file"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},": beforeUpload"),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token boolean"},"true"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onSelectMessage"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" File"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'select'"),n("span",{class:"token punctuation"},","),t(" file"),n("span",{class:"token punctuation"},")"),t(`
  timelineList`),n("span",{class:"token punctuation"},"."),t("value"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),t("file"),n("span",{class:"token punctuation"},"["),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},": select"),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token boolean"},"true"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onFileStatusChangeMessage"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" UploadFile")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'fileStatusChange'"),n("span",{class:"token punctuation"},","),t(" file"),n("span",{class:"token punctuation"},")"),t(`
  timelineList`),n("span",{class:"token punctuation"},"."),t("value"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),t("file"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},": file status is "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),t("file"),n("span",{class:"token punctuation"},"."),t("status"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onRequestChangeMessage"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"option"),n("span",{class:"token operator"},":"),t(" UploadRequestChangeOption")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'requestChange'"),n("span",{class:"token punctuation"},","),t(" option"),n("span",{class:"token punctuation"},")"),t(`
  timelineList`),n("span",{class:"token punctuation"},"."),t("value"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"push"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),t("option"),n("span",{class:"token punctuation"},"."),t("file"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},": request status is "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),t("option"),n("span",{class:"token punctuation"},"."),t("status"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`

`),n("span",{class:"token keyword"},"function"),t(),n("span",{class:"token function"},"useTimelineList"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"files"),n("span",{class:"token operator"},":"),t(" Ref"),n("span",{class:"token operator"},"<"),t("UploadFile"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token literal-property property"},"timelineList"),n("span",{class:"token operator"},":"),t(" Ref"),n("span",{class:"token operator"},"<"),t("string"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token function"},"watch"),n("span",{class:"token punctuation"},"("),t("files"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token parameter"},"val"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token keyword"},"if"),t(),n("span",{class:"token punctuation"},"("),t("val"),n("span",{class:"token punctuation"},"."),t("length "),n("span",{class:"token operator"},"==="),t(),n("span",{class:"token number"},"0"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
      timelineList`),n("span",{class:"token punctuation"},"."),t("value "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),t(`
    `),n("span",{class:"token punctuation"},"}"),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token keyword"},"return"),t(` timelineList
`),n("span",{class:"token punctuation"},"}"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function za(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"Hooks",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%0A%20%20%20%20v-model%3Afiles%3D%22files%22%0A%20%20%20%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%0A%20%20%20%20%3AmaxCount%3D%221%22%0A%20%20%20%20%40beforeUpload%3D%22onBeforeUploadMessage%22%0A%20%20%20%20%40select%3D%22onSelectMessage%22%0A%20%20%20%20%40fileStatusChange%3D%22onFileStatusChangeMessage%22%0A%20%20%20%20%40requestChange%3D%22onRequestChangeMessage%22%0A%20%20%3E%0A%20%20%20%20%3CIxButton%3EHook%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22imageCard%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%20%20%3CIxTimeline%3E%0A%20%20%20%20%3CIxTimelineItem%20v-for%3D%22(item%2C%20index)%20in%20timelineList%22%20%3Akey%3D%22index%22%3E%0A%20%20%20%20%20%20%7B%7B%20item%20%7D%7D%0A%20%20%20%20%3C%2FIxTimelineItem%3E%0A%20%20%3C%2FIxTimeline%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20type%20%7B%20UploadFile%2C%20UploadRequestChangeOption%20%7D%20from%20'%40idux%2Fcomponents%2Fupload'%0Aimport%20type%20%7B%20Ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20ref%2C%20watch%20%7D%20from%20'vue'%0A%0Aconst%20files%3A%20Ref%3CUploadFile%5B%5D%3E%20%3D%20ref(%5B%5D)%0Aconst%20timelineList%20%3D%20useTimelineList(files)%0A%0Aconst%20onBeforeUploadMessage%20%3D%20(file%3A%20UploadFile)%20%3D%3E%20%7B%0A%20%20console.log('beforeUpload'%2C%20file)%0A%20%20timelineList.value.push(%60%24%7Bfile.name%7D%3A%20beforeUpload%60)%0A%20%20return%20true%0A%7D%0Aconst%20onSelectMessage%20%3D%20(file%3A%20File%5B%5D)%20%3D%3E%20%7B%0A%20%20console.log('select'%2C%20file)%0A%20%20timelineList.value.push(%60%24%7Bfile%5B0%5D.name%7D%3A%20select%60)%0A%20%20return%20true%0A%7D%0Aconst%20onFileStatusChangeMessage%20%3D%20(file%3A%20UploadFile)%20%3D%3E%20%7B%0A%20%20console.log('fileStatusChange'%2C%20file)%0A%20%20timelineList.value.push(%60%24%7Bfile.name%7D%3A%20file%20status%20is%20%24%7Bfile.status%7D%60)%0A%7D%0Aconst%20onRequestChangeMessage%20%3D%20(option%3A%20UploadRequestChangeOption)%20%3D%3E%20%7B%0A%20%20console.log('requestChange'%2C%20option)%0A%20%20timelineList.value.push(%60%24%7Boption.file.name%7D%3A%20request%20status%20is%20%24%7Boption.status%7D%60)%0A%7D%0A%0Afunction%20useTimelineList(files%3A%20Ref%3CUploadFile%5B%5D%3E)%20%7B%0A%20%20const%20timelineList%3A%20Ref%3Cstring%5B%5D%3E%20%3D%20ref(%5B%5D)%0A%20%20watch(files%2C%20val%20%3D%3E%20%7B%0A%20%20%20%20if%20(val.length%20%3D%3D%3D%200)%20%7B%0A%20%20%20%20%20%20timelineList.value%20%3D%20%5B%5D%0A%20%20%20%20%7D%0A%20%20%7D)%0A%20%20return%20timelineList%0A%7D%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"钩子":"Hook"},{description:r(()=>[s.lang==="zh"?(m(),F(z,{key:0},[Na,Ta],64)):w("",!0),s.lang==="en"?(m(),F(z,{key:1},[Ma,La],64)):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[Pa]),_:1},8,["title"])}const ja=E(Sa,[["render",za]]),Oa=v({__name:"Icon",setup(s){const a=b([]),o=b({file:"paper-clip",download:"thunderbolt",retry:X(K,{name:"reload"}),remove:X(K,{name:"close"})});return(e,u)=>{const p=S,c=R,l=$;return m(),A(l,{files:a.value,"onUpdate:files":u[0]||(u[0]=k=>a.value=k),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"},{list:r(()=>[i(c,{type:"text",icon:o.value},null,8,["icon"])]),default:r(()=>[i(p,null,{default:r(()=>[t("Upload")]),_:1})]),_:1},8,["files"])}}}),Va=v({name:"Icon",components:{"raw-demo":Oa},setup(){const{lang:s}=B(I);return{lang:s}}}),Ha={key:0},Wa=n("code",null,"IxUploadFiles",-1),Ga=n("code",null,"icon",-1),Xa=n("code",null,"string",-1),Ka=n("code",null,"VNode",-1),Ja={key:1},Qa=n("code",null,"IxUploadFiles",-1),Ya=n("code",null,"icon",-1),Za=n("code",null,"string",-1),ne=n("code",null,"VNode",-1),te=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("text"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},":icon"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("icon"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" h"),n("span",{class:"token punctuation"},","),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" IxIcon "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/icon'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(" icon "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'paper-clip'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token literal-property property"},"download"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'thunderbolt'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token literal-property property"},"retry"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token function"},"h"),n("span",{class:"token punctuation"},"("),t("IxIcon"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token punctuation"},"{"),t(),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'reload'"),t(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token literal-property property"},"remove"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token function"},"h"),n("span",{class:"token punctuation"},"("),t("IxIcon"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token punctuation"},"{"),t(),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'close'"),t(),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),t(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function se(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"Icon",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%20v-model%3Afiles%3D%22files%22%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%3E%0A%20%20%20%20%3CIxButton%3EUpload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22text%22%20%3Aicon%3D%22icon%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20h%2C%20ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20IxIcon%20%7D%20from%20'%40idux%2Fcomponents%2Ficon'%0A%0Aconst%20files%20%3D%20ref(%5B%5D)%0Aconst%20icon%20%3D%20ref(%7B%0A%20%20file%3A%20'paper-clip'%2C%0A%20%20download%3A%20'thunderbolt'%2C%0A%20%20retry%3A%20h(IxIcon%2C%20%7B%20name%3A%20'reload'%20%7D)%2C%0A%20%20remove%3A%20h(IxIcon%2C%20%7B%20name%3A%20'close'%20%7D)%2C%0A%7D)%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"图标":"Icon"},{description:r(()=>[s.lang==="zh"?(m(),F("p",Ha,[Wa,t("使用"),Ga,t("配置对应的图标，支持 "),Xa,t(" 和 "),Ka])):w("",!0),s.lang==="en"?(m(),F("p",Ja,[Qa,t(" uses "),Ya,t(" to configure the corresponding icon, and supports "),Za,t(" and "),ne])):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[te]),_:1},8,["title"])}const ae=E(Va,[["render",se]]),ee=v({__name:"StrokeColor",setup(s){const a=b([]);return(o,e)=>{const u=S,p=R,c=$;return m(),A(c,{files:a.value,"onUpdate:files":e[0]||(e[0]=l=>a.value=l),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354",progress:{strokeColor:{"0%":"#108ee9","100%":"#87d068"},strokeWidth:3}},{list:r(()=>[i(p,{type:"text"})]),default:r(()=>[i(u,null,{default:r(()=>[t("Upload")]),_:1})]),_:1},8,["files"])}}}),oe=v({name:"StrokeColor",components:{"raw-demo":ee},setup(){const{lang:s}=B(I);return{lang:s}}}),ce={key:0},pe=n("code",null,"progress",-1),le=n("a",{href:"/components/progress/zh#ProgressProps"},"ProgressProps",-1),ue={key:1},ie=n("code",null,"progress",-1),re=n("a",{href:"/components/progress/zh#ProgressProps"},"ProgressProps",-1),ke=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(`
    `),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},":progress"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t(`{
      strokeColor: {
        '0%': '#108ee9',
        '100%': '#87d068',
      },
      strokeWidth: 3,
    }`),n("span",{class:"token punctuation"},'"')]),t(`
  `),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("text"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function de(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"StrokeColor",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%0A%20%20%20%20v-model%3Afiles%3D%22files%22%0A%20%20%20%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%0A%20%20%20%20%3Aprogress%3D%22%7B%0A%20%20%20%20%20%20strokeColor%3A%20%7B%0A%20%20%20%20%20%20%20%20'0%25'%3A%20'%23108ee9'%2C%0A%20%20%20%20%20%20%20%20'100%25'%3A%20'%2387d068'%2C%0A%20%20%20%20%20%20%7D%2C%0A%20%20%20%20%20%20strokeWidth%3A%203%2C%0A%20%20%20%20%7D%22%0A%20%20%3E%0A%20%20%20%20%3CIxButton%3EUpload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22text%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aconst%20files%20%3D%20ref(%5B%5D)%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"进度条样式":"Progress bar style"},{description:r(()=>[s.lang==="zh"?(m(),F("p",ce,[t("使用"),pe,t("配置进度条，配置同 "),le])):w("",!0),s.lang==="en"?(m(),F("p",ue,[t("Use "),ie,t(" to configure the progress bar, the configuration is the same as "),re,t(".")])):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[ke]),_:1},8,["title"])}const me=E(oe,[["render",de]]),fe=v({__name:"CustomRequest",setup(s){const a=b([]),o=u=>{const p=new FormData,c=new AbortController,l=c.signal;return u.requestData&&Object.keys(u.requestData).forEach(k=>{const d=u.requestData[k];if(Array.isArray(d)){d.forEach(f=>{p.append(`${k}[]`,f)});return}p.append(k,d)}),p.append(u.name,u.file,u.file.name),fetch(u.action,{method:u.requestMethod,headers:u.requestHeaders,body:p,signal:l,credentials:u.withCredentials?"same-origin":"omit"}).then(k=>{var d;return(d=u.onSuccess)==null?void 0:d.call(u,k)}).catch(k=>{var d;return(d=u.onError)==null?void 0:d.call(u,k)}),{abort:()=>c.abort()}},e=u=>{console.log(u)};return(u,p)=>{const c=S,l=R,k=$;return m(),A(k,{files:a.value,"onUpdate:files":p[0]||(p[0]=d=>a.value=d),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354",customRequest:o,onRequestChange:e},{list:r(()=>[i(l,{type:"text"})]),default:r(()=>[i(c,null,{default:r(()=>[t("Custom upload")]),_:1})]),_:1},8,["files"])}}}),ge=v({name:"CustomRequest",components:{"raw-demo":fe},setup(){const{lang:s}=B(I);return{lang:s}}}),Ae={key:0},he=n("code",null,"IxUpload",-1),Fe=n("code",null,"XMLHttpRequest",-1),ye={key:1},_e=n("code",null,"IxUpload",-1),ve=n("code",null,"XMLHttpRequest",-1),Ce=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(`
    `),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},":customRequest"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("customRequest"),n("span",{class:"token punctuation"},'"')]),t(`
    `),n("span",{class:"token attr-name"},"@requestChange"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onRequestChange"),n("span",{class:"token punctuation"},'"')]),t(`
  `),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Custom upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("text"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" UploadRequestChangeOption"),n("span",{class:"token punctuation"},","),t(" UploadRequestOption "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/upload'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token comment"},"// eslint-disable-next-line @typescript-eslint/no-explicit-any"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"customRequest"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"option"),n("span",{class:"token operator"},":"),t(" UploadRequestOption"),n("span",{class:"token operator"},"<"),t("any"),n("span",{class:"token operator"},">")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token keyword"},"const"),t(" formData "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token keyword"},"new"),t(),n("span",{class:"token class-name"},"FormData"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token keyword"},"const"),t(" controller "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token keyword"},"new"),t(),n("span",{class:"token class-name"},"AbortController"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token keyword"},"const"),t(" signal "),n("span",{class:"token operator"},"="),t(" controller"),n("span",{class:"token punctuation"},"."),t(`signal

  `),n("span",{class:"token keyword"},"if"),t(),n("span",{class:"token punctuation"},"("),t("option"),n("span",{class:"token punctuation"},"."),t("requestData"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
    Object`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"keys"),n("span",{class:"token punctuation"},"("),t("option"),n("span",{class:"token punctuation"},"."),t("requestData"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"key"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
      `),n("span",{class:"token keyword"},"const"),t(" value "),n("span",{class:"token operator"},"="),t(" option"),n("span",{class:"token punctuation"},"."),t("requestData"),n("span",{class:"token operator"},"!"),n("span",{class:"token punctuation"},"["),t("key"),n("span",{class:"token punctuation"},"]"),t(`
      `),n("span",{class:"token keyword"},"if"),t(),n("span",{class:"token punctuation"},"("),t("Array"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"isArray"),n("span",{class:"token punctuation"},"("),t("value"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token punctuation"},"{"),t(`
        value`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"forEach"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"item"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
          formData`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"append"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),t("key"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},"[]"),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},","),t(" item"),n("span",{class:"token punctuation"},")"),t(`
        `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
        `),n("span",{class:"token keyword"},"return"),t(`
      `),n("span",{class:"token punctuation"},"}"),t(`

      formData`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"append"),n("span",{class:"token punctuation"},"("),t("key"),n("span",{class:"token punctuation"},","),t(" value "),n("span",{class:"token keyword"},"as"),t(" string "),n("span",{class:"token operator"},"|"),t(" Blob"),n("span",{class:"token punctuation"},")"),t(`
    `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token punctuation"},"}"),t(`

  formData`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"append"),n("span",{class:"token punctuation"},"("),t("option"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token punctuation"},","),t(" option"),n("span",{class:"token punctuation"},"."),t("file"),n("span",{class:"token punctuation"},","),t(" option"),n("span",{class:"token punctuation"},"."),t("file"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token punctuation"},")"),t(`

  `),n("span",{class:"token function"},"fetch"),n("span",{class:"token punctuation"},"("),t("option"),n("span",{class:"token punctuation"},"."),t("action"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token literal-property property"},"method"),n("span",{class:"token operator"},":"),t(" option"),n("span",{class:"token punctuation"},"."),t("requestMethod"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"headers"),n("span",{class:"token operator"},":"),t(" option"),n("span",{class:"token punctuation"},"."),t("requestHeaders"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"body"),n("span",{class:"token operator"},":"),t(" formData"),n("span",{class:"token punctuation"},","),t(`
    signal`),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"credentials"),n("span",{class:"token operator"},":"),t(" option"),n("span",{class:"token punctuation"},"."),t("withCredentials "),n("span",{class:"token operator"},"?"),t(),n("span",{class:"token string"},"'same-origin'"),t(),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'omit'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
    `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"then"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"res"),t(),n("span",{class:"token operator"},"=>"),t(" option"),n("span",{class:"token punctuation"},"."),t("onSuccess"),n("span",{class:"token operator"},"?."),n("span",{class:"token punctuation"},"("),t("res"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),t(`
    `),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"catch"),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},"err"),t(),n("span",{class:"token operator"},"=>"),t(" option"),n("span",{class:"token punctuation"},"."),t("onError"),n("span",{class:"token operator"},"?."),n("span",{class:"token punctuation"},"("),t("err"),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},")"),t(`

  `),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token function-variable function"},"abort"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(" controller"),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"abort"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onRequestChange"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"option"),n("span",{class:"token operator"},":"),t(" UploadRequestChangeOption")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  console`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"log"),n("span",{class:"token punctuation"},"("),t("option"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function De(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"CustomRequest",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%0A%20%20%20%20v-model%3Afiles%3D%22files%22%0A%20%20%20%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%0A%20%20%20%20%3AcustomRequest%3D%22customRequest%22%0A%20%20%20%20%40requestChange%3D%22onRequestChange%22%0A%20%20%3E%0A%20%20%20%20%3CIxButton%3ECustom%20upload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%20type%3D%22text%22%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20type%20%7B%20UploadRequestChangeOption%2C%20UploadRequestOption%20%7D%20from%20'%40idux%2Fcomponents%2Fupload'%0A%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aconst%20files%20%3D%20ref(%5B%5D)%0A%2F%2F%20eslint-disable-next-line%20%40typescript-eslint%2Fno-explicit-any%0Aconst%20customRequest%20%3D%20(option%3A%20UploadRequestOption%3Cany%3E)%20%3D%3E%20%7B%0A%20%20const%20formData%20%3D%20new%20FormData()%0A%20%20const%20controller%20%3D%20new%20AbortController()%0A%20%20const%20signal%20%3D%20controller.signal%0A%0A%20%20if%20(option.requestData)%20%7B%0A%20%20%20%20Object.keys(option.requestData).forEach(key%20%3D%3E%20%7B%0A%20%20%20%20%20%20const%20value%20%3D%20option.requestData!%5Bkey%5D%0A%20%20%20%20%20%20if%20(Array.isArray(value))%20%7B%0A%20%20%20%20%20%20%20%20value.forEach(item%20%3D%3E%20%7B%0A%20%20%20%20%20%20%20%20%20%20formData.append(%60%24%7Bkey%7D%5B%5D%60%2C%20item)%0A%20%20%20%20%20%20%20%20%7D)%0A%20%20%20%20%20%20%20%20return%0A%20%20%20%20%20%20%7D%0A%0A%20%20%20%20%20%20formData.append(key%2C%20value%20as%20string%20%7C%20Blob)%0A%20%20%20%20%7D)%0A%20%20%7D%0A%0A%20%20formData.append(option.name%2C%20option.file%2C%20option.file.name)%0A%0A%20%20fetch(option.action%2C%20%7B%0A%20%20%20%20method%3A%20option.requestMethod%2C%0A%20%20%20%20headers%3A%20option.requestHeaders%2C%0A%20%20%20%20body%3A%20formData%2C%0A%20%20%20%20signal%2C%0A%20%20%20%20credentials%3A%20option.withCredentials%20%3F%20'same-origin'%20%3A%20'omit'%2C%0A%20%20%7D)%0A%20%20%20%20.then(res%20%3D%3E%20option.onSuccess%3F.(res))%0A%20%20%20%20.catch(err%20%3D%3E%20option.onError%3F.(err))%0A%0A%20%20return%20%7B%0A%20%20%20%20abort%3A%20()%20%3D%3E%20controller.abort()%2C%0A%20%20%7D%0A%7D%0Aconst%20onRequestChange%20%3D%20(option%3A%20UploadRequestChangeOption)%20%3D%3E%20%7B%0A%20%20console.log(option)%0A%7D%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"自定义请求":"Custom request"},{description:r(()=>[s.lang==="zh"?(m(),F("p",Ae,[he,t("内置了基于"),Fe,t("的请求方式，可以自定义请求逻辑")])):w("",!0),s.lang==="en"?(m(),F("p",ye,[_e,t(" has a built-in request method based on "),ve,t(", and the request logic can be customized.")])):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[Ce]),_:1},8,["title"])}const xe=E(ge,[["render",De]]),we=v({__name:"Operation",setup(s){const a=b({file:"paper-clip",download:"download",retry:"edit",remove:"delete",preview:"zoom-in"}),o=b([{key:"default",name:"error.png",status:"error",errorTip:"error",thumbUrl:"/icons/logo.svg"}]),{warning:e,success:u}=fn(),p=d=>{e(`Insufficient permissions to download file ${d.name}.`)},c=d=>{window.open(d.thumbUrl)},l=d=>(e(`${d.name} is not allowed to be deleted.`),!1),k=d=>{u(`${d.name} has been retry.`)};return(d,f)=>{const h=S,_=R,y=$;return m(),A(y,{files:o.value,"onUpdate:files":f[0]||(f[0]=g=>o.value=g),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"},{list:r(()=>[i(_,{icon:a.value,type:"imageCard",onRetry:k,onDownload:p,onPreview:c,onRemove:l},null,8,["icon"])]),default:r(()=>[i(h,null,{default:r(()=>[t("Upload")]),_:1})]),_:1},8,["files"])}}}),be=v({name:"Operation",components:{"raw-demo":we},setup(){const{lang:s}=B(I);return{lang:s}}}),Ee=n("p",null,"支持对单文件操作如预览（onPreview）、下载（onDownload）、移除（onRemove）、失败重试（onRetry）。",-1),Be=n("blockquote",null,[n("p",null,[t("IxUpload内置默认预览，上传成功后，若文件file存在thumbUrl可展示图片预览，若配置了"),n("code",null,"onPreview"),t("则会覆盖默认的预览")])],-1),Ue=n("p",null,"Supports single file operations such as preview (onPreview), download (onDownload), removal (onRemove), and failure retry (onRetry).",-1),Ie=n("blockquote",null,[n("p",null,[t("IxUpload has a built-in default preview. After the upload is successful, if the file file exists in the thumbUrl, the image preview can be displayed. If "),n("code",null,"onPreview"),t(" is configured, the default preview will be overwritten.")])],-1),$e=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUploadFiles")]),t(`
        `),n("span",{class:"token attr-name"},":icon"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("icon"),n("span",{class:"token punctuation"},'"')]),t(`
        `),n("span",{class:"token attr-name"},"type"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("imageCard"),n("span",{class:"token punctuation"},'"')]),t(`
        `),n("span",{class:"token attr-name"},"@retry"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onRetry"),n("span",{class:"token punctuation"},'"')]),t(`
        `),n("span",{class:"token attr-name"},"@download"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onDownload"),n("span",{class:"token punctuation"},'"')]),t(`
        `),n("span",{class:"token attr-name"},"@preview"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onPreview"),n("span",{class:"token punctuation"},'"')]),t(`
        `),n("span",{class:"token attr-name"},"@remove"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("onRemove"),n("span",{class:"token punctuation"},'"')]),t(`
      `),n("span",{class:"token punctuation"},"/>")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" UploadFile "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/upload'"),t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" Ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" useMessage "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/message'"),t(`

`),n("span",{class:"token keyword"},"const"),t(" icon "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'paper-clip'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token literal-property property"},"download"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'download'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token literal-property property"},"retry"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'edit'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token literal-property property"},"remove"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'delete'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token literal-property property"},"preview"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'zoom-in'"),n("span",{class:"token punctuation"},","),t(`
`),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token literal-property property"},"files"),n("span",{class:"token operator"},":"),t(" Ref"),n("span",{class:"token operator"},"<"),t("UploadFile"),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token operator"},">"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),t(`
  `),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token literal-property property"},"key"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'default'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"name"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'error.png'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"status"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'error'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"errorTip"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'error'"),n("span",{class:"token punctuation"},","),t(`
    `),n("span",{class:"token literal-property property"},"thumbUrl"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token string"},"'/icons/logo.svg'"),n("span",{class:"token punctuation"},","),t(`
  `),n("span",{class:"token punctuation"},"}"),n("span",{class:"token punctuation"},","),t(`
`),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token punctuation"},"{"),t(" warning"),n("span",{class:"token punctuation"},","),t(" success "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"useMessage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onDownload"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" UploadFile")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token function"},"warning"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token string"},"Insufficient permissions to download file "),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),t("file"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"},"."),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onPreview"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" UploadFile")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  window`),n("span",{class:"token punctuation"},"."),n("span",{class:"token function"},"open"),n("span",{class:"token punctuation"},"("),t("file"),n("span",{class:"token punctuation"},"."),t("thumbUrl"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onRemove"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" UploadFile")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token function"},"warning"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),t("file"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"}," is not allowed to be deleted."),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token keyword"},"return"),t(),n("span",{class:"token boolean"},"false"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onRetry"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" UploadFile")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token function"},"success"),n("span",{class:"token punctuation"},"("),n("span",{class:"token template-string"},[n("span",{class:"token template-punctuation string"},"`"),n("span",{class:"token interpolation"},[n("span",{class:"token interpolation-punctuation punctuation"},"${"),t("file"),n("span",{class:"token punctuation"},"."),t("name"),n("span",{class:"token interpolation-punctuation punctuation"},"}")]),n("span",{class:"token string"}," has been retry."),n("span",{class:"token template-punctuation string"},"`")]),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function qe(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"Operation",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%20v-model%3Afiles%3D%22files%22%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%3E%0A%20%20%20%20%3CIxButton%3EUpload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3E%0A%20%20%20%20%20%20%3CIxUploadFiles%0A%20%20%20%20%20%20%20%20%3Aicon%3D%22icon%22%0A%20%20%20%20%20%20%20%20type%3D%22imageCard%22%0A%20%20%20%20%20%20%20%20%40retry%3D%22onRetry%22%0A%20%20%20%20%20%20%20%20%40download%3D%22onDownload%22%0A%20%20%20%20%20%20%20%20%40preview%3D%22onPreview%22%0A%20%20%20%20%20%20%20%20%40remove%3D%22onRemove%22%0A%20%20%20%20%20%20%2F%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20type%20%7B%20UploadFile%20%7D%20from%20'%40idux%2Fcomponents%2Fupload'%0Aimport%20type%20%7B%20Ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20useMessage%20%7D%20from%20'%40idux%2Fcomponents%2Fmessage'%0A%0Aconst%20icon%20%3D%20ref(%7B%0A%20%20file%3A%20'paper-clip'%2C%0A%20%20download%3A%20'download'%2C%0A%20%20retry%3A%20'edit'%2C%0A%20%20remove%3A%20'delete'%2C%0A%20%20preview%3A%20'zoom-in'%2C%0A%7D)%0Aconst%20files%3A%20Ref%3CUploadFile%5B%5D%3E%20%3D%20ref(%5B%0A%20%20%7B%0A%20%20%20%20key%3A%20'default'%2C%0A%20%20%20%20name%3A%20'error.png'%2C%0A%20%20%20%20status%3A%20'error'%2C%0A%20%20%20%20errorTip%3A%20'error'%2C%0A%20%20%20%20thumbUrl%3A%20'%2Ficons%2Flogo.svg'%2C%0A%20%20%7D%2C%0A%5D)%0Aconst%20%7B%20warning%2C%20success%20%7D%20%3D%20useMessage()%0Aconst%20onDownload%20%3D%20(file%3A%20UploadFile)%20%3D%3E%20%7B%0A%20%20warning(%60Insufficient%20permissions%20to%20download%20file%20%24%7Bfile.name%7D.%60)%0A%7D%0Aconst%20onPreview%20%3D%20(file%3A%20UploadFile)%20%3D%3E%20%7B%0A%20%20window.open(file.thumbUrl)%0A%7D%0Aconst%20onRemove%20%3D%20(file%3A%20UploadFile)%20%3D%3E%20%7B%0A%20%20warning(%60%24%7Bfile.name%7D%20is%20not%20allowed%20to%20be%20deleted.%60)%0A%20%20return%20false%0A%7D%0Aconst%20onRetry%20%3D%20(file%3A%20UploadFile)%20%3D%3E%20%7B%0A%20%20success(%60%24%7Bfile.name%7D%20has%20been%20retry.%60)%0A%7D%0A%3C%2Fscript%3E%0A",title:s.lang==="zh"?"文件操作":"File operation"},{description:r(()=>[s.lang==="zh"?(m(),F(z,{key:0},[Ee,Be],64)):w("",!0),s.lang==="en"?(m(),F(z,{key:1},[Ue,Ie],64)):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[$e]),_:1},8,["title"])}const Re=E(be,[["render",qe]]),Se=v({__name:"CustomFileList",setup(s){const{info:a}=fn(),o=b([]),e=(p,c)=>{c(p),p.percent=0,a("Request cancelled.")},u=(p,c)=>{c(p),a("Request retryed.")};return(p,c)=>{const l=S,k=K,d=$;return m(),A(d,{files:o.value,"onUpdate:files":c[0]||(c[0]=f=>o.value=f),action:"https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"},{list:r(({abort:f,upload:h})=>[(m(!0),F(z,null,$n(o.value,_=>(m(),F("div",{key:_.key,class:"upload-file"},[n("a",{class:j(`file file-${_.status}`),href:"file.thumbUrl"},dn(_.name),3),n("div",null,[n("span",null,dn(_.percent.toFixed(2))+"% ",1),W(i(k,{name:"close",onClick:()=>e(_,f)},null,8,["onClick"]),[[G,_.status==="uploading"]]),W(i(k,{name:"reload",onClick:()=>u(_,h)},null,8,["onClick"]),[[G,_.status==="error"]])])]))),128))]),default:r(()=>[i(l,null,{default:r(()=>[t("Upload")]),_:1})]),_:1},8,["files"])}}});const Ne=E(Se,[["__scopeId","data-v-a2299f0e"]]),Te=v({name:"CustomFileList",components:{"raw-demo":Ne},setup(){const{lang:s}=B(I);return{lang:s}}}),Me=n("p",null,[t("支持在"),n("code",null,"#list"),t("插槽内自定义文件列表展示，提供以下内置工具函数")],-1),Le=n("ul",null,[n("li",null,[t("若使用内置的请求函数，可以"),n("code",null,"upload"),t("重新提交上传请求")]),n("li",null,[t("若使用内置的请求函数，可用"),n("code",null,"abort"),t("中断请求")])],-1),Pe=n("p",null,[t("Supports custom file list display in the "),n("code",null,"#list"),t(" slot, and provides the following built-in tool functions")],-1),ze=n("ul",null,[n("li",null,[t("If you use the built-in request function, you can resubmit the upload request by "),n("code",null,"upload")]),n("li",null,[t("If you use the built-in request function, you can use "),n("code",null,"abort"),t(" to interrupt the request")])],-1),je=n("div",null,[n("pre",{class:"language-html"},[n("code",null,[n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxUpload")]),t(),n("span",{class:"token attr-name"},[n("span",{class:"token namespace"},"v-model:"),t("files")]),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("files"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"action"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("https://run.mocky.io/v3/7564bc4f-780e-43f7-bc58-467959ae3354"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t("Upload"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxButton")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("template")]),t(),n("span",{class:"token attr-name"},"#list"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("{ abort, upload }"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("div")]),t(),n("span",{class:"token attr-name"},"v-for"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("file in files"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},":key"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("file.key"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("upload-file"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("a")]),t(),n("span",{class:"token attr-name"},":class"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("`file file-${file.status}`"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"href"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("file.thumbUrl"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),t("{{ file.name }}"),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("a")]),n("span",{class:"token punctuation"},">")]),t(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("div")]),n("span",{class:"token punctuation"},">")]),t(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("span")]),n("span",{class:"token punctuation"},">")]),t("{{ file.percent.toFixed(2) }}% "),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("span")]),n("span",{class:"token punctuation"},">")]),t(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxIcon")]),t(),n("span",{class:"token attr-name"},"v-show"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("file.status === 'uploading'"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"name"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("close"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("() => onAbort(file, abort)"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxIcon")]),n("span",{class:"token punctuation"},">")]),t(`
          `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("IxIcon")]),t(),n("span",{class:"token attr-name"},"v-show"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("file.status === 'error'"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"name"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("reload"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"@click"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("() => onRetry(file, upload)"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxIcon")]),n("span",{class:"token punctuation"},">")]),t(`
        `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("div")]),n("span",{class:"token punctuation"},">")]),t(`
      `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("div")]),n("span",{class:"token punctuation"},">")]),t(`
    `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`
  `),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("IxUpload")]),n("span",{class:"token punctuation"},">")]),t(`
`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("template")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("script")]),t(),n("span",{class:"token attr-name"},"setup"),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("ts"),n("span",{class:"token punctuation"},'"')]),n("span",{class:"token punctuation"},">")]),n("span",{class:"token script"},[n("span",{class:"token language-javascript"},[t(`
`),n("span",{class:"token keyword"},"import"),t(" type "),n("span",{class:"token punctuation"},"{"),t(" UploadFile "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/upload'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" ref "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'vue'"),t(`

`),n("span",{class:"token keyword"},"import"),t(),n("span",{class:"token punctuation"},"{"),t(" useMessage "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token keyword"},"from"),t(),n("span",{class:"token string"},"'@idux/components/message'"),t(`

`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token punctuation"},"{"),t(" info "),n("span",{class:"token punctuation"},"}"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"useMessage"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(" files "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token function"},"ref"),n("span",{class:"token punctuation"},"("),n("span",{class:"token punctuation"},"["),n("span",{class:"token punctuation"},"]"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onAbort"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),t("file"),n("span",{class:"token operator"},":"),t(" UploadFile"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token function-variable function"},"abort"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" UploadFile")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token keyword"},"void"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token function"},"abort"),n("span",{class:"token punctuation"},"("),t("file"),n("span",{class:"token punctuation"},")"),t(`
  file`),n("span",{class:"token punctuation"},"."),t("percent "),n("span",{class:"token operator"},"="),t(),n("span",{class:"token number"},"0"),t(`
  `),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'Request cancelled.'"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token keyword"},"const"),t(),n("span",{class:"token function-variable function"},"onRetry"),t(),n("span",{class:"token operator"},"="),t(),n("span",{class:"token punctuation"},"("),t("file"),n("span",{class:"token operator"},":"),t(" UploadFile"),n("span",{class:"token punctuation"},","),t(),n("span",{class:"token function-variable function"},"upload"),n("span",{class:"token operator"},":"),t(),n("span",{class:"token punctuation"},"("),n("span",{class:"token parameter"},[n("span",{class:"token literal-property property"},"file"),n("span",{class:"token operator"},":"),t(" UploadFile")]),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token keyword"},"void"),n("span",{class:"token punctuation"},")"),t(),n("span",{class:"token operator"},"=>"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token function"},"upload"),n("span",{class:"token punctuation"},"("),t("file"),n("span",{class:"token punctuation"},")"),t(`
  `),n("span",{class:"token function"},"info"),n("span",{class:"token punctuation"},"("),n("span",{class:"token string"},"'Request retryed.'"),n("span",{class:"token punctuation"},")"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("script")]),n("span",{class:"token punctuation"},">")]),t(`

`),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"<"),t("style")]),t(),n("span",{class:"token attr-name"},"lang"),n("span",{class:"token attr-value"},[n("span",{class:"token punctuation attr-equals"},"="),n("span",{class:"token punctuation"},'"'),t("less"),n("span",{class:"token punctuation"},'"')]),t(),n("span",{class:"token attr-name"},"scoped"),n("span",{class:"token punctuation"},">")]),n("span",{class:"token style"},[n("span",{class:"token language-css"},[t(`
`),n("span",{class:"token selector"},".upload-file"),t(),n("span",{class:"token punctuation"},"{"),t(`
  `),n("span",{class:"token property"},"display"),n("span",{class:"token punctuation"},":"),t(" flex"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token property"},"justify-content"),n("span",{class:"token punctuation"},":"),t(" space-between"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token property"},"border-bottom"),n("span",{class:"token punctuation"},":"),t(" 1px solid #ddd"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token property"},"width"),n("span",{class:"token punctuation"},":"),t(" 400px"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token property"},"height"),n("span",{class:"token punctuation"},":"),t(" 32px"),n("span",{class:"token punctuation"},";"),t(`
  `),n("span",{class:"token property"},"line-height"),n("span",{class:"token punctuation"},":"),t(" 32px"),n("span",{class:"token punctuation"},";"),t(`

  `),n("span",{class:"token selector"},".file"),t(),n("span",{class:"token punctuation"},"{"),t(`
    `),n("span",{class:"token property"},"color"),n("span",{class:"token punctuation"},":"),t(" #1c6eff"),n("span",{class:"token punctuation"},";"),t(`
    `),n("span",{class:"token property"},"text-decoration"),n("span",{class:"token punctuation"},":"),t(" none"),n("span",{class:"token punctuation"},";"),t(`
    `),n("span",{class:"token selector"},"&-error"),t(),n("span",{class:"token punctuation"},"{"),t(`
      `),n("span",{class:"token property"},"color"),n("span",{class:"token punctuation"},":"),t(" red"),n("span",{class:"token punctuation"},";"),t(`
    `),n("span",{class:"token punctuation"},"}"),t(`
  `),n("span",{class:"token punctuation"},"}"),t(`
`),n("span",{class:"token punctuation"},"}"),t(`
`)])]),n("span",{class:"token tag"},[n("span",{class:"token tag"},[n("span",{class:"token punctuation"},"</"),t("style")]),n("span",{class:"token punctuation"},">")]),t(`
`)])])],-1);function Oe(s,a,o,e,u,p){const c=D("raw-demo"),l=U;return m(),A(l,{packageName:"components",componentName:"upload",demoName:"CustomFileList",code:"%3Ctemplate%3E%0A%20%20%3CIxUpload%20v-model%3Afiles%3D%22files%22%20action%3D%22https%3A%2F%2Frun.mocky.io%2Fv3%2F7564bc4f-780e-43f7-bc58-467959ae3354%22%3E%0A%20%20%20%20%3CIxButton%3EUpload%3C%2FIxButton%3E%0A%20%20%20%20%3Ctemplate%20%23list%3D%22%7B%20abort%2C%20upload%20%7D%22%3E%0A%20%20%20%20%20%20%3Cdiv%20v-for%3D%22file%20in%20files%22%20%3Akey%3D%22file.key%22%20class%3D%22upload-file%22%3E%0A%20%20%20%20%20%20%20%20%3Ca%20%3Aclass%3D%22%60file%20file-%24%7Bfile.status%7D%60%22%20href%3D%22file.thumbUrl%22%3E%7B%7B%20file.name%20%7D%7D%3C%2Fa%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%3Cspan%3E%7B%7B%20file.percent.toFixed(2)%20%7D%7D%25%20%3C%2Fspan%3E%0A%20%20%20%20%20%20%20%20%20%20%3CIxIcon%20v-show%3D%22file.status%20%3D%3D%3D%20'uploading'%22%20name%3D%22close%22%20%40click%3D%22()%20%3D%3E%20onAbort(file%2C%20abort)%22%3E%3C%2FIxIcon%3E%0A%20%20%20%20%20%20%20%20%20%20%3CIxIcon%20v-show%3D%22file.status%20%3D%3D%3D%20'error'%22%20name%3D%22reload%22%20%40click%3D%22()%20%3D%3E%20onRetry(file%2C%20upload)%22%3E%3C%2FIxIcon%3E%0A%20%20%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%20%20%3C%2Fdiv%3E%0A%20%20%20%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxUpload%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20type%20%7B%20UploadFile%20%7D%20from%20'%40idux%2Fcomponents%2Fupload'%0A%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20useMessage%20%7D%20from%20'%40idux%2Fcomponents%2Fmessage'%0A%0Aconst%20%7B%20info%20%7D%20%3D%20useMessage()%0Aconst%20files%20%3D%20ref(%5B%5D)%0Aconst%20onAbort%20%3D%20(file%3A%20UploadFile%2C%20abort%3A%20(file%3A%20UploadFile)%20%3D%3E%20void)%20%3D%3E%20%7B%0A%20%20abort(file)%0A%20%20file.percent%20%3D%200%0A%20%20info('Request%20cancelled.')%0A%7D%0Aconst%20onRetry%20%3D%20(file%3A%20UploadFile%2C%20upload%3A%20(file%3A%20UploadFile)%20%3D%3E%20void)%20%3D%3E%20%7B%0A%20%20upload(file)%0A%20%20info('Request%20retryed.')%0A%7D%0A%3C%2Fscript%3E%0A%0A%3Cstyle%20lang%3D%22less%22%20scoped%3E%0A.upload-file%20%7B%0A%20%20display%3A%20flex%3B%0A%20%20justify-content%3A%20space-between%3B%0A%20%20border-bottom%3A%201px%20solid%20%23ddd%3B%0A%20%20width%3A%20400px%3B%0A%20%20height%3A%2032px%3B%0A%20%20line-height%3A%2032px%3B%0A%0A%20%20.file%20%7B%0A%20%20%20%20color%3A%20%231c6eff%3B%0A%20%20%20%20text-decoration%3A%20none%3B%0A%20%20%20%20%26-error%20%7B%0A%20%20%20%20%20%20color%3A%20red%3B%0A%20%20%20%20%7D%0A%20%20%7D%0A%7D%0A%3C%2Fstyle%3E%0A",title:s.lang==="zh"?"自定义文件列表":"Custom file list"},{description:r(()=>[s.lang==="zh"?(m(),F(z,{key:0},[Me,Le],64)):w("",!0),s.lang==="en"?(m(),F(z,{key:1},[Pe,ze],64)):w("",!0)]),rawCode:r(()=>[i(c)]),highlightCode:r(()=>[je]),_:1},8,["title"])}const Ve=E(Te,[["render",Oe]]),He={},We={class:"markdown site-doc-api"},Ge=n("h3",{id:"IxUpload"},[n("span",null,"IxUpload"),n("a",{onclick:"window.location.hash = 'IxUpload'",class:"anchor"},"#")],-1),Xe=n("h4",{id:"UploadProps"},[n("span",null,"UploadProps"),n("a",{onclick:"window.location.hash = 'UploadProps'",class:"anchor"},"#")],-1),Ke=nn(`<table><thead><tr><th>名称</th><th>说明</th><th>类型</th><th>默认值</th><th>全局配置</th><th>备注</th></tr></thead><tbody><tr><td><code>v-model:files</code></td><td>文件列表，必选</td><td><code>UploadFile[]</code></td><td><code>[]</code></td><td>-</td><td>-</td></tr><tr><td><code>accept</code></td><td>允许上传的文件类型，详见 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTML/Element/input/file" target="_blank" rel="noopener">原生input accept</a></td><td><code>string</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>action</code></td><td>上传文件的地址，必选</td><td><code>string | (file: UploadFile) =&gt; Promise&lt;string&gt;</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>dragable</code></td><td>是否启用拖拽上传</td><td><code>boolean</code></td><td><code>false</code></td><td>✅</td><td>-</td></tr><tr><td><code>disabled</code></td><td>是否禁用</td><td><code>boolean</code></td><td><code>false</code></td><td>-</td><td>自定义的触发按钮和自定义的文件列表，disabled需单独处理</td></tr><tr><td><code>maxCount</code></td><td>限制上传文件的数量。当为 1 时，始终用最新上传的文件代替当前文件</td><td><code>number</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>multiple</code></td><td>是否支持多选文件，开启后按住 ctrl 可选择多个文件</td><td><code>boolean</code></td><td><code>false</code></td><td>✅</td><td>-</td></tr><tr><td><code>directory</code></td><td>支持上传文件夹（<a href="https://caniuse.com/#feat=input-file-directory" target="_blank" rel="noopener">caniuse</a>）</td><td><code>boolean</code></td><td><code>false</code></td><td>✅</td><td>-</td></tr><tr><td><code>progress</code></td><td>进度条配置，见 <a href="/components/progress/zh#ProgressProps">ProgressProps</a></td><td><code>ProgressProps</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>name</code></td><td>发到后台的文件参数名</td><td><code>string</code></td><td><code>file</code></td><td>✅</td><td>-</td></tr><tr><td><code>withCredentials</code></td><td>请求是否携带cookie</td><td><code>boolean</code></td><td><code>false</code></td><td>✅</td><td>-</td></tr><tr><td><code>customRequest</code></td><td>覆盖内置的上传行为，自定义上传实现</td><td><code>(option: UploadRequestOption) =&gt; Promise&lt;UploadRequestHandler | void&gt; | UploadRequestHandler | void</code></td><td>基于XMLHttpRequest实现</td><td>-</td><td>-</td></tr><tr><td><code>requestData</code></td><td>上传附加的参数</td><td><code>Record&lt;string, unknown&gt; | ((file: UploadFile) =&gt; Record&lt;string, unknown&gt; | Promise&lt;Record&lt;string, unknown&gt;&gt;)</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>requestHeaders</code></td><td>设置上传请求的请求头</td><td><code>UploadRequestHeader</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>requestMethod</code></td><td>上传请求的http method</td><td><code>UploadRequestMethod</code></td><td><code>post</code></td><td>✅</td><td>-</td></tr><tr><td><code>onSelect</code></td><td>选中文件时钩子</td><td><code>(file: File[], filteredFiles: FilteredFile[]) =&gt; boolean | File[] | Promise&lt;boolean | File[]&gt;</code></td><td>-</td><td>-</td><td>第二个参数代表选择后由于最大数量或者文件类型被过滤掉的文件</td></tr><tr><td><code>onMaxCountExceeded</code></td><td>当选中上传的数量超过最大数量是触发</td><td><code>() =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onFileStatusChange</code></td><td>上传文件改变时的状态</td><td><code>(file: UploadFile) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onBeforeUpload</code></td><td>文件上传前的钩子，根据返回结果是否上传<br>返回<code>false</code>阻止上传<br>返回<code>Promise</code>对象<code>reject</code>时停止上传<br>返回<code>Promise</code>对象<code>resolve</code>时开始上传</td><td><code>(file: UploadFile) =&gt; boolean | UploadFile | Promise&lt;boolean | UploadFile&gt;</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onRequestChange</code></td><td>请求状态改变的钩子</td><td><code>(option: UploadRequestChangeOption) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr></tbody></table><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">FilteredFile</span> <span class="token punctuation">{</span>
  file<span class="token operator">:</span> File
  reason<span class="token operator">:</span> <span class="token string">&#39;acceptNotMatch&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;maxCountExceeded&#39;</span>
<span class="token punctuation">}</span></code></pre>`,2),Je=n("h3",{id:"IxUploadFiles"},[n("span",null,"IxUploadFiles"),n("a",{onclick:"window.location.hash = 'IxUploadFiles'",class:"anchor"},"#")],-1),Qe=n("h4",{id:"UploadFilesProps"},[n("span",null,"UploadFilesProps"),n("a",{onclick:"window.location.hash = 'UploadFilesProps'",class:"anchor"},"#")],-1),Ye=nn("<table><thead><tr><th>名称</th><th>说明</th><th>类型</th><th>默认值</th><th>全局配置</th><th>备注</th></tr></thead><tbody><tr><td><code>type</code></td><td>展示的形式</td><td><code>text | image | imageCard</code></td><td><code>text</code></td><td>✅</td><td>-</td></tr><tr><td><code>icon</code></td><td>展示的icon</td><td><code>Record&lt;file | preview | download | remove | retry, string | VNode</code>&gt;</td><td><code>{file: &#39;paper-clip&#39;, remove: &#39;close&#39;, retry: &#39;edit&#39;}</code></td><td>✅</td><td>-</td></tr><tr><td><code>onDownload</code></td><td>点击下载文件时的回调</td><td><code>(file: UploadFile) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onPreview</code></td><td>点击文件链接或预览图标时的回调</td><td><code>(file: UploadFile) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onRemove</code></td><td>点击移除文件时的回调，返回boolean表示是否允许移除，支持Promise</td><td><code>(file: UploadFile) =&gt; boolean | Promise&lt;boolean&gt;</code></td><td><code>() =&gt; true</code></td><td>-</td><td>-</td></tr><tr><td><code>onRetry</code></td><td>点击重新上传时的回调</td><td><code>(file: UploadFile) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr></tbody></table>",1),Ze=n("h4",{id:"UploadSlots"},[n("span",null,"UploadSlots"),n("a",{onclick:"window.location.hash = 'UploadSlots'",class:"anchor"},"#")],-1),no=nn(`<table><thead><tr><th>名称</th><th>说明</th><th>参数类型</th><th>备注</th></tr></thead><tbody><tr><td><code>default</code></td><td>上传组件选择器的展示形式</td><td><code>slotProp</code></td><td>-</td></tr><tr><td><code>list</code></td><td>文件列表自定义渲染</td><td><code>{abort: (file: UploadFile) =&gt; void, upload: (file: UploadFile) =&gt; void}</code></td><td>-</td></tr><tr><td><code>tip</code></td><td>上传提示区</td><td>-</td><td>-</td></tr></tbody></table><pre class="language-typescript"><code><span class="token comment">// 上传文件</span>
<span class="token keyword">interface</span> <span class="token class-name">UploadFile</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> VKey <span class="token comment">// 唯一标识</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// 文件名</span>
  raw<span class="token operator">?</span><span class="token operator">:</span> File
  status<span class="token operator">?</span><span class="token operator">:</span> <span class="token string">&#39;selected&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;cancel&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;uploading&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;error&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;success&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;abort&#39;</span> <span class="token comment">// 当前状态</span>
  error<span class="token operator">?</span><span class="token operator">:</span> UploadRequestError <span class="token comment">// 详细的报错信息，比如请求失败时</span>
  errorTip<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span> <span class="token comment">// 小i报错提示文本</span>
  thumbUrl<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>  <span class="token comment">// 缩略图链接</span>
  percent<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">number</span> <span class="token comment">// 上传进度</span>
  response<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span> <span class="token comment">// 服务端响应内容</span>
<span class="token punctuation">}</span>

<span class="token comment">// 自定义上传方法的参数</span>
<span class="token keyword">interface</span> <span class="token class-name">UploadRequestOption<span class="token operator">&lt;</span><span class="token constant">T</span> <span class="token operator">=</span> <span class="token builtin">unknown</span><span class="token operator">&gt;</span></span> <span class="token punctuation">{</span>
  onProgress<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>event<span class="token operator">:</span> UploadProgressEvent<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  onError<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>error<span class="token operator">:</span> UploadRequestError<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  onSuccess<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span>body<span class="token operator">:</span> <span class="token constant">T</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  file<span class="token operator">:</span> File
  withCredentials<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>
  action<span class="token operator">:</span> <span class="token builtin">string</span>
  requestHeaders<span class="token operator">?</span><span class="token operator">:</span> UploadRequestHeader
  requestMethod<span class="token operator">:</span> UploadRequestMethod
  requestData<span class="token operator">?</span><span class="token operator">:</span> DataType
<span class="token punctuation">}</span>

<span class="token comment">// 请求状态改变钩子参数</span>
<span class="token keyword">interface</span> <span class="token class-name">UploadRequestChangeOption</span> <span class="token punctuation">{</span>
  file<span class="token operator">:</span> UploadFile
  status<span class="token operator">:</span> <span class="token string">&#39;loadstart&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;progress&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;abort&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;error&#39;</span> <span class="token operator">|</span> <span class="token string">&#39;loadend&#39;</span>
  response<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">any</span>
  event<span class="token operator">?</span><span class="token operator">:</span> UploadProgressEvent
  error<span class="token operator">?</span><span class="token operator">:</span> UploadRequestError
<span class="token punctuation">}</span></code></pre>`,2);function to(s,a){const o=mn,e=ln;return m(),F("section",We,[i(e,{class:"site-anchor",affix:"",offset:16},{default:r(()=>[i(o,{href:"#IxUpload",title:"IxUpload"},{default:r(()=>[i(o,{href:"#UploadProps",title:"UploadProps"})]),_:1}),i(o,{href:"#IxUploadFiles",title:"IxUploadFiles"},{default:r(()=>[i(o,{href:"#UploadFilesProps",title:"UploadFilesProps"}),i(o,{href:"#UploadSlots",title:"UploadSlots"})]),_:1})]),_:1}),Ge,Xe,Ke,Je,Qe,Ye,Ze,no])}const so=E(He,[["render",to]]),ao={},eo={class:"markdown site-doc-design"},oo=n("h2",{id:"组件定义"},[n("span",null,"组件定义"),n("a",{onclick:"window.location.hash = '组件定义'",class:"anchor"},"#")],-1),co=n("p",null,"用于即时上传文件，并将文件从本地计算机上传至远程计算机系统。",-1),po=n("h2",{id:"使用场景"},[n("span",null,"使用场景"),n("a",{onclick:"window.location.hash = '使用场景'",class:"anchor"},"#")],-1),lo=n("ul",null,[n("li",null,"在表单页面中上传体积较小的文件，一般可快速完成上传，用户无需长时间等待。"),n("li",null,"若文件体积较大，请使用【选择文件】组件。")],-1),uo=n("h2",{id:"组件构成"},[n("span",null,"组件构成"),n("a",{onclick:"window.location.hash = '组件构成'",class:"anchor"},"#")],-1),io=nn("<table><thead><tr><th>名称</th><th>说明</th></tr></thead><tbody><tr><td>上传文件按钮</td><td>点击触发文件选择弹窗，并默认筛选支持的格式。</td></tr><tr><td>文件显示区</td><td>明确告知用户上传的状态。例如：上传中、上传失败、上传成功等，已上传的文件支持删除和下载。</td></tr><tr><td>上传提示（可选）</td><td>需明确告知用户上传文件的格式、文件大小、上传数量限制（若可多个）等要求；示例文件下载按钮（可选）。</td></tr></tbody></table>",1);function ro(s,a){const o=mn,e=ln;return m(),F("section",eo,[i(e,{class:"site-anchor",affix:"",offset:16},{default:r(()=>[i(o,{href:"#组件定义",title:"组件定义"}),i(o,{href:"#使用场景",title:"使用场景"}),i(o,{href:"#组件构成",title:"组件构成"})]),_:1}),oo,co,po,lo,uo,io])}const ko=E(ao,[["render",ro]]),mo={},fo={class:"markdown site-doc-theme"},go=nn("<table><thead><tr><th>名称</th><th>描述</th><th>类型</th><th>default</th><th>dark</th></tr></thead><tbody><tr><td><code>listImgCardHeight</code></td><td></td><td><code>number</code></td><td><code>96</code></td><td><code>96</code></td></tr><tr><td><code>listImgCardWidth</code></td><td></td><td><code>number</code></td><td><code>96</code></td><td><code>96</code></td></tr><tr><td><code>listImgThumbHeight</code></td><td></td><td><code>number</code></td><td><code>48</code></td><td><code>48</code></td></tr><tr><td><code>listImgThumbWidth</code></td><td></td><td><code>number</code></td><td><code>48</code></td><td><code>48</code></td></tr><tr><td><code>listNameMaxWidth</code></td><td></td><td>`string</td><td>number`</td><td><code>calc(100% - 74px)</code></td></tr><tr><td><code>selectorDragableBorder</code></td><td></td><td><code>string</code></td><td><code>1px dashed #d3d7de</code></td><td><code>1px dashed #3C424D</code></td></tr><tr><td><code>selectorDragableBorderDragover</code></td><td></td><td><code>string</code></td><td><code>1px dashed #1c6eff</code></td><td><code>1px dashed #4083E8</code></td></tr></tbody></table>",1);function Ao(s,a){const o=ln;return m(),F("section",fo,[i(o,{class:"site-anchor",affix:"",offset:16}),go])}const ho=E(mo,[["render",Ao]]),Fo={name:"DocsComponentsUpload",components:{DemoBasic:Kt,DemoControlled:cs,DemoButtonDisplay:ms,DemoFilesList:xs,DemoListDisplay:$s,DemoCheck:Hs,DemoAction:na,DemoMaxCount:ra,DemoDragable:Da,DemoManual:qa,DemoHooks:ja,DemoIcon:ae,DemoStrokeColor:me,DemoCustomRequest:xe,DemoOperation:Re,DemoCustomFileList:Ve,ApiDocs:so,DesignDocs:ko,ThemeDocs:ho},setup(){var p;const s=Kn(),a=Jn(),o=b((p=s.query.tab)!=null?p:"demo");pn(o,c=>{a.push({query:{tab:c}})});const e=[{label:"示例",value:"demo"},{label:"API",value:"api"},,{label:"指南",value:"design"},{label:"主题",value:"theme"}].filter(Boolean),u=b(!1);return{checkedDoc:o,docRadioData:e,showDevDemo:u}}},yo={class:"site-doc-wrapper"},_o={class:"markdown site-doc-header"},vo=n("h1",null,[t("Upload"),n("span",{class:"subtitle"},"文件上传")],-1),Co=n("div",{class:"markdown site-doc-description"},null,-1),Do={class:"site-doc-demo"};function xo(s,a,o,e,u,p){const c=En,l=mn,k=ln,d=D("DemoBasic"),f=D("DemoControlled"),h=D("DemoButtonDisplay"),_=D("DemoFilesList"),y=D("DemoListDisplay"),g=D("DemoCheck"),x=D("DemoAction"),C=D("DemoMaxCount"),L=D("DemoDragable"),P=D("DemoManual"),N=D("DemoHooks"),M=D("DemoIcon"),tn=D("DemoStrokeColor"),sn=D("DemoCustomRequest"),an=D("DemoOperation"),en=D("DemoCustomFileList"),on=D("ApiDocs"),cn=D("DesignDocs"),O=D("ThemeDocs");return m(),F("article",yo,[n("section",_o,[vo,Co,i(c,{value:e.checkedDoc,"onUpdate:value":a[0]||(a[0]=Nn=>e.checkedDoc=Nn),dataSource:e.docRadioData,size:"lg",gap:"16px",mode:"primary",buttoned:""},null,8,["value","dataSource"])]),W(n("section",Do,[i(k,{class:"site-anchor",affix:"",offset:16},{default:r(()=>[(e.showDevDemo,m(),A(l,{key:0,href:"#components-upload-basic",title:"基本使用"})),(e.showDevDemo,m(),A(l,{key:1,href:"#components-upload-controlled",title:"受控使用"})),(e.showDevDemo,m(),A(l,{key:2,href:"#components-upload-button-display",title:"展示"})),(e.showDevDemo,m(),A(l,{key:3,href:"#components-upload-files-list",title:"已上传的文件列表"})),(e.showDevDemo,m(),A(l,{key:4,href:"#components-upload-list-display",title:"文件列表展示"})),(e.showDevDemo,m(),A(l,{key:5,href:"#components-upload-check",title:"校验文件"})),(e.showDevDemo,m(),A(l,{key:6,href:"#components-upload-action",title:"上传远程地址"})),(e.showDevDemo,m(),A(l,{key:7,href:"#components-upload-max-count",title:"限制数量"})),(e.showDevDemo,m(),A(l,{key:8,href:"#components-upload-dragable",title:"拖拽上传"})),(e.showDevDemo,m(),A(l,{key:9,href:"#components-upload-manual",title:"手动上传"})),(e.showDevDemo,m(),A(l,{key:10,href:"#components-upload-hooks",title:"钩子"})),(e.showDevDemo,m(),A(l,{key:11,href:"#components-upload-icon",title:"图标"})),(e.showDevDemo,m(),A(l,{key:12,href:"#components-upload-stroke-color",title:"进度条样式"})),(e.showDevDemo,m(),A(l,{key:13,href:"#components-upload-custom-request",title:"自定义请求"})),(e.showDevDemo,m(),A(l,{key:14,href:"#components-upload-operation",title:"文件操作"})),(e.showDevDemo,m(),A(l,{key:15,href:"#components-upload-custom-file-list",title:"自定义文件列表"}))]),_:1}),i(d),i(f),i(h),i(_),i(y),i(g),i(x),i(C),i(L),i(P),i(N),i(M),i(tn),i(sn),i(an),i(en)],512),[[G,e.checkedDoc==="demo"]]),W(i(on,null,null,512),[[G,e.checkedDoc==="api"]]),W(i(cn,null,null,512),[[G,e.checkedDoc==="design"]]),W(i(O,null,null,512),[[G,e.checkedDoc==="theme"]])])}const So=E(Fo,[["render",xo]]);export{So as default};
