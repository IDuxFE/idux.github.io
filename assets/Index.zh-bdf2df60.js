import{I as Q,a as rt}from"./index-1f98a350.js";import{_ as vt,I as Yt}from"./GlobalCodeBox-808db678.js";import{c as S,r as R,m as ft,w as q,d as Z,t as Jt,b as kt,at as Ct,l as F,y as L,q as i,a8 as ht,D as Qt,p as Zt,ah as _,ar as K,aj as B,an as e,ao as lt,as as N,ai as V,am as X,al as t,az as tt,ay as te,ak as ee,a9 as U,aa as W}from"./vendor-885c608a.js";import{ak as M,ao as ae,m as w,A as Y,bm as Dt,ar as ne,c as gt,b2 as oe,M as se,al as z,r as ce,ax as le,a6 as re,ab as de,ay as pe,az as ue,a as At,_ as j,k as ie}from"./index-ab015422.js";import{u as st}from"./globalConfig-86be21bf.js";import{u as yt}from"./useThemeToken-37ec1655.js";import{I as Tt}from"./index-7433ff32.js";import{I as ke}from"./index-a852a02d.js";import{I as ge}from"./index-61739262.js";import{I as me}from"./index-c93e6a81.js";import"./index-0175d819.js";import"./useInput-eaa56970.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const J="__TAG_SELECT_CREATION_DATA__";function ve(a,s){const[n,o]=M(void 0),{inputValue:p,inputFullyMatched:m,filteredData:r,dataMaxExceeded:d}=a,{selectedValue:k}=s,v=S(()=>{const D=[...r.value];return p.value&&!m.value&&!d.value&&D.push({key:J}),D}),A=S(()=>{const D=new Map;return v.value.forEach((c,g)=>{D.set(c.key,g)}),D}),f=R(0),u=D=>{var g,l;f.value=D,((g=v.value[D])==null?void 0:g.key)!==n.value&&o((l=v.value[D])==null?void 0:l.key)};return ft(()=>{var l;const D=v.value,c=(l=k.value)!=null&&l.length?k.value:[n.value],g=D.findIndex(h=>c.some(T=>h.key===T));u(g!==-1?ct(D,g,1):-1),q(v,h=>{var b;const T=Z(n.value)?-1:(b=A.value.get(n.value))!=null?b:-1;u(T!==-1?ct(h,T,1):0)},{flush:"post"})}),{activeValue:n,activeIndex:f,changeActiveValue:D=>{const c=v.value.findIndex(g=>g.key===D);c>-1&&(o(D),f.value=c)},changeActiveIndex:D=>{const c=ct(v.value,f.value+D,D%2);c!==f.value&&u(c)}}}function ct(a,s,n){const o=a.length;for(let p=0;p<o;p++){const m=(s+p*n+o)%o,{disabled:r}=a[m];if(!r)return m}return-1}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function fe(a,s,n,o,p,m,r){const{inputValue:d,getTagDataByKey:k}=s,{selectedValue:v}=n,{overlayOpened:A,setOverlayOpened:f}=p,{activeValue:u,changeActiveIndex:C}=m,{handleTagSelect:y,handleTagRemove:D,handleTagCreate:c}=r,{dataToSelect:g,handleTagSelectCancel:l}=o;return h=>{var T;switch(h.code){case"ArrowUp":h.preventDefault(),C(-1);break;case"ArrowDown":h.preventDefault(),C(1);break;case"Enter":{h.preventDefault();const b=u.value;(d.value||A.value)&&(b===J?c():Z(b)||y(k(b)));break}case"Backspace":{const b=(T=v.value)==null?void 0:T.length;if(g.value){a.confirmBeforeSelect!=="force"&&l();break}!d.value&&b&&D(v.value[b-1]);break}case"Escape":{h.preventDefault(),f(!1),g.value&&a.confirmBeforeSelect!=="force"&&l();break}}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ce(a,s,n,o){const{inputValue:p,createData:m,addData:r,modifyData:d}=a,{dataToSelect:k,handleTagSelect:v,handleTagSelectCancel:A,handleTagSelectOk:f}=s,{modalVisible:u,dataToRemove:C,handleTagDataRemove:y,handleModalOk:D,handleModalCancel:c,handleModalAfterClose:g}=n,{handleRemove:l,handleClear:h}=o;return{dataToSelect:k,dataToRemove:C,modalVisible:u,handleTagSelect:x=>{v(x)},handleTagSelectOk:f,handleTagSelectCancel:A,handleTagCreate:async()=>{if(!p.value)return;const x=m(p.value);await v(x)&&r(x)},handleTagRemove:l,handleTagClear:h,handleTagDataLabelInput:(x,O)=>{d({...O,label:x})},handleTagDataColorChange:(x,O)=>{d({...O,color:x})},handleTagDataRemove:y,handleTagDataRemoveOk:D,handleTagDataRemoveCancel:c,handleTagDataRemoveModalAfterClose:g}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function he(a){const[s,n]=ae(a,"open",!1),[o,p]=M(!1),[m,r]=M(!1),[d,k]=M(!1),v=u=>{d.value||n(u)},A=u=>{d.value||p(u)},f=u=>{d.value||r(u)};return q(s,(u,C)=>{!u&&C?A(!1):u&&!C&&(A(!1),f(!1))}),{overlayOpened:s,setOverlayOpened:v,editPanelOpened:o,setEditPanelOpened:A,selectConfirmPanelOpened:m,setSelectConfirmPanelOpened:f,locked:d,setLocked:k}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function bt(){let a;const s=new Promise(n=>{a=n});return{wait:()=>s,resolve:n=>a(n)}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function De(a,s,n){const[o,p]=M(void 0),[m,r]=M(!1),{removeData:d}=a,{handleRemove:k}=s,{setLocked:v}=n;let A;return{dataToRemove:o,modalVisible:m,handleTagDataRemove:D=>o.value?Promise.resolve(!1):(v(!0),p(D),r(!0),A=bt(),A.wait()),handleModalOk:()=>{r(!1),o.value&&(d(o.value),k(o.value.key)),p(void 0),A.resolve(!0)},handleModalCancel:()=>{r(!1),p(void 0),A.resolve(!1)},handleModalAfterClose:()=>{v(!1)}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Ae(a,s,n,o){const{setInputValue:p}=s,{isSelected:m,changeSelected:r}=n,{overlayOpened:d,setOverlayOpened:k,setSelectConfirmPanelOpened:v,setLocked:A}=o,[f,u]=M(void 0);let C,y=!1;const D=l=>{const h=l.key;return m(h)||!l?Promise.resolve(!1):(w(a.onTagSelect,l),a.confirmBeforeSelect?(p(void 0),y=!0,setTimeout(()=>{y=!1}),u(l),v(!0),k(!1),a.confirmBeforeSelect==="force"&&A(!0),C=bt(),C.wait()):(r(h),Promise.resolve(!0)))},c=()=>{A(!1),v(!1),f.value&&r(f.value.key),w(a.onTagSelectConfirm,f.value),u(void 0),C.resolve(!0)},g=()=>{A(!1),v(!1),w(a.onTagSelectCancel,f.value),u(void 0),C.resolve(!1)};return q(d,(l,h)=>{!y&&l!==h&&a.confirmBeforeSelect!=="force"&&f.value&&g()}),{dataToSelect:f,handleTagSelect:D,handleTagSelectOk:c,handleTagSelectCancel:g}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function ye(a,s,n){const{getTagDataByKey:o}=n,p=S(()=>s.value),m=S(()=>{var u,C;return((C=(u=p.value)==null?void 0:u.length)!=null?C:0)>=a.tagsLimit}),r=u=>{const C=Jt(s.value);u!==C&&(s.setValue(u),w(a.onChange,u,C))},d=S(()=>{var u,C;return(C=(u=p.value)==null?void 0:u.map(y=>o(y)).filter(Boolean))!=null?C:[]});return{selectedValue:p,selectedData:d,maxExceeded:m,isSelected:u=>{var C,y;return((y=(C=p.value)==null?void 0:C.findIndex(D=>D===u))!=null?y:-1)>-1},changeSelected:u=>{var c,g;const C=(c=p.value)!=null?c:[];((g=C==null?void 0:C.findIndex(l=>l===u))!=null?g:-1)>-1||C.length<a.tagsLimit&&r([...C,u])},handleRemove:u=>{var y;const C=o(u);C&&(r((y=p.value)==null?void 0:y.filter(D=>u!==D)),w(a.onTagRemove,C))},handleClear:u=>{r(void 0),w(a.onClear,u)}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Te(a,s){const n=[{key:"grey",name:s.colors.grey,labelColor:"var(--ix-pro-tag-select-preset-color-grey-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-grey-bg)"},{key:"green",name:s.colors.green,labelColor:"var(--ix-pro-tag-select-preset-color-green-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-green-bg)"},{key:"blue",name:s.colors.blue,labelColor:"var(--ix-pro-tag-select-preset-color-blue-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-blue-bg)"},{key:"yellow",name:s.colors.yellow,labelColor:"var(--ix-pro-tag-select-preset-color-yellow-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-yellow-bg)"},{key:"red",name:s.colors.red,labelColor:"var(--ix-pro-tag-select-preset-color-red-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-red-bg)"},{key:"orange",name:s.colors.orange,labelColor:"var(--ix-pro-tag-select-preset-color-orange-label)",backgroundColor:"var(--ix-pro-tag-select-preset-color-orange-bg)"}],o=S(()=>{var d;return(d=a.colors)!=null&&d.length?a.colors:n}),p=S(()=>new Map(o.value.map(d=>[d.key,d])));return{mergedTagSelectColors:o,getTagSelectColorByKey:d=>p.value.get(d),getRandomColor:()=>{const d=Math.floor(Math.random()*o.value.length);return o.value[d]}}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function be(a,s){const{getTagSelectColorByKey:n,getRandomColor:o}=s,[p,m]=M(void 0),r=S(()=>{var c,g;return(g=(c=a.dataSource)==null?void 0:c.map(l=>{var T;if(kt(l.color))return l;const h=(T=n(l.color))!=null?T:o();return{...l,color:h}}))!=null?g:[]}),d=S(()=>new Map(r.value.map(c=>[c.key,c]))),k=S(()=>r.value.length>a.tagDataLimit),v=S(()=>p.value?r.value.filter(c=>{const g=c.label;return Ee(Ct(g),p.value)}):r.value),A=S(()=>v.value.length===1&&v.value[0].label===p.value),f=c=>d.value.get(c);return{mergedData:r,filteredData:v,dataMaxExceeded:k,inputValue:p,inputFullyMatched:A,setInputValue:m,getTagDataByKey:f,addData:c=>{m(void 0),w(a.onTagDataAdd,c)},createData:c=>{var T;const g=o(),l={key:c,label:c,color:g},h=a.createdTagDataModifier?a.createdTagDataModifier(l):l;return{...h,color:kt(h.color)?h.color:(T=n(h.color))!=null?T:g}},removeData:c=>{w(a.onTagDataRemove,c)},modifyData:c=>{f(c.key)&&w(a.onTagDataChange,c)}}}function Ee(a,s){return!Z(a)&&String(a).toLowerCase().includes(s.toLowerCase())}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function Se(a){const{editPanelOpened:s}=a,[n,o]=M(void 0);return q(s,p=>{p||o(void 0)}),{dataToEdit:n,setDataToEdit:o}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const G=Symbol("proTagSelectContext"),xe=F({props:{disabled:Boolean,prefixCls:String,removable:Boolean,value:[String,Number,Symbol]},setup(a,{slots:s}){const{props:n,locale:o,mergedPrefixCls:p,dataToSelect:m,selectConfirmPanelOpened:r,getTagDataByKey:d,handleTagRemove:k,handleTagSelectOk:v,handleTagSelectCancel:A}=L(G),f=S(()=>{var c;if(!Z(a.value))return a.value===((c=m.value)==null?void 0:c.key)?m.value:d(a.value)}),u=S(()=>{var c;return a.removable&&((c=m.value)==null?void 0:c.key)!==a.value}),C=S(()=>{if(!f.value)return;const{color:{labelColor:c,backgroundColor:g,borderColor:l}}=f.value;return{"--ix-tag-color":c,"--ix-tag-background-color":g,"--ix-tag-border-color":l!=null?l:g}}),y=c=>{a.value&&(c.preventDefault(),c.stopImmediatePropagation(),k(a.value))},D=()=>{var g;const c=`${p.value}-select-confirm`;return i("div",{class:c},[i(ne,{class:`${c}-header`,header:n.selectConfirmHeader,size:"sm"},null),i("div",{class:`${c}-content`},[(g=s.selectConfirmContent)==null?void 0:g.call(s,f.value)]),i("div",{class:`${c}-footer`},[i(gt,{mode:"primary",size:"xs",onClick:v},{default:()=>[o.ok]}),i(gt,{size:"xs",onClick:A},{default:()=>[o.cancel]})])])};return()=>{var g,l;const c=(g=s.selectedLabel)!=null?g:s.tagLabel;return i(Dt,{trigger:"manual",showArrow:!0,visible:r.value&&((l=m.value)==null?void 0:l.key)===a.value},{default:()=>[i(Tt,{shape:"round",class:`${p.value}-selected-tag`,style:C.value},{default:()=>{var h,T;return[(T=c==null?void 0:c(f.value))!=null?T:(h=f.value)==null?void 0:h.label,u.value&&i(Y,{class:`${p.value}-selected-tag-remove-icon`,name:"close",onClick:y},null)]}})],content:D})}}}),Be=F({setup(a,{slots:s}){const{locale:n,props:o,mergedPrefixCls:p,modalVisible:m,dataToRemove:r,handleTagDataRemoveOk:d,handleTagDataRemoveCancel:k,handleTagDataRemoveModalAfterClose:v}=L(G),A=S(()=>{var f;return{header:(f=o.removeConfirmHeader)!=null?f:n.removeTag,title:o.removeConfirmTitle,closable:!0,visible:m.value,onAfterClose:v,onClose:k,onOk:d,onCancel:k}});return()=>{const f=`${p.value}-remove-confirm-modal`,u={title:s.removeConfirmTitle?()=>r.value?s.removeConfirmTitle(r.value):void 0:void 0,default:s.removeConfirmContent?()=>r.value?s.removeConfirmContent(r.value):void 0:void 0};return i(oe,ht({type:"confirm",class:f},A.value),u)}}}),_e=F({setup(){const{locale:a,activeValue:s,mergedPrefixCls:n,inputValue:o,changeActiveValue:p,handleTagCreate:m}=L(G),r=S(()=>{const k=`${n.value}-option`;return{[k]:!0,[`${k}-active`]:J===s.value}}),d=()=>{p(J)};return()=>i("div",{class:r.value,onMouseenter:d,onClick:m},[i("span",{class:`${n.value}-creation-label`},[a.createTag]),i("span",{class:`${n.value}-creation-input`},[o.value])])}}),Ie=F({props:{data:{type:Object,required:!0}},setup(a){const{locale:s,mergedPrefixCls:n,mergedTagSelectColors:o,editPanelOpened:p,dataToEdit:m,triggerRef:r,focused:d,handleTagDataLabelInput:k,handleTagDataRemove:v,handleTagDataColorChange:A}=L(G),{globalHashId:f,hashId:u}=yt("proTagSelect"),C=R(),y=l=>{k(l,a.data)},D=()=>{v(a.data)},c=l=>{l.target instanceof HTMLInputElement||l.preventDefault()},g=(l,h)=>{const T=h.key===a.data.color.key,b=`${l}-item`,I={[b]:!0,[`${b}-selected`]:T},$={background:h.backgroundColor};return i("div",{class:I,onClick:()=>{A(h.key,a.data)}},[i("div",{class:`${b}-indicator`,style:$},null),i("span",null,[h.name]),T&&i(Y,{class:`${b}-check`,name:"check"},null)])};return ft(()=>{q([p,m],([l,h])=>{var T;l&&(h==null?void 0:h.key)===a.data.key?setTimeout(()=>{var b;(b=C.value)==null||b.focus()}):!l&&d.value&&((T=r.value)==null||T.focus())},{immediate:!0})}),()=>{const l=`${n.value}-edit-panel`;return i("div",{class:[l,f.value,u.value],onMousedown:c},[i("div",{class:`${l}-input`},[i(ge,{ref:C,class:`${l}-input-inner`,value:a.data.label,size:"sm",onChange:y},null)]),i("div",{class:`${l}-delete`,onClick:D},[i(Y,{class:`${l}-delete-icon`,name:"delete"},null),i("span",{class:`${l}-delete-label`},[s.remove])]),i("div",{class:`${l}-colors`},[o.value.map(h=>g(`${l}-colors`,h))])])}}}),we=F({props:{data:{type:Object,required:!0}},setup(a,{slots:s}){const{props:n,mergedPrefixCls:o,editPanelOpened:p,activeValue:m,dataToEdit:r,setDataToEdit:d,setEditPanelOpened:k,handleTagSelect:v,changeActiveValue:A}=L(G),f=S(()=>{const l=`${o.value}-option`;return{[l]:!0,[`${l}-active`]:a.data.key===m.value}}),u=S(()=>{const{color:{labelColor:l,backgroundColor:h,borderColor:T}}=a.data;return{"--ix-tag-color":l,"--ix-tag-background-color":h,"--ix-tag-border-color":T!=null?T:h}}),C=()=>{v(a.data)},y=l=>{var h;l.preventDefault(),l.stopImmediatePropagation(),((h=r.value)==null?void 0:h.key)!==a.data.key?(k(!0),d(a.data)):k(!p.value)},D=l=>{l.preventDefault(),l.stopImmediatePropagation()},c=()=>{A(a.data.key)},g=()=>i(Ie,{data:a.data},null);return()=>{var T,b,I;const l=o.value,{label:h}=a.data;return i("div",{class:f.value,onClick:C,onMouseenter:c},[(b=(T=s.optionLabel)==null?void 0:T.call(s,a.data))!=null?b:i(Tt,{class:`${l}-option-tag`,shape:"round",style:u.value},{default:()=>{var $,x;return[(x=($=s.tagLabel)==null?void 0:$.call(s,a.data))!=null?x:h]}}),n.dataEditable&&i(Dt,{placement:"bottomEnd",trigger:"manual",visible:p.value&&((I=r.value)==null?void 0:I.key)===a.data.key},{default:()=>[i("div",{class:`${l}-option-edit-trigger`,onClick:y,onMousedown:D},[i(Y,{name:"ellipsis"},null)])],content:g})])}}}),Fe=F({setup(a,{slots:s}){const n=se("common"),{locale:o,mergedPrefixCls:p,filteredData:m,dataMaxExceeded:r,selectedValue:d,inputValue:k,inputFullyMatched:v,setEditPanelOpened:A}=L(G),f=S(()=>!m.value.length&&(!k.value||r.value)),u=S(()=>k.value&&!v.value&&!r.value),C=y=>{A(!1),y.target instanceof HTMLInputElement||y.preventDefault()};return()=>{var D,c;const y=`${p.value}-panel`;return i("div",{class:[y,`${n.prefixCls}-scroll-min`],onMousedown:C},[r.value&&i("div",{class:`${y}-alert`},[(c=(D=s.maxExceededAlert)==null?void 0:D.call(s))!=null?c:i(ke,{icon:"info-circle"},{default:()=>{var g,l;return[o.maxExceededAlert.replace("${0}",Ct((l=(g=d.value)==null?void 0:g.length)!=null?l:0))]}})]),m.value.map(g=>i(we,{data:g},s)),f.value&&i("div",{class:`${y}-empty`},[o.empty]),u.value&&i(_e,null,null)])}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const Pe={control:{type:[String,Number,Object,Array],default:void 0},value:{type:Array,default:void 0},open:{type:Boolean,default:void 0},colors:Array,clearable:{type:Boolean,default:!1},clearIcon:{type:String,default:void 0},dataSource:Array,dataEditable:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},confirmBeforeSelect:{type:[Boolean,String],default:!1},maxTags:{type:[Number,String],default:Number.MAX_SAFE_INTEGER},tagsLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},tagDataLimit:{type:Number,default:Number.MAX_SAFE_INTEGER},overlayClassName:{type:String,default:void 0},overlayContainer:{type:[String,HTMLElement,Function],default:void 0},overlayMatchWidth:{type:[Boolean,String],default:"minWidth"},placeholder:{type:String,default:void 0},readonly:{type:Boolean,default:!1},createdTagDataModifier:Function,removeConfirmHeader:[String,Object],removeConfirmTitle:[String,Object,Function],selectConfirmHeader:[String,Object],size:{type:String,default:void 0},status:String,suffix:{type:String,default:void 0},"onUpdate:value":[Function,Array],"onUpdate:open":[Function,Array],onClear:[Function,Array],onChange:[Function,Array],onFocus:[Function,Array],onBlur:[Function,Array],onTagDataChange:[Function,Array],onTagDataRemove:[Function,Array],onTagDataAdd:[Function,Array],onTagSelect:[Function,Array],onTagSelectConfirm:[Function,Array],onTagSelectCancel:[Function,Array],onTagRemove:[Function,Array]};/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */function mt(a,s){const{colorContainerBg:n,tagCompColorAlpha:o}=a,{getBaseColors:p,getGreyColors:m}=s,r=m().base,d=p().green,k=p().blue,v=p().yellow,A=p().red,f=p().orange;return{presetColorGreyLabel:r,presetColorGreyBg:z(r,o,n),presetColorGreenLabel:d,presetColorGreenBg:z(d,o,n),presetColorBlueLabel:k,presetColorBlueBg:z(k,o,n),presetColorYellowLabel:v,presetColorYellowBg:z(v,o,n),presetColorRedLabel:A,presetColorRedBg:z(A,o,n),presetColorOrangeLabel:f,presetColorOrangeBg:z(f,o,n),colorIndicatorSize:12,panelMaxHeight:256,editPanelMinWidth:225,tagHeight:20}}/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const Re=(a,s,n)=>mt(a,n),Me=F({name:"IxProTagSelect",inheritAttrs:!1,props:Pe,setup(a,{expose:s,slots:n,attrs:o}){const p=st("common"),{globalHashId:m,hashId:r,registerToken:d}=yt("proTagSelect");d(Re);const k=st("locale"),v=st("tagSelect"),{accessor:A,control:f}=ce(),u=le(a,v);re(f);const C=de(a,f),[y,D]=M(!1),c=S(()=>`${p.prefixCls}-tag-select`),g=R(),l=()=>{var E;return(E=g.value)==null?void 0:E.focus()},h=()=>{var E;return(E=g.value)==null?void 0:E.blur()},T=Te(a,k.tagSelect),b=be(a,T),I=he(a),$=Se(I),x=ye(a,A,b),O=Ae(a,b,x,I),St=De(b,x,I),et=Ce(b,O,St,x),dt=ve(b,x),xt=fe(a,b,x,O,I,dt,et),{mergedData:Bt,inputValue:_t,setInputValue:It}=b,{selectedData:wt,selectedValue:pt}=x,{dataToSelect:at,handleTagSelectCancel:Ft}=O,{dataToEdit:ut}=$,{overlayOpened:it,setOverlayOpened:Pt,setEditPanelOpened:Rt}=I,{handleTagClear:Mt}=et,$t=S(()=>{const E=[...wt.value];return at.value&&E.push(at.value),E});q(Bt,E=>{(y.value||it.value)&&ut.value&&E.findIndex(P=>{var H;return P.key===((H=ut.value)==null?void 0:H.key)})<0&&(Rt(!1),setTimeout(()=>{var P;(P=g.value)==null||P.focus()}))}),Qt(G,{triggerRef:g,props:a,focused:y,mergedPrefixCls:c,locale:k.tagSelect,mergedTagSelectColors:T.mergedTagSelectColors,maxExceeded:x.maxExceeded,selectedValue:pt,...b,...$,...et,...I,...dt}),s({focus:l,blur:h});const Ot=()=>{var E;(E=g.value)==null||E.clearInput()},Vt=E=>{D(!0),w(a.onFocus,E)},Lt=E=>{D(!1),Ot(),a.confirmBeforeSelect!=="force"&&at.value&&Ft(),A.markAsBlurred(),w(a.onBlur,E)},Nt=S(()=>{const{overlayClassName:E}=a,P=c.value;return Zt({[m.value]:!!m.value,[r.value]:!!r.value,[`${P}-overlay`]:!0,[E||""]:!!E})}),qt=E=>i(xe,E,n),Gt=({borderless:E,status:P,clearable:H,clearIcon:nt,readonly:ot,disabled:zt,size:Kt,suffix:jt,suffixRotate:Ut,focused:Wt,opened:Xt})=>[i(ue,{ref:g,class:c.value,input:_t.value,allowInput:!0,borderless:E,clearable:H,clearIcon:nt,dataSource:$t.value,disabled:zt,focused:Wt,maxLabel:a.maxTags,multiple:!0,opened:Xt,placeholder:a.placeholder,readonly:ot,size:Kt,status:P,suffix:jt,suffixRotate:Ut,onClear:Mt,onInputValueChange:It},{selectedItem:qt,placeholder:n.placeholder,suffix:n.suffix,clearIcon:n.clearIcon})],Ht=()=>[i(Fe,null,n),i(Be,null,n)];return()=>{const{suffix:E,borderless:P,clearIcon:H,size:nt}=u.value,ot={autofocus:!1,overlayClassName:Nt.value,overlayContainer:a.overlayContainer,overlayContainerFallback:`${c.value}-overlay-container`,overlayMatchWidth:a.overlayMatchWidth,class:[c.value,m.value,r.value],borderless:P,value:pt.value,open:it.value,readonly:a.readonly,size:nt,status:C.value,suffix:E,clearable:a.clearable,clearIcon:H,disabled:A.disabled,onKeydown:xt,onFocus:Vt,onBlur:Lt,"onUpdate:open":Pt};return i(pe,ht(ot,o),{trigger:Gt,overlay:Ht})}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const Et=Me,$e=F({__name:"Basic",setup(a){const s=R([]),n=R([{key:"emphasis",label:"重点关注",color:"yellow"},{key:"alarm",label:"告警标签",color:"blue"},{key:"track",label:"持续追踪",color:"blue"},{key:"care-and-track",label:"持续关注并追踪",color:"green"},{key:"keeps-alarm",label:"持续告警",color:"red"}]),o=r=>{n.value=n.value.filter(d=>d.key!==r.key)},p=r=>{n.value.push(r)},m=r=>{const d=n.value.findIndex(k=>k.key===r.key);d<0||n.value.splice(d,1,r)};return(r,d)=>{const k=Et;return _(),K(k,{value:s.value,"onUpdate:value":d[0]||(d[0]=v=>s.value=v),placeholder:"请选择标签",dataSource:n.value,onTagDataRemove:o,onTagDataAdd:p,onTagDataChange:m,style:{width:"336px"}},{removeConfirmTitle:B(({label:v})=>[e(" 确定删除“"+lt(v)+"”标签吗？ ",1)]),removeConfirmContent:B(()=>[e(" 操作说明 ")]),_:1},8,["value","dataSource"])}}}),Oe=F({name:"Basic",components:{"raw-demo":$e},setup(){const{lang:a}=L(At);return{lang:a}}}),Ve={key:0},Le={key:1},Ne=t("div",null,[t("pre",{class:"language-html"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
  `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("IxProTagSelect")]),e(`
    `),t("span",{class:"token attr-name"},[t("span",{class:"token namespace"},"v-model:"),e("value")]),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("selectedValue"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token attr-name"},"placeholder"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("请选择标签"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token attr-name"},":dataSource"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("tagSelectData"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token attr-name"},":onTagDataRemove"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataRemove"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token attr-name"},":onTagDataAdd"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataAdd"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token attr-name"},":onTagDataChange"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataChange"),t("span",{class:"token punctuation"},'"')]),e(`
    `),t("span",{class:"token special-attr"},[t("span",{class:"token attr-name"},"style"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token value css language-css"},[t("span",{class:"token property"},"width"),t("span",{class:"token punctuation"},":"),e(" 336px")]),t("span",{class:"token punctuation"},'"')])]),e(`
  `),t("span",{class:"token punctuation"},">")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),e(),t("span",{class:"token attr-name"},"#removeConfirmTitle"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("{ label }"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),e(" 确定删除“{{ label }}”标签吗？ "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),e(),t("span",{class:"token attr-name"},"#removeConfirmContent"),t("span",{class:"token punctuation"},">")]),e(" 操作说明 "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
  `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("IxProTagSelect")]),t("span",{class:"token punctuation"},">")]),e(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`

`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("script")]),e(),t("span",{class:"token attr-name"},"setup"),e(),t("span",{class:"token attr-name"},"lang"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("ts"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[e(`
`),t("span",{class:"token keyword"},"import"),e(),t("span",{class:"token punctuation"},"{"),e(" ref "),t("span",{class:"token punctuation"},"}"),e(),t("span",{class:"token keyword"},"from"),e(),t("span",{class:"token string"},"'vue'"),e(`

`),t("span",{class:"token keyword"},"import"),e(),t("span",{class:"token punctuation"},"{"),e(" TagSelectData "),t("span",{class:"token punctuation"},"}"),e(),t("span",{class:"token keyword"},"from"),e(),t("span",{class:"token string"},"'@idux/pro/tag-select'"),e(`

`),t("span",{class:"token keyword"},"const"),e(" selectedValue "),t("span",{class:"token operator"},"="),e(" ref"),t("span",{class:"token operator"},"<"),e("string"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token keyword"},"const"),e(" tagSelectData "),t("span",{class:"token operator"},"="),e(" ref"),t("span",{class:"token operator"},"<"),e("TagSelectData"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'emphasis'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'重点关注'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'yellow'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'alarm'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'告警标签'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'blue'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'track'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续追踪'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'blue'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'care-and-track'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续关注并追踪'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'green'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'keeps-alarm'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续告警'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'red'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
`),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e(`

`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataRemove"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value "),t("span",{class:"token operator"},"="),e(" tagSelectData"),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"filter"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"d"),e(),t("span",{class:"token operator"},"=>"),e(" d"),t("span",{class:"token punctuation"},"."),e("key "),t("span",{class:"token operator"},"!=="),e(" data"),t("span",{class:"token punctuation"},"."),e("key"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataAdd"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"push"),t("span",{class:"token punctuation"},"("),e("data"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataChange"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  `),t("span",{class:"token keyword"},"const"),e(" index "),t("span",{class:"token operator"},"="),e(" tagSelectData"),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findIndex"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"d"),e(),t("span",{class:"token operator"},"=>"),e(" d"),t("span",{class:"token punctuation"},"."),e("key "),t("span",{class:"token operator"},"==="),e(" data"),t("span",{class:"token punctuation"},"."),e("key"),t("span",{class:"token punctuation"},")"),e(`
  `),t("span",{class:"token keyword"},"if"),e(),t("span",{class:"token punctuation"},"("),e("index "),t("span",{class:"token operator"},"<"),e(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token keyword"},"return"),e(`
  `),t("span",{class:"token punctuation"},"}"),e(`

  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"splice"),t("span",{class:"token punctuation"},"("),e("index"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),e(" data"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`)])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("script")]),t("span",{class:"token punctuation"},">")]),e(`

`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("style")]),e(),t("span",{class:"token attr-name"},"scoped"),e(),t("span",{class:"token attr-name"},"lang"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("less"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token style"}),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("style")]),t("span",{class:"token punctuation"},">")]),e(`
`)])])],-1);function qe(a,s,n,o,p,m){const r=N("raw-demo"),d=vt;return _(),K(d,{packageName:"pro",componentName:"tag-select",demoName:"Basic",code:"%3Ctemplate%3E%0A%20%20%3CIxProTagSelect%0A%20%20%20%20v-model%3Avalue%3D%22selectedValue%22%0A%20%20%20%20placeholder%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E6%A0%87%E7%AD%BE%22%0A%20%20%20%20%3AdataSource%3D%22tagSelectData%22%0A%20%20%20%20%3AonTagDataRemove%3D%22handleTagDataRemove%22%0A%20%20%20%20%3AonTagDataAdd%3D%22handleTagDataAdd%22%0A%20%20%20%20%3AonTagDataChange%3D%22handleTagDataChange%22%0A%20%20%20%20style%3D%22width%3A%20336px%22%0A%20%20%3E%0A%20%20%20%20%3Ctemplate%20%23removeConfirmTitle%3D%22%7B%20label%20%7D%22%3E%20%E7%A1%AE%E5%AE%9A%E5%88%A0%E9%99%A4%E2%80%9C%7B%7B%20label%20%7D%7D%E2%80%9D%E6%A0%87%E7%AD%BE%E5%90%97%EF%BC%9F%20%3C%2Ftemplate%3E%0A%20%20%20%20%3Ctemplate%20%23removeConfirmContent%3E%20%E6%93%8D%E4%BD%9C%E8%AF%B4%E6%98%8E%20%3C%2Ftemplate%3E%0A%20%20%3C%2FIxProTagSelect%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20TagSelectData%20%7D%20from%20'%40idux%2Fpro%2Ftag-select'%0A%0Aconst%20selectedValue%20%3D%20ref%3Cstring%5B%5D%3E(%5B%5D)%0Aconst%20tagSelectData%20%3D%20ref%3CTagSelectData%5B%5D%3E(%5B%0A%20%20%7B%0A%20%20%20%20key%3A%20'emphasis'%2C%0A%20%20%20%20label%3A%20'%E9%87%8D%E7%82%B9%E5%85%B3%E6%B3%A8'%2C%0A%20%20%20%20color%3A%20'yellow'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'alarm'%2C%0A%20%20%20%20label%3A%20'%E5%91%8A%E8%AD%A6%E6%A0%87%E7%AD%BE'%2C%0A%20%20%20%20color%3A%20'blue'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'track'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E8%BF%BD%E8%B8%AA'%2C%0A%20%20%20%20color%3A%20'blue'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'care-and-track'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E5%85%B3%E6%B3%A8%E5%B9%B6%E8%BF%BD%E8%B8%AA'%2C%0A%20%20%20%20color%3A%20'green'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'keeps-alarm'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E5%91%8A%E8%AD%A6'%2C%0A%20%20%20%20color%3A%20'red'%2C%0A%20%20%7D%2C%0A%5D)%0A%0Aconst%20handleTagDataRemove%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20tagSelectData.value%20%3D%20tagSelectData.value.filter(d%20%3D%3E%20d.key%20!%3D%3D%20data.key)%0A%7D%0Aconst%20handleTagDataAdd%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20tagSelectData.value.push(data)%0A%7D%0Aconst%20handleTagDataChange%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20const%20index%20%3D%20tagSelectData.value.findIndex(d%20%3D%3E%20d.key%20%3D%3D%3D%20data.key)%0A%20%20if%20(index%20%3C%200)%20%7B%0A%20%20%20%20return%0A%20%20%7D%0A%0A%20%20tagSelectData.value.splice(index%2C%201%2C%20data)%0A%7D%0A%3C%2Fscript%3E%0A%0A%3Cstyle%20scoped%20lang%3D%22less%22%3E%3C%2Fstyle%3E%0A",title:a.lang==="zh"?"基本使用":"Basic usage"},{description:B(()=>[a.lang==="zh"?(_(),V("p",Ve,"最简单的用法。")):X("",!0),a.lang==="en"?(_(),V("p",Le,"The simplest usage.")):X("",!0)]),rawCode:B(()=>[i(r)]),highlightCode:B(()=>[Ne]),_:1},8,["title"])}const Ge=j(Oe,[["render",qe]]),He=t("span",null,"force: ",-1),ze=F({__name:"ConfirmBeforeSelect",setup(a){const s=R(!1),n=R([]),o=R([{key:"emphasis",label:"重点关注",color:"yellow"},{key:"alarm",label:"告警标签",color:"blue"},{key:"track",label:"持续追踪",color:"blue"},{key:"care-and-track",label:"持续关注并追踪",color:"green"},{key:"keeps-alarm",label:"持续告警",color:"red"}]),p=d=>{o.value=o.value.filter(k=>k.key!==d.key)},m=d=>{o.value.push(d)},r=d=>{const k=o.value.findIndex(v=>v.key===d.key);k<0||o.value.splice(k,1,d)};return(d,k)=>{const v=Et,A=me,f=ie;return _(),K(f,{vertical:""},{default:B(()=>[i(v,{value:n.value,"onUpdate:value":k[0]||(k[0]=u=>n.value=u),placeholder:"请选择标签",dataSource:o.value,onTagDataRemove:p,onTagDataAdd:m,onTagDataChange:r,confirmBeforeSelect:s.value?"force":!0,selectConfirmHeader:"确定",style:{width:"336px"}},{removeConfirmTitle:B(({label:u})=>[e(" 确定删除“"+lt(u)+"”标签吗？ ",1)]),removeConfirmContent:B(()=>[e(" 操作说明 ")]),selectConfirmContent:B(({label:u})=>[e(" 确定选择“"+lt(u)+"”标签吗？ ",1)]),_:1},8,["value","dataSource","confirmBeforeSelect"]),i(f,null,{default:B(()=>[He,i(A,{checked:s.value,"onUpdate:checked":k[1]||(k[1]=u=>s.value=u)},null,8,["checked"])]),_:1})]),_:1})}}}),Ke=F({name:"ConfirmBeforeSelect",components:{"raw-demo":ze},setup(){const{lang:a}=L(At);return{lang:a}}}),je={key:0},Ue={key:1},We=t("div",null,[t("pre",{class:"language-html"},[t("code",null,[t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
  `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("IxSpace")]),e(),t("span",{class:"token attr-name"},"vertical"),t("span",{class:"token punctuation"},">")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("IxProTagSelect")]),e(`
      `),t("span",{class:"token attr-name"},[t("span",{class:"token namespace"},"v-model:"),e("value")]),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("selectedValue"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},"placeholder"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("请选择标签"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},":dataSource"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("tagSelectData"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},":onTagDataRemove"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataRemove"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},":onTagDataAdd"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataAdd"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},":onTagDataChange"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("handleTagDataChange"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},":confirmBeforeSelect"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("forceConfirmSelect ? 'force' : true"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token attr-name"},"selectConfirmHeader"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("确定"),t("span",{class:"token punctuation"},'"')]),e(`
      `),t("span",{class:"token special-attr"},[t("span",{class:"token attr-name"},"style"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),t("span",{class:"token value css language-css"},[t("span",{class:"token property"},"width"),t("span",{class:"token punctuation"},":"),e(" 336px")]),t("span",{class:"token punctuation"},'"')])]),e(`
    `),t("span",{class:"token punctuation"},">")]),e(`
      `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),e(),t("span",{class:"token attr-name"},"#removeConfirmTitle"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("{ label }"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),e(" 确定删除“{{ label }}”标签吗？ "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
      `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),e(),t("span",{class:"token attr-name"},"#removeConfirmContent"),t("span",{class:"token punctuation"},">")]),e(" 操作说明 "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
      `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("template")]),e(),t("span",{class:"token attr-name"},"#selectConfirmContent"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("{ label }"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),e(" 确定选择“{{ label }}”标签吗？ "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("IxProTagSelect")]),t("span",{class:"token punctuation"},">")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("IxSpace")]),t("span",{class:"token punctuation"},">")]),e(`
      `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("span")]),t("span",{class:"token punctuation"},">")]),e("force: "),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("span")]),t("span",{class:"token punctuation"},">")]),e(`
      `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("IxSwitch")]),e(),t("span",{class:"token attr-name"},[t("span",{class:"token namespace"},"v-model:"),e("checked")]),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("forceConfirmSelect"),t("span",{class:"token punctuation"},'"')]),e(),t("span",{class:"token punctuation"},"/>")]),e(`
    `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("IxSpace")]),t("span",{class:"token punctuation"},">")]),e(`
  `),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("IxSpace")]),t("span",{class:"token punctuation"},">")]),e(`
`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("template")]),t("span",{class:"token punctuation"},">")]),e(`

`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("script")]),e(),t("span",{class:"token attr-name"},"setup"),e(),t("span",{class:"token attr-name"},"lang"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("ts"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token script"},[t("span",{class:"token language-javascript"},[e(`
`),t("span",{class:"token keyword"},"import"),e(),t("span",{class:"token punctuation"},"{"),e(" ref "),t("span",{class:"token punctuation"},"}"),e(),t("span",{class:"token keyword"},"from"),e(),t("span",{class:"token string"},"'vue'"),e(`

`),t("span",{class:"token keyword"},"import"),e(),t("span",{class:"token punctuation"},"{"),e(" TagSelectData "),t("span",{class:"token punctuation"},"}"),e(),t("span",{class:"token keyword"},"from"),e(),t("span",{class:"token string"},"'@idux/pro/tag-select'"),e(`

`),t("span",{class:"token keyword"},"const"),e(" forceConfirmSelect "),t("span",{class:"token operator"},"="),e(),t("span",{class:"token function"},"ref"),t("span",{class:"token punctuation"},"("),t("span",{class:"token boolean"},"false"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token keyword"},"const"),e(" selectedValue "),t("span",{class:"token operator"},"="),e(" ref"),t("span",{class:"token operator"},"<"),e("string"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token keyword"},"const"),e(" tagSelectData "),t("span",{class:"token operator"},"="),e(" ref"),t("span",{class:"token operator"},"<"),e("TagSelectData"),t("span",{class:"token punctuation"},"["),t("span",{class:"token punctuation"},"]"),t("span",{class:"token operator"},">"),t("span",{class:"token punctuation"},"("),t("span",{class:"token punctuation"},"["),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'emphasis'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'重点关注'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'yellow'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'alarm'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'告警标签'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'blue'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'track'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续追踪'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'blue'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'care-and-track'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续关注并追踪'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'green'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token literal-property property"},"key"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'keeps-alarm'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"label"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'持续告警'"),t("span",{class:"token punctuation"},","),e(`
    `),t("span",{class:"token literal-property property"},"color"),t("span",{class:"token operator"},":"),e(),t("span",{class:"token string"},"'red'"),t("span",{class:"token punctuation"},","),e(`
  `),t("span",{class:"token punctuation"},"}"),t("span",{class:"token punctuation"},","),e(`
`),t("span",{class:"token punctuation"},"]"),t("span",{class:"token punctuation"},")"),e(`

`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataRemove"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value "),t("span",{class:"token operator"},"="),e(" tagSelectData"),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"filter"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"d"),e(),t("span",{class:"token operator"},"=>"),e(" d"),t("span",{class:"token punctuation"},"."),e("key "),t("span",{class:"token operator"},"!=="),e(" data"),t("span",{class:"token punctuation"},"."),e("key"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataAdd"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"push"),t("span",{class:"token punctuation"},"("),e("data"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`),t("span",{class:"token keyword"},"const"),e(),t("span",{class:"token function-variable function"},"handleTagDataChange"),e(),t("span",{class:"token operator"},"="),e(),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},[t("span",{class:"token literal-property property"},"data"),t("span",{class:"token operator"},":"),e(" TagSelectData")]),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token operator"},"=>"),e(),t("span",{class:"token punctuation"},"{"),e(`
  `),t("span",{class:"token keyword"},"const"),e(" index "),t("span",{class:"token operator"},"="),e(" tagSelectData"),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"findIndex"),t("span",{class:"token punctuation"},"("),t("span",{class:"token parameter"},"d"),e(),t("span",{class:"token operator"},"=>"),e(" d"),t("span",{class:"token punctuation"},"."),e("key "),t("span",{class:"token operator"},"==="),e(" data"),t("span",{class:"token punctuation"},"."),e("key"),t("span",{class:"token punctuation"},")"),e(`
  `),t("span",{class:"token keyword"},"if"),e(),t("span",{class:"token punctuation"},"("),e("index "),t("span",{class:"token operator"},"<"),e(),t("span",{class:"token number"},"0"),t("span",{class:"token punctuation"},")"),e(),t("span",{class:"token punctuation"},"{"),e(`
    `),t("span",{class:"token keyword"},"return"),e(`
  `),t("span",{class:"token punctuation"},"}"),e(`

  tagSelectData`),t("span",{class:"token punctuation"},"."),e("value"),t("span",{class:"token punctuation"},"."),t("span",{class:"token function"},"splice"),t("span",{class:"token punctuation"},"("),e("index"),t("span",{class:"token punctuation"},","),e(),t("span",{class:"token number"},"1"),t("span",{class:"token punctuation"},","),e(" data"),t("span",{class:"token punctuation"},")"),e(`
`),t("span",{class:"token punctuation"},"}"),e(`
`)])]),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("script")]),t("span",{class:"token punctuation"},">")]),e(`

`),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"<"),e("style")]),e(),t("span",{class:"token attr-name"},"scoped"),e(),t("span",{class:"token attr-name"},"lang"),t("span",{class:"token attr-value"},[t("span",{class:"token punctuation attr-equals"},"="),t("span",{class:"token punctuation"},'"'),e("less"),t("span",{class:"token punctuation"},'"')]),t("span",{class:"token punctuation"},">")]),t("span",{class:"token style"}),t("span",{class:"token tag"},[t("span",{class:"token tag"},[t("span",{class:"token punctuation"},"</"),e("style")]),t("span",{class:"token punctuation"},">")]),e(`
`)])])],-1);function Xe(a,s,n,o,p,m){const r=N("raw-demo"),d=vt;return _(),K(d,{packageName:"pro",componentName:"tag-select",demoName:"ConfirmBeforeSelect",code:"%3Ctemplate%3E%0A%20%20%3CIxSpace%20vertical%3E%0A%20%20%20%20%3CIxProTagSelect%0A%20%20%20%20%20%20v-model%3Avalue%3D%22selectedValue%22%0A%20%20%20%20%20%20placeholder%3D%22%E8%AF%B7%E9%80%89%E6%8B%A9%E6%A0%87%E7%AD%BE%22%0A%20%20%20%20%20%20%3AdataSource%3D%22tagSelectData%22%0A%20%20%20%20%20%20%3AonTagDataRemove%3D%22handleTagDataRemove%22%0A%20%20%20%20%20%20%3AonTagDataAdd%3D%22handleTagDataAdd%22%0A%20%20%20%20%20%20%3AonTagDataChange%3D%22handleTagDataChange%22%0A%20%20%20%20%20%20%3AconfirmBeforeSelect%3D%22forceConfirmSelect%20%3F%20'force'%20%3A%20true%22%0A%20%20%20%20%20%20selectConfirmHeader%3D%22%E7%A1%AE%E5%AE%9A%22%0A%20%20%20%20%20%20style%3D%22width%3A%20336px%22%0A%20%20%20%20%3E%0A%20%20%20%20%20%20%3Ctemplate%20%23removeConfirmTitle%3D%22%7B%20label%20%7D%22%3E%20%E7%A1%AE%E5%AE%9A%E5%88%A0%E9%99%A4%E2%80%9C%7B%7B%20label%20%7D%7D%E2%80%9D%E6%A0%87%E7%AD%BE%E5%90%97%EF%BC%9F%20%3C%2Ftemplate%3E%0A%20%20%20%20%20%20%3Ctemplate%20%23removeConfirmContent%3E%20%E6%93%8D%E4%BD%9C%E8%AF%B4%E6%98%8E%20%3C%2Ftemplate%3E%0A%20%20%20%20%20%20%3Ctemplate%20%23selectConfirmContent%3D%22%7B%20label%20%7D%22%3E%20%E7%A1%AE%E5%AE%9A%E9%80%89%E6%8B%A9%E2%80%9C%7B%7B%20label%20%7D%7D%E2%80%9D%E6%A0%87%E7%AD%BE%E5%90%97%EF%BC%9F%20%3C%2Ftemplate%3E%0A%20%20%20%20%3C%2FIxProTagSelect%3E%0A%20%20%20%20%3CIxSpace%3E%0A%20%20%20%20%20%20%3Cspan%3Eforce%3A%20%3C%2Fspan%3E%0A%20%20%20%20%20%20%3CIxSwitch%20v-model%3Achecked%3D%22forceConfirmSelect%22%20%2F%3E%0A%20%20%20%20%3C%2FIxSpace%3E%0A%20%20%3C%2FIxSpace%3E%0A%3C%2Ftemplate%3E%0A%0A%3Cscript%20setup%20lang%3D%22ts%22%3E%0Aimport%20%7B%20ref%20%7D%20from%20'vue'%0A%0Aimport%20%7B%20TagSelectData%20%7D%20from%20'%40idux%2Fpro%2Ftag-select'%0A%0Aconst%20forceConfirmSelect%20%3D%20ref(false)%0Aconst%20selectedValue%20%3D%20ref%3Cstring%5B%5D%3E(%5B%5D)%0Aconst%20tagSelectData%20%3D%20ref%3CTagSelectData%5B%5D%3E(%5B%0A%20%20%7B%0A%20%20%20%20key%3A%20'emphasis'%2C%0A%20%20%20%20label%3A%20'%E9%87%8D%E7%82%B9%E5%85%B3%E6%B3%A8'%2C%0A%20%20%20%20color%3A%20'yellow'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'alarm'%2C%0A%20%20%20%20label%3A%20'%E5%91%8A%E8%AD%A6%E6%A0%87%E7%AD%BE'%2C%0A%20%20%20%20color%3A%20'blue'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'track'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E8%BF%BD%E8%B8%AA'%2C%0A%20%20%20%20color%3A%20'blue'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'care-and-track'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E5%85%B3%E6%B3%A8%E5%B9%B6%E8%BF%BD%E8%B8%AA'%2C%0A%20%20%20%20color%3A%20'green'%2C%0A%20%20%7D%2C%0A%20%20%7B%0A%20%20%20%20key%3A%20'keeps-alarm'%2C%0A%20%20%20%20label%3A%20'%E6%8C%81%E7%BB%AD%E5%91%8A%E8%AD%A6'%2C%0A%20%20%20%20color%3A%20'red'%2C%0A%20%20%7D%2C%0A%5D)%0A%0Aconst%20handleTagDataRemove%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20tagSelectData.value%20%3D%20tagSelectData.value.filter(d%20%3D%3E%20d.key%20!%3D%3D%20data.key)%0A%7D%0Aconst%20handleTagDataAdd%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20tagSelectData.value.push(data)%0A%7D%0Aconst%20handleTagDataChange%20%3D%20(data%3A%20TagSelectData)%20%3D%3E%20%7B%0A%20%20const%20index%20%3D%20tagSelectData.value.findIndex(d%20%3D%3E%20d.key%20%3D%3D%3D%20data.key)%0A%20%20if%20(index%20%3C%200)%20%7B%0A%20%20%20%20return%0A%20%20%7D%0A%0A%20%20tagSelectData.value.splice(index%2C%201%2C%20data)%0A%7D%0A%3C%2Fscript%3E%0A%0A%3Cstyle%20scoped%20lang%3D%22less%22%3E%3C%2Fstyle%3E%0A",title:a.lang==="zh"?"选择前确认":"Confirm before select"},{description:B(()=>[a.lang==="zh"?(_(),V("p",je,"选择前通过浮层确认选项的创建。")):X("",!0),a.lang==="en"?(_(),V("p",Ue,"Confirm via an popper before select.")):X("",!0)]),rawCode:B(()=>[i(r)]),highlightCode:B(()=>[We]),_:1},8,["title"])}const Ye=j(Ke,[["render",Xe]]),Je={},Qe={class:"markdown site-doc-api"},Ze=t("h3",{id:"IxProTagSelect"},[t("span",null,"IxProTagSelect"),t("a",{onclick:"window.location.hash = 'IxProTagSelect'",class:"anchor"},"#")],-1),ta=t("h4",{id:"ProTagSelectProps"},[t("span",null,"ProTagSelectProps"),t("a",{onclick:"window.location.hash = 'ProTagSelectProps'",class:"anchor"},"#")],-1),ea=tt(`<table><thead><tr><th>名称</th><th>说明</th><th>类型</th><th>默认值</th><th>全局配置</th><th>备注</th></tr></thead><tbody><tr><td><code>control</code></td><td>控件控制器</td><td><code>string | number | (string | number)[] | AbstractControl</code></td><td>-</td><td>-</td><td>配合 <code>@idux/cdk/forms</code> 使用, 参考 <a href="/components/form/zh">Form</a></td></tr><tr><td><code>v-model:value</code></td><td>当前选中的 tag 的值</td><td><code>(string | number | symbol)[]</code></td><td>-</td><td>-</td><td>使用 <code>control</code> 时，此配置无效</td></tr><tr><td><code>v-model:open</code></td><td>下拉菜单是否展开</td><td><code>boolean</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>colors</code></td><td>标签颜色列表</td><td><code>TagSelectColor[]</code></td><td>-</td><td>-</td><td>不提供则使用内置的颜色列表，颜色色值可以通过主题自定义</td></tr><tr><td><code>clearable</code></td><td>是否可清除</td><td><code>boolean</code></td><td><code>false</code></td><td>-</td><td>-</td></tr><tr><td><code>clearIcon</code></td><td>设置清除图标</td><td><code>string | #clearIcon</code></td><td><code>&#39;close-circle&#39;</code></td><td>-</td><td>-</td></tr><tr><td><code>dataSource</code></td><td>可选择的标签数据</td><td><code>TagSelectData[]</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>dataEditable</code></td><td>标签数据是否可以编辑</td><td><code>boolean</code></td><td><code>true</code></td><td>-</td><td>配置true则可以在下拉面板的选项末尾点击编辑图标进行编辑</td></tr><tr><td><code>disabled</code></td><td>是否禁用</td><td><code>boolean</code></td><td><code>false</code></td><td>-</td><td>-</td></tr><tr><td><code>confirmBeforeSelect</code></td><td>是否在选择标签之后需要确认</td><td><code>boolean | &#39;force&#39;</code></td><td><code>false</code></td><td>-</td><td>配置true或者force时，选择标签后会弹出一个浮层进行确定或者取消，配置force则强制必须确定或者取消才能进行下一步</td></tr><tr><td><code>createdTagDataModifier</code></td><td>修改创建的标签数据</td><td><code>(data: TagSelectData) =&gt; TagSelectData</code></td><td>-</td><td>-</td><td>标签创建时，会随机选择一个内置的颜色，可以通过该函数修改内部创建的数据</td></tr><tr><td><code>maxTags</code></td><td>选择框内展示的标签最大数量</td><td><code>number | &#39;responsive&#39;</code></td><td><code>Number.MAX_SAFE_INTEGER</code></td><td>-</td><td>-</td></tr><tr><td><code>tagsLimit</code></td><td>可以选择的标签最大数量</td><td><code>number</code></td><td><code>Number.MAX_SAFE_INTEGER</code></td><td>-</td><td>-</td></tr><tr><td><code>tagDataLimit</code></td><td>面板中允许的最大标签数据量</td><td><code>number</code></td><td><code>Number.MAX_SAFE_INTEGER</code></td><td>-</td><td>超出后不允许添加标签，并且会显示提示</td></tr><tr><td><code>overlayClassName</code></td><td>下拉菜单的 <code>class</code></td><td><code>string</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>overlayContainer</code></td><td>自定义下拉框容器节点</td><td><code>string | HTMLElement | (trigger?: Element) =&gt; string | HTMLElement</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>overlayMatchWidth</code></td><td>下拉菜单和选择器同宽</td><td><code>boolean | &#39;minWidth&#39;</code></td><td><code>true</code></td><td>-</td><td>-</td></tr><tr><td><code>placeholder</code></td><td>选择框默认文本</td><td><code>string | #placeholder</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>readonly</code></td><td>只读模式</td><td><code>boolean</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>removeConfirmHeader</code></td><td>删除标签的确认弹窗头部配置</td><td><code>string | HeaderProps</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>removeConfirmTitle</code></td><td>删除标签的确认弹窗title</td><td><code>string | VNode | (() =&gt; VNodeChild)</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>size</code></td><td>设置选择器大小</td><td><code>&#39;sm&#39; | &#39;md&#39; | &#39;lg&#39;</code></td><td><code>md</code></td><td>-</td><td>-</td></tr><tr><td><code>status</code></td><td>手动指定校验状态</td><td><code>valid | invalid | validating</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>suffix</code></td><td>设置后缀图标</td><td><code>string | #suffix</code></td><td><code>down</code></td><td>-</td><td>-</td></tr><tr><td><code>onClear</code></td><td>清除图标被点击后的回调</td><td><code>(evt: MouseEvent) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onChange</code></td><td>选中值发生改变后的回调</td><td><code>(value: (string | number | symbol)[] | undefined, oldValue: (string | number | symbol)[] | undefined) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onFocus</code></td><td>获取焦点后的回调</td><td><code>(evt: FocusEvent) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onBlur</code></td><td>失去焦点后的回调</td><td><code>(evt: FocusEvent) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagDataChange</code></td><td>标签数据编辑之后的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagDataRemove</code></td><td>标签数据删除之后的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagDataAdd</code></td><td>标签数据创建添加之后的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagSelect</code></td><td>标签选择触发之后的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagSelectConfirm</code></td><td>标签选择之后确认的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagSelectCancel</code></td><td>标签选择之后取消的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr><tr><td><code>onTagRemove</code></td><td>选择的标签被移除之后的回调</td><td><code>(data: TagSelectData) =&gt; void</code></td><td>-</td><td>-</td><td>-</td></tr></tbody></table><pre class="language-ts"><code><span class="token keyword">interface</span> <span class="token class-name">TagSelectColor</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> VKey
  name<span class="token operator">:</span> <span class="token builtin">string</span>
  labelColor<span class="token operator">:</span> <span class="token builtin">string</span>
  backgroundColor<span class="token operator">:</span> <span class="token builtin">string</span>
  borderColor<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>

<span class="token keyword">interface</span> <span class="token class-name">TagSelectData</span> <span class="token punctuation">{</span>
  key<span class="token operator">:</span> VKey
  label<span class="token operator">:</span> <span class="token builtin">string</span>
  color<span class="token operator">:</span> VKey <span class="token operator">|</span> TagSelectColor
  disabled<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">boolean</span>

  <span class="token punctuation">[</span>key<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token builtin">any</span>
<span class="token punctuation">}</span></code></pre>`,2),aa=t("h4",{id:"ProTagSelectSlots"},[t("span",null,"ProTagSelectSlots"),t("a",{onclick:"window.location.hash = 'ProTagSelectSlots'",class:"anchor"},"#")],-1),na=tt("<table><thead><tr><th>名称</th><th>说明</th><th>参数类型</th><th>备注</th></tr></thead><tbody><tr><td><code>clearIcon</code></td><td>自定义清除图标</td><td>-</td><td>-</td></tr><tr><td><code>suffix</code></td><td>自定义选择框的后缀</td><td>-</td><td>-</td></tr><tr><td><code>selectedLabel</code></td><td>自定义选中标签的文本内容</td><td><code>TagSelectData</code></td><td>-</td></tr><tr><td><code>overflowedLabel</code></td><td>自定义超出最多显示多少个标签的内容</td><td><code>TagSelectData[]</code></td><td>参数为超出的数组</td></tr><tr><td><code>tagLabel</code></td><td>自定义面板中标签的文本内容</td><td><code>TagSelectData</code></td><td>-</td></tr><tr><td><code>optionLabel</code></td><td>自定义面板中选项的内容</td><td><code>TagSelectData</code></td><td>-</td></tr><tr><td><code>maxExceededAlert</code></td><td>自定义选中的标签超出最大限制时的告警提示</td><td>-</td><td>-</td></tr><tr><td><code>placeholder</code></td><td>自定义占位符</td><td>-</td><td>-</td></tr><tr><td><code>selectConfirmContent</code></td><td>自定义选中标签时的确认浮层内容</td><td><code>TagSelectData</code></td><td>-</td></tr><tr><td><code>removeConfirmTitle</code></td><td>自定义移除标签数据时的确认弹窗title</td><td><code>TagSelectData</code></td><td>-</td></tr><tr><td><code>removeConfirmContent</code></td><td>自定义移除标签数据时的确认弹窗内容</td><td><code>TagSelectData</code></td><td>-</td></tr></tbody></table>",1),oa=t("h4",{id:"ProTagSelectMethods"},[t("span",null,"ProTagSelectMethods"),t("a",{onclick:"window.location.hash = 'ProTagSelectMethods'",class:"anchor"},"#")],-1),sa=tt("<table><thead><tr><th>名称</th><th>说明</th><th>参数类型</th><th>备注</th></tr></thead><tbody><tr><td><code>blur</code></td><td>失去焦点</td><td>-</td><td>-</td></tr><tr><td><code>focus</code></td><td>获取焦点</td><td>-</td><td>-</td></tr></tbody></table>",1);function ca(a,s){const n=rt,o=Q;return _(),V("section",Qe,[i(o,{class:"site-anchor",affix:"",offset:16},{default:B(()=>[i(n,{href:"#IxProTagSelect",title:"IxProTagSelect"},{default:B(()=>[i(n,{href:"#ProTagSelectProps",title:"ProTagSelectProps"}),i(n,{href:"#ProTagSelectSlots",title:"ProTagSelectSlots"}),i(n,{href:"#ProTagSelectMethods",title:"ProTagSelectMethods"})]),_:1})]),_:1}),Ze,ta,ea,aa,na,oa,sa])}const la=j(Je,[["render",ca]]),ra={},da={class:"markdown site-doc-design"},pa=t("h3",{id:"使用场景"},[t("span",null,"使用场景"),t("a",{onclick:"window.location.hash = '使用场景'",class:"anchor"},"#")],-1);function ua(a,s){const n=rt,o=Q;return _(),V("section",da,[i(o,{class:"site-anchor",affix:"",offset:16},{default:B(()=>[i(n,{href:"#使用场景",title:"使用场景"})]),_:1}),pa])}const ia=j(ra,[["render",ua]]),ka={},ga={class:"markdown site-doc-theme"},ma=tt("<table><thead><tr><th>名称</th><th>描述</th><th>类型</th><th>default</th><th>dark</th></tr></thead><tbody><tr><td><code>colorIndicatorSize</code></td><td>颜色指示圆圈的尺寸</td><td><code>number</code></td><td><code>12</code></td><td><code>12</code></td></tr><tr><td><code>editPanelMinWidth</code></td><td>编辑面板的最小宽度</td><td><code>number</code></td><td><code>225</code></td><td><code>225</code></td></tr><tr><td><code>panelMaxHeight</code></td><td>数据面板的最大高度</td><td><code>number</code></td><td><code>256</code></td><td><code>256</code></td></tr><tr><td><code>presetColorBlueBg</code></td><td>预设蓝色背景色</td><td><code>string</code></td><td><code>rgb(232, 241, 255)</code></td><td><code>rgb(21, 36, 58)</code></td></tr><tr><td><code>presetColorBlueLabel</code></td><td>预设蓝色文字色</td><td><code>string</code></td><td><code>#1c6eff</code></td><td><code>#4083E8</code></td></tr><tr><td><code>presetColorGreenBg</code></td><td>预设绿色背景色</td><td><code>string</code></td><td><code>rgb(235, 249, 232)</code></td><td><code>rgb(25, 47, 23)</code></td></tr><tr><td><code>presetColorGreenLabel</code></td><td>预设绿色文字色</td><td><code>string</code></td><td><code>#39c317</code></td><td><code>#56BD37</code></td></tr><tr><td><code>presetColorGreyBg</code></td><td>预设灰色背景色</td><td><code>string</code></td><td><code>rgb(246, 246, 247)</code></td><td><code>rgb(24, 27, 32)</code></td></tr><tr><td><code>presetColorGreyLabel</code></td><td>预设灰色文字色</td><td><code>string</code></td><td><code>#a1a7b3</code></td><td><code>#525966</code></td></tr><tr><td><code>presetColorOrangeBg</code></td><td>预设橙色背景色</td><td><code>string</code></td><td><code>rgb(255, 241, 232)</code></td><td><code>rgb(54, 36, 25)</code></td></tr><tr><td><code>presetColorOrangeLabel</code></td><td>预设橙色文字色</td><td><code>string</code></td><td><code>#fa721b</code></td><td><code>#E88641</code></td></tr><tr><td><code>presetColorRedBg</code></td><td>预设红色背景色</td><td><code>string</code></td><td><code>rgb(254, 233, 233)</code></td><td><code>rgb(54, 26, 27)</code></td></tr><tr><td><code>presetColorRedLabel</code></td><td>预设红色文字色</td><td><code>string</code></td><td><code>#f52727</code></td><td><code>#E8514C</code></td></tr><tr><td><code>presetColorYellowBg</code></td><td>预设黄色背景色</td><td><code>string</code></td><td><code>rgb(254, 251, 232)</code></td><td><code>rgb(54, 52, 24)</code></td></tr><tr><td><code>presetColorYellowLabel</code></td><td>预设黄色文字色</td><td><code>string</code></td><td><code>#f8d81a</code></td><td><code>#E8D43E</code></td></tr><tr><td><code>tagHeight</code></td><td>标签的高度</td><td><code>number</code></td><td><code>20</code></td><td><code>20</code></td></tr></tbody></table>",1);function va(a,s){const n=Q;return _(),V("section",ga,[i(n,{class:"site-anchor",affix:"",offset:16}),ma])}const fa=j(ka,[["render",va]]),Ca={name:"DocsProTag-select",components:{DemoBasic:Ge,DemoConfirmBeforeSelect:Ye,ApiDocs:la,DesignDocs:ia,ThemeDocs:fa},setup(){var m;const a=te(),s=ee(),n=R((m=a.query.tab)!=null?m:"demo");q(n,r=>{s.push({query:{tab:r}})});const o=[{label:"示例",value:"demo"},{label:"API",value:"api"},,{label:"指南",value:"design"},{label:"主题",value:"theme"}].filter(Boolean),p=R(!1);return{checkedDoc:n,docRadioData:o,showDevDemo:p}}},ha={class:"site-doc-wrapper"},Da={class:"markdown site-doc-header"},Aa=t("h1",null,[e("ProTagSelect"),t("span",{class:"subtitle"},"标签选择")],-1),ya=t("div",{class:"markdown site-doc-description"},null,-1),Ta={class:"site-doc-demo"};function ba(a,s,n,o,p,m){const r=Yt,d=rt,k=Q,v=N("DemoBasic"),A=N("DemoConfirmBeforeSelect"),f=N("ApiDocs"),u=N("DesignDocs"),C=N("ThemeDocs");return _(),V("article",ha,[t("section",Da,[Aa,ya,i(r,{value:o.checkedDoc,"onUpdate:value":s[0]||(s[0]=y=>o.checkedDoc=y),dataSource:o.docRadioData,size:"lg",gap:"16px",mode:"primary",buttoned:""},null,8,["value","dataSource"])]),U(t("section",Ta,[i(k,{class:"site-anchor",affix:"",offset:16},{default:B(()=>[(o.showDevDemo,_(),K(d,{key:0,href:"#pro-tag-select-basic",title:"基本使用"})),(o.showDevDemo,_(),K(d,{key:1,href:"#pro-tag-select-confirm-before-select",title:"选择前确认"}))]),_:1}),i(v),i(A)],512),[[W,o.checkedDoc==="demo"]]),U(i(f,null,null,512),[[W,o.checkedDoc==="api"]]),U(i(u,null,null,512),[[W,o.checkedDoc==="design"]]),U(i(C,null,null,512),[[W,o.checkedDoc==="theme"]])])}const Oa=j(Ca,[["render",ba]]);export{Oa as default};
