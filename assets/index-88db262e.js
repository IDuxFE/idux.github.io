import{u as b,ab as $,af as x}from"./index-42aa140a.js";import{v as w,e as r,y as o,J as C,z as y}from"./vendor-6c4e542b.js";/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const S={color:{type:String},count:{type:[String,Number],default:0},dot:{type:[Boolean,String],default:void 0},overflowCount:{type:[String,Number]},showZero:{type:Boolean,default:void 0},status:{type:String,default:"error"},processing:{type:Boolean,default:!1},title:{type:String}},N={count:{type:Number,required:!0},dot:{type:Boolean,required:!0},overflowCount:{type:Number,required:!0},prefixCls:{type:String,required:!0},showZero:{type:Boolean,required:!0},status:{type:String,required:!0},text:{type:String},title:{type:String}},B=w({name:"IxBadgeSub",props:N,setup(e,{slots:s}){const c=r(()=>e.count.toString().split("").map(n=>+n)),i=r(()=>e.overflowCount.toString().split("")),d=r(()=>{const{prefixCls:n,dot:a}=e;return y({[`${n}-sub`]:!0,[`${n}-dot`]:a,[`${n}-count`]:!a,[`${n}-count-multiple`]:!a&&c.value.length>1})});return()=>{const{prefixCls:n,dot:a,text:l}=e;if(a||l)return o(C,{name:`${n}-sub`,appear:!0},{default:()=>[o("sup",{class:d.value,title:e.title},[l&&o("span",{class:`${n}-sub-text`},[l])])]});const u=e.count,{title:f=u,showZero:m,overflowCount:p}=e;let t;return s.default?t=s.default():(u!==0||m)&&(t=Z(n,u,p,c,i)),o(C,{name:`${n}-sub`,appear:!0},{default:()=>[t&&o("sup",{class:d.value,title:f},[o("span",{class:`${n}-count-track-wrapper`},[t])])]})}}}),h=[0,1,2,3,4,5,6,7,8,9];function Z(e,s,c,i,d){if(s>c)return`${c}+`;const n=i.value;return d.value.map((a,l)=>{const u=n[l];if(u!==void 0)return o("span",{key:l,class:`${e}-count-track`,style:`transform: translateY(${-u*100}%);`},[h.map(f=>{const m=y({[`${e}-count-unit`]:!0,[`${e}-count-current`]:f===u});return o("span",{key:f,class:m},[f])})])})}const q=w({name:"IxBadge",props:S,setup(e,{slots:s}){const c=b("common"),i=b("badge"),d=r(()=>`${c.prefixCls}-badge`),n=r(()=>e.dot??i.dot),a=r(()=>e.showZero??i.showZero),l=r(()=>Math.max(0,$(e.count,0))),u=r(()=>Math.max(0,$(e.overflowCount??i.overflowCount,Number.MAX_VALUE))),f=r(()=>{const{count:t}=e;return x(t)?void 0:t}),m=r(()=>{const t=d.value,{status:g,processing:v}=e;return y({[t]:!0,[`${t}-${g}`]:!0,[`${t}-processing`]:v})}),p=r(()=>{const{color:t}=e;return t?`background-color: ${t}`:void 0});return()=>{const t=n.value,g=d.value,v=s.default&&s.default();return o("span",{class:m.value},[t==="inline"&&o("span",{class:`${g}-dot`,style:p.value},null),v&&o("span",{class:`${g}-content`},[v]),t!=="inline"&&o(B,{style:p.value,count:l.value,dot:t,overflowCount:u.value,prefixCls:g,showZero:a.value,status:e.status,text:f.value,title:e.title},{default:s.count})])}}});/**
 * @license
 *
 * Use of this source code is governed by an MIT-style license that can be
 * found in the LICENSE file at https://github.com/IDuxFE/idux/blob/main/LICENSE
 */const I=q;export{I};
